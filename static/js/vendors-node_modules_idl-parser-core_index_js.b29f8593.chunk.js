/*! For license information please see vendors-node_modules_idl-parser-core_index_js.b29f8593.chunk.js.LICENSE.txt */
(globalThis.webpackChunkidl_parser=globalThis.webpackChunkidl_parser||[]).push([["vendors-node_modules_idl-parser-core_index_js"],{879:(e,t)=>{"use strict";const r="undefined"!==typeof BigUint64Array,n=Symbol(),i=1024;function o(e,t){const r=new Uint32Array(e),n=new Uint16Array(e);var o=r[t+-4>>>2]>>>1,s=t>>>1;if(o<=i)return String.fromCharCode.apply(String,n.subarray(s,s+o));const a=[];do{const e=n[s+i-1],t=e>=55296&&e<56320?1023:i;a.push(String.fromCharCode.apply(String,n.subarray(s,s+=t))),o-=t}while(o>i);return a.join("")+String.fromCharCode.apply(String,n.subarray(s,s+o))}function s(e){const t={};function r(e,t){return e?o(e.buffer,t):"<yet unknown>"}const n=e.env=e.env||{};return n.abort=n.abort||function(e,i,o,s){const a=t.memory||n.memory;throw Error("abort: "+r(a,e)+" at "+r(a,i)+":"+o+":"+s)},n.trace=n.trace||function(e,i){const o=t.memory||n.memory;console.log("trace: "+r(o,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function a(e,t){const n=t.exports,i=n.memory,s=n.table,a=n.__alloc,c=n.__retain,u=n.__rtti_base||-1;function l(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[u>>>2])throw Error("invalid id: "+e);return t[(u+4>>>2)+2*e]}function d(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[u>>>2])throw Error("invalid id: "+e);return t[(u+4>>>2)+2*e+1]}function f(e){return 31-Math.clz32(e>>>5&31)}function p(e,t,r){const n=i.buffer;if(r)switch(e){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(n);case 1:return new(t?Int16Array:Uint16Array)(n);case 2:return new(t?Int32Array:Uint32Array)(n);case 3:return new(t?BigInt64Array:BigUint64Array)(n)}throw Error("unsupported align: "+e)}function g(e){const t=new Uint32Array(i.buffer),r=t[e+-8>>>2],n=l(r);if(!(1&n))throw Error("not an array: "+r);const o=f(n);var s=t[e+4>>>2];const a=2&n?t[e+12>>>2]:t[s+-4>>>2]>>>o;return p(o,1024&n,2048&n).subarray(s>>>=o,s+a)}function y(e,t,r){return new e(m(e,t,r))}function m(e,t,r){const n=i.buffer,o=new Uint32Array(n),s=o[r+4>>>2];return new e(n,s,o[s+-4>>>2]>>>t)}return e.__allocString=function(e){const t=e.length,r=a(t<<1,1),n=new Uint16Array(i.buffer);for(var o=0,s=r>>>1;o<t;++o)n[s+o]=e.charCodeAt(o);return r},e.__getString=function(e){const t=i.buffer;if(1!==new Uint32Array(t)[e+-8>>>2])throw Error("not a string: "+e);return o(t,e)},e.__allocArray=function(e,t){const r=l(e);if(!(3&r))throw Error("not an array: "+e+" @ "+r);const n=f(r),o=t.length,s=a(o<<n,0),u=a(2&r?16:12,e),h=new Uint32Array(i.buffer);h[u+0>>>2]=c(s),h[u+4>>>2]=s,h[u+8>>>2]=o<<n,2&r&&(h[u+12>>>2]=o);const d=p(n,1024&r,2048&r);if(8192&r)for(let i=0;i<o;++i)d[(s>>>n)+i]=c(t[i]);else d.set(t,s>>>n);return u},e.__getArrayView=g,e.__getArray=function(e){const t=g(e),r=t.length,n=new Array(r);for(let i=0;i<r;i++)n[i]=t[i];return n},e.__getArrayBuffer=function(e){const t=i.buffer,r=new Uint32Array(t)[e+-4>>>2];return t.slice(e,e+r)},e.__getInt8Array=y.bind(null,Int8Array,0),e.__getInt8ArrayView=m.bind(null,Int8Array,0),e.__getUint8Array=y.bind(null,Uint8Array,0),e.__getUint8ArrayView=m.bind(null,Uint8Array,0),e.__getUint8ClampedArray=y.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=m.bind(null,Uint8ClampedArray,0),e.__getInt16Array=y.bind(null,Int16Array,1),e.__getInt16ArrayView=m.bind(null,Int16Array,1),e.__getUint16Array=y.bind(null,Uint16Array,1),e.__getUint16ArrayView=m.bind(null,Uint16Array,1),e.__getInt32Array=y.bind(null,Int32Array,2),e.__getInt32ArrayView=m.bind(null,Int32Array,2),e.__getUint32Array=y.bind(null,Uint32Array,2),e.__getUint32ArrayView=m.bind(null,Uint32Array,2),r&&(e.__getInt64Array=y.bind(null,BigInt64Array,3),e.__getInt64ArrayView=m.bind(null,BigInt64Array,3),e.__getUint64Array=y.bind(null,BigUint64Array,3),e.__getUint64ArrayView=m.bind(null,BigUint64Array,3)),e.__getFloat32Array=y.bind(null,Float32Array,2),e.__getFloat32ArrayView=m.bind(null,Float32Array,2),e.__getFloat64Array=y.bind(null,Float64Array,3),e.__getFloat64ArrayView=m.bind(null,Float64Array,3),e.__instanceof=function(e,t){const r=new Uint32Array(i.buffer);var n=r[e+-8>>>2];if(n<=r[u>>>2])do{if(n==t)return!0}while(n=d(n));return!1},e.memory=e.memory||i,e.table=e.table||s,h(n,e)}function c(e){return"undefined"!==typeof Response&&e instanceof Response}async function u(e,t){return c(e=await e)?l(e,t):a(s(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}async function l(e,t){return WebAssembly.instantiateStreaming?a(s(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):u(c(e=await e)?e.arrayBuffer():e,t)}function h(e,t){var r=t?Object.create(t):{},i=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){};for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;const t=e[o];let s=o.split("."),a=r;for(;s.length>1;){let e=s.shift();Object.prototype.hasOwnProperty.call(a,e)||(a[e]={}),a=a[e]}let c=s[0],u=c.indexOf("#");if(u>=0){let r=c.substring(0,u),s=a[r];if("undefined"===typeof s||!s.prototype){let e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.wrap(e.prototype.constructor(0,...r))};e.prototype={valueOf:function(){return this[n]}},e.wrap=function(t){return Object.create(e.prototype,{[n]:{value:t,writable:!1}})},s&&Object.getOwnPropertyNames(s).forEach((t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t)))),a[r]=e}if(c=c.substring(u+1),a=a[r].prototype,/^(get|set):/.test(c)){if(!Object.prototype.hasOwnProperty.call(a,c=c.substring(4))){let t=e[o.replace("set:","get:")],r=e[o.replace("get:","set:")];Object.defineProperty(a,c,{get:function(){return t(this[n])},set:function(e){r(this[n],e)},enumerable:!0})}}else"constructor"===c?(a[c]=function(){return i(arguments.length),t(...arguments)}).original=t:(a[c]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i(r.length),t(this[n],...r)}).original=t}else/^(get|set):/.test(c)?Object.prototype.hasOwnProperty.call(a,c=c.substring(4))||Object.defineProperty(a,c,{get:e[o.replace("set:","get:")],set:e[o.replace("get:","set:")],enumerable:!0}):"function"===typeof t&&t!==i?(a[c]=function(){return i(arguments.length),t(...arguments)}).original=t:a[c]=t}return r}t.instantiate=u,t.instantiateSync=function(e,t){return a(s(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))},t.instantiateStreaming=l,t.demangle=h},47411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3930),i=r(40075);class o{constructor(e){this.payer=e}static local(){const e=r(26477),t=i.Keypair.fromSecretKey(n.Buffer.from(JSON.parse(r(3353).readFileSync(e.env.ANCHOR_WALLET,{encoding:"utf-8"}))));return new o(t)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}t.default=o},99882:e=>{"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(a){o&&(o=!1,s(a))}}))}},79813:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=n[u>>2],i=(3&u)<<4,c=1;break;case 1:s[a++]=n[i|u>>4],i=(15&u)<<2,c=2;break;case 2:s[a++]=n[i|u>>6],s[a++]=n[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=n[i],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},4928:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},35103:e=>{"use strict";function t(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},82825:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},32492:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},66232:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296===(64512&n)&&56320===(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},80420:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataLoader=void 0;const i=r(71098),o=new Map;class s{static getSingleFlight(){if(this.singleInstance)return this.singleInstance;let e=new a;return this.singleInstance=e,e}static load(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(this,void 0,void 0,(function*(){"object"===typeof e&&(e=JSON.stringify(e));let n=s.getSingleFlight();const o=new i.RequestQueue(e);return n.load(o,t,r)}))}}t.DataLoader=s;class a{constructor(){this.mapRequestCalling=new Map}load(e,t,r){return n(this,void 0,void 0,(function*(){const n=o.get(e.key);if(n&&!r)return n;let i=!1,s=this.mapRequestCalling.get(e.key);return s||(s=e,i=!0,this.mapRequestCalling.set(s.key,s)),new Promise(((e,r)=>{if(!s)return r("Not found request!");s.add(e,r),i&&this.fetch(s,t)}))}))}fetch(e,t){t().then((t=>{o.set(e.key,t),e.resolves(t)})).catch((t=>{o.set(e.key,t),e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key)}))}}},71098:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestQueue=void 0;t.RequestQueue=class{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}},98546:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaExplorer=void 0;const i=r(27948),o=700;t.SolanaExplorer=class{constructor(e){this.conn=e}fetchSignatures(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return n(this,void 0,void 0,(function*(){r>o&&(r=o);const n={limit:r,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,n)}))}fetchConfirmTransaction(e){return n(this,void 0,void 0,(function*(){let t=[];const r=[];for(let i=0;i<=e.length/200;i++){const t=200*i,n=e.slice(t,t+200);r.push(this.conn.getParsedConfirmedTransactions(n))}const n=yield Promise.all(r);for(const e of n)t=t.concat(e);return t}))}fetchTransactions(e,t){return n(this,void 0,void 0,(function*(){const r=(new Date).getTime()/1e3;let{secondFrom:n,secondTo:s,lastSignature:a,limit:c}=t;n=Math.floor(n||0),s=Math.floor(s||r);const u=new i.PublicKey(e);let l=[],h=!1;for(;!h;){const e=yield this.fetchSignatures(u,a,c);if(!(null===e||void 0===e?void 0:e.length)||h)break;for(const t of e){const e=t.blockTime;if(e&&!(e>s)){if(e<n){h=!0;break}a=t.signature,l.push(t.signature)}}if(c&&l.length>=c)break;if((null===e||void 0===e?void 0:e.length)<o)break}return yield this.fetchConfirmTransaction(l)}))}}},50224:function(e,t,r){"use strict";var n=r(73745).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdlParser=t.decodeIxData=t.encodeIxData=t.ixDiscriminator=t.accountDiscriminator=void 0;const o=r(33804),s=r(10119),a=i(r(8511)),c=r(2670),u=i(r(95410)),l=r(31420);t.accountDiscriminator=e=>n.from(s.sha256.digest(`account:${(0,a.default)(e,{pascalCase:!0})}`)).slice(0,8);t.ixDiscriminator=e=>{let t=`global:${(0,c.snakeCase)(e)}`;return n.from(s.sha256.digest(t)).slice(0,8)},t.encodeIxData=u.default.encode,t.decodeIxData=u.default.decode;t.IdlParser=class{constructor(e){var r=this;this.parserAccountData=function(e,i){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!o){const r=(0,t.accountDiscriminator)(e);i=n.concat([r,i])}return r.program.coder.accounts.decode(e,i)},this.parserIxData=function(e,i){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(!r.idl.instructions.find((t=>t.name===e)))return null;if(!s){const r=(0,t.ixDiscriminator)(e);i=n.concat([r,i])}const a=new o.BorshInstructionCoder(r.idl).decode(i);return a?{name:a.name,data:a.data}:null}catch(a){return null}},this.program=(0,l.getRawProgram)(e),this.idl=e}}},4065:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(34609),t),i(r(31420),t),i(r(57727),t),i(r(65348),t),i(r(50224),t),i(r(84770),t),i(r(80420),t),i(r(98546),t)},65348:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IPFS=void 0;const i=r(25447),o=r(32743),s=r(80420);t.IPFS=class{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://api.web3.storage";this.key=e,this.IDL=t,this.endpoint=r,this.decodeCID=e=>{if("string"===typeof e)return e;const t=new Uint8Array([18,32]),r=new Uint8Array(t.length+(null===e||void 0===e?void 0:e.length));r.set(t),r.set(e,t.length);return o.CID.decode(r).toString()},this.provider=new i.Web3Storage({endpoint:new URL(this.endpoint),token:this.key})}get methods(){const e={};for(const t of this.IDL)e[t]={set:e=>this.set(e),get:e=>this.get(e)};return e}set(e){return n(this,void 0,void 0,(function*(){const t=new i.File([JSON.stringify(e)],"file",{type:"application/json"}),r=yield this.provider.put([t]),{multihash:{digest:n}}=o.CID.parse(r);return{cid:r,digest:n}}))}get(e){return n(this,void 0,void 0,(function*(){const t=this.decodeCID(e);return s.DataLoader.load(`ipfs:${t}`,(()=>n(this,void 0,void 0,(function*(){const e=yield this.provider.get(t),r=((yield null===e||void 0===e?void 0:e.files())||[])[0],n=new FileReader;return new Promise(((e,t)=>{try{if(!r)throw new Error("Cannot read empty file");n.onload=()=>{var t;const r=null===(t=n.result)||void 0===t?void 0:t.toString();if(!r)throw new Error("Cannot read empty file");return e(JSON.parse(r))},n.readAsText(r)}catch(i){return t(i.message)}}))}))))}))}}},57727:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountDataSmart=t.getMultipleAccounts=void 0;function n(e,t,n){return r(this,void 0,void 0,(function*(){const r=null!==n&&void 0!==n?n:e.commitment;return(yield e.getMultipleAccountsInfo(t,r)).map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}))}function i(e,t,i){return r(this,void 0,void 0,(function*(){if(t.length<=99)return yield n(e,t,i);{const s=(r=t,o=99,Array.apply(0,new Array(Math.ceil(r.length/o))).map(((e,t)=>r.slice(t*o,(t+1)*o))));return(yield Promise.all(s.map((t=>n(e,t,i))))).flat()}var r,o}))}t.getMultipleAccounts=i;let o=new Array,s=new Map;t.getAccountDataSmart=function(e,t){return r(this,void 0,void 0,(function*(){const{connection:n,publicKey:a,commitment:c="confirmed",debounce:u=500}=e,l=a.toBase58();if(!s.has(l)){const e=new Promise(((e,l)=>{o.length||setTimeout((()=>r(this,void 0,void 0,(function*(){return function(){return r(this,void 0,void 0,(function*(){const e=o;o=[],s=new Map;const r=yield i(n,e.map((e=>e.publicKey)),c);for(let n=0;n<e.length;n++){const i=e[n];try{const e=r[n];if(!(null===e||void 0===e?void 0:e.account.data))throw new Error("Invalid Data");const o=t(null===e||void 0===e?void 0:e.account.data);i.resolve({publicKey:i.publicKey,data:o})}catch(a){i.resolve({publicKey:i.publicKey,data:null})}}}))}()}))),u),o.push({publicKey:a,resolve:e,reject:l})}));s.set(l,e)}return s.get(l)}))}},34609:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMintAndMintTo=void 0;const c=r(27948),u=o(r(87826));t.createMintAndMintTo=function(e,t){let{amount:r,mint:n,dstAddress:i,decimals:o=9}=t,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(void 0,void 0,void 0,(function*(){const t=yield u.initTxCreateMint(e,{mint:n,decimals:o}),a=n.publicKey,l=yield u.initTxCreateTokenAccount(e,{mintAddress:a,owner:i}),h=yield u.initTxMintTo(e,{mintAddress:n.publicKey,amount:r,dstAddress:i}),d=(new c.Transaction).add(t,l,h);let f="";return s&&(f=yield e.sendAndConfirm(d,[n])),{txId:f,transaction:d,signer:[n]}}))},s(r(87826),t)},87826:function(e,t,r){"use strict";var n=r(73745).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initTxCreateMultiTokenAccount=t.initTxCreateTokenAccount=t.initTxCreateMint=t.initTxMintTo=void 0;const o=r(33804),s=r(57727),a=r(31420);t.initTxMintTo=(e,t)=>{let{mintAddress:r,amount:n,dstAddress:s=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),i=(0,a.toPublicKey)(r),c=yield o.utils.token.associatedAddress({mint:i,owner:(0,a.toPublicKey)(s)});return yield t.methods.mintTo(n).accounts({mint:i,to:c,authority:e.wallet.publicKey}).instruction()}))};t.initTxCreateMint=(e,t)=>{let{mint:r,decimals:n=9,mintAuthority:s=e.wallet.publicKey,freezeAuthority:c=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),i=yield t.account.mint.createInstruction(r),u=yield t.methods.initializeMint(n,(0,a.toPublicKey)(s),(0,a.toPublicKey)(c)).accounts({mint:r.publicKey,rent:o.web3.SYSVAR_RENT_PUBKEY}).instruction();return(new o.web3.Transaction).add(i).add(u)}))};t.initTxCreateTokenAccount=(e,t)=>{let{mintAddress:r,owner:s=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=(0,a.toPublicKey)(r),i=(0,a.toPublicKey)(e.wallet.publicKey),c=(0,a.toPublicKey)(s),u=yield o.utils.token.associatedAddress({mint:t,owner:c}),l=new o.web3.TransactionInstruction({keys:[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.utils.token.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o.utils.token.ASSOCIATED_PROGRAM_ID,data:n.from([])});return(new o.web3.Transaction).add(l)}))};t.initTxCreateMultiTokenAccount=(e,r)=>{let{mints:n,owner:c=e.wallet.publicKey}=r;return i(void 0,void 0,void 0,(function*(){const r=(0,a.toPublicKey)(c),u=[],l=[];for(const e of n){const t=(0,a.toPublicKey)(e),n=yield o.utils.token.associatedAddress({mint:t,owner:r});l.push(n)}return(yield(0,s.getMultipleAccounts)(e.connection,l)).forEach(((r,o)=>i(void 0,void 0,void 0,(function*(){if(null!==r)return;const i=yield(0,t.initTxCreateTokenAccount)(e,{mintAddress:n[o],owner:c});u.push(i)})))),u}))}},31420:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getRawProgram=t.getRawAnchorProvider=t.getAnchorProvider=t.toBase58=t.toPublicKey=void 0;const i=r(33804);t.toPublicKey=e=>new i.web3.PublicKey(e);t.toBase58=e=>new i.web3.PublicKey(e).toBase58();t.getAnchorProvider=(e,t,r)=>{const n=new i.web3.Connection(e,"confirmed"),o=new i.web3.PublicKey(t);return new i.AnchorProvider(n,{publicKey:o,signAllTransactions:r.signAllTransactions,signTransaction:r.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawAnchorProvider=()=>{const e=i.web3.clusterApiUrl("mainnet-beta"),t=new i.web3.Connection(e,"confirmed"),r=i.web3.Keypair.generate(),n=new o(r.publicKey);return new i.AnchorProvider(t,{publicKey:n.publicKey,signAllTransactions:n.signAllTransactions,signTransaction:n.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawProgram=e=>{const r=i.web3.Keypair.generate().publicKey,n=(0,t.getRawAnchorProvider)();return new i.Program(e,r,n)};class o{constructor(e){this.publicKey=e}signTransaction(e){return n(this,void 0,void 0,(function*(){throw new Error("Raw Wallet can not sign transaction")}))}signAllTransactions(e){return n(this,void 0,void 0,(function*(){throw new Error("Raw Wallet can not sign all transaction")}))}}t.default=o},84770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilsBN=void 0;const n=r(33804);t.utilsBN={decimalize:(e,t)=>{if(!e)return new n.BN(0);if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");const r=e.toString().split(".");if(r.length>2)throw new Error("Invalid number");return t?1===r.length?new n.BN(e).mul(new n.BN(Math.pow(10,t))):r[1].length>=t?new n.BN(r[0]+r[1].substring(0,t)):new n.BN(r[0]+r[1]+"0".repeat(t-r[1].length)):new n.BN(r[0])},undecimalize:(e,t)=>{if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");if(!e)return"0";const r=e.toString();if(!t)return r;let n=r.length>t?r.substring(0,r.length-t):"0",i="";for(i=r.length>t?r.substring(r.length-t,r.length):r.length===t?r:"0".repeat(t-r.length)+r,i=i.split("");"0"===i[i.length-1];)i.pop();return i=i.join(""),i?n+"."+i:n},toNumber:e=>Number(t.utilsBN.undecimalize(e,0))}},27948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Ht,AddressLookupTableInstruction:()=>xr,AddressLookupTableProgram:()=>Pr,Authorized:()=>Ci,BLOCKHASH_CACHE_TIMEOUT_MS:()=>rn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Rr,BPF_LOADER_PROGRAM_ID:()=>Nr,BpfLoader:()=>jr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Lr,ComputeBudgetInstruction:()=>Ur,ComputeBudgetProgram:()=>zr,Connection:()=>Pi,Ed25519Program:()=>Oi,Enum:()=>zt,EpochSchedule:()=>$r,FeeCalculatorLayout:()=>er,Keypair:()=>Ri,LAMPORTS_PER_SOL:()=>so,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>Er,Loader:()=>Cr,Lockup:()=>Ni,MAX_SEED_LENGTH:()=>Mt,Message:()=>mr,NONCE_ACCOUNT_LENGTH:()=>rr,NonceAccount:()=>nr,PACKET_DATA_SIZE:()=>fr,PublicKey:()=>Wt,SIGNATURE_LENGTH_IN_BYTES:()=>pr,SOLANA_SCHEMA:()=>Dt,STAKE_CONFIG_ID:()=>Ti,STAKE_INSTRUCTION_LAYOUTS:()=>Ui,SYSTEM_INSTRUCTION_LAYOUTS:()=>Ar,SYSVAR_CLOCK_PUBKEY:()=>ir,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>or,SYSVAR_INSTRUCTIONS_PUBKEY:()=>sr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>ar,SYSVAR_RENT_PUBKEY:()=>cr,SYSVAR_REWARDS_PUBKEY:()=>ur,SYSVAR_SLOT_HASHES_PUBKEY:()=>lr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>hr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>dr,Secp256k1Program:()=>Ki,SendTransactionError:()=>Vr,SolanaJSONRPCError:()=>Gr,SolanaJSONRPCErrorCode:()=>Hr,StakeAuthorizationLayout:()=>Li,StakeInstruction:()=>ji,StakeProgram:()=>zi,Struct:()=>Lt,SystemInstruction:()=>Sr,SystemProgram:()=>Ir,Transaction:()=>vr,TransactionExpiredBlockheightExceededError:()=>Zr,TransactionExpiredTimeoutError:()=>Xr,TransactionInstruction:()=>_r,TransactionStatus:()=>wr,VALIDATOR_INFO_KEY:()=>qi,VOTE_PROGRAM_ID:()=>Vi,ValidatorInfo:()=>$i,VoteAccount:()=>Gi,VoteAuthorizationLayout:()=>to,VoteInit:()=>Yi,VoteInstruction:()=>Qi,VoteProgram:()=>ro,clusterApiUrl:()=>oo,sendAndConfirmRawTransaction:()=>no,sendAndConfirmTransaction:()=>Br});var n=r(44967),i=r.n(n),o=r(73745),s=r(48744),a=r.n(s),c=r(7114),u=r.n(c),l=r(21215),h=r(68706),d=r(25047),f=r(54338),p=r(85606),g=r(32908),y=r.n(g),m=r(91747),b=r.n(m),w=r(16348),k=r.n(w);const _=e=>o.Buffer.isBuffer(e)?e:e instanceof Uint8Array?o.Buffer.from(e.buffer,e.byteOffset,e.byteLength):o.Buffer.from(e);var v={},S={},A=I;function I(e,t){if(!e)throw new Error(t||"Assertion failed")}I.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var E={exports:{}};"function"===typeof Object.create?E.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:E.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var x=A,P=E.exports;function R(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function B(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function O(e){return 1===e.length?"0"+e:e}function T(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}S.inherits=P,S.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):R(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},S.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=O(e[r].toString(16));return t},S.htonl=B,S.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=B(i)),r+=T(i.toString(16))}return r},S.zero2=O,S.zero8=T,S.join32=function(e,t,r,n){var i=r-t;x(i%4===0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var c;c="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=c>>>0}return o},S.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},S.rotr32=function(e,t){return e>>>t|e<<32-t},S.rotl32=function(e,t){return e<<t|e>>>32-t},S.sum32=function(e,t){return e+t>>>0},S.sum32_3=function(e,t,r){return e+t+r>>>0},S.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},S.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},S.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},S.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},S.sum64_lo=function(e,t,r,n){return t+n>>>0},S.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},S.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},S.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+a>>>0)<a?1:0,e+r+i+s+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},S.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},S.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},S.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},S.shr64_hi=function(e,t,r){return e>>>r},S.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var C={},N=S,j=A;function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}C.BlockHash=U,U.prototype.update=function(e,t){if(e=N.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=N.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},U.prototype.digest=function(e){return this.update(this._pad()),j(null===this.pending),this._digest(e)},U.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var L={},z={},D=S.rotr32;function M(e,t,r){return e&t^~e&r}function W(e,t,r){return e&t^e&r^t&r}function K(e,t,r){return e^t^r}z.ft_1=function(e,t,r,n){return 0===e?M(t,r,n):1===e||3===e?K(t,r,n):2===e?W(t,r,n):void 0},z.ch32=M,z.maj32=W,z.p32=K,z.s0_256=function(e){return D(e,2)^D(e,13)^D(e,22)},z.s1_256=function(e){return D(e,6)^D(e,11)^D(e,25)},z.g0_256=function(e){return D(e,7)^D(e,18)^e>>>3},z.g1_256=function(e){return D(e,17)^D(e,19)^e>>>10};var q=S,F=C,$=z,V=q.rotl32,H=q.sum32,G=q.sum32_5,J=$.ft_1,Z=F.BlockHash,X=[1518500249,1859775393,2400959708,3395469782];function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}q.inherits(Y,Z);var Q=Y;Y.blockSize=512,Y.outSize=160,Y.hmacStrength=80,Y.padLength=64,Y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=V(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=G(V(i,5),J(u,o,s,a),c,r[n],X[u]);c=a,a=s,s=V(o,30),o=i,i=l}this.h[0]=H(this.h[0],i),this.h[1]=H(this.h[1],o),this.h[2]=H(this.h[2],s),this.h[3]=H(this.h[3],a),this.h[4]=H(this.h[4],c)},Y.prototype._digest=function(e){return"hex"===e?q.toHex32(this.h,"big"):q.split32(this.h,"big")};var ee=S,te=C,re=z,ne=A,ie=ee.sum32,oe=ee.sum32_4,se=ee.sum32_5,ae=re.ch32,ce=re.maj32,ue=re.s0_256,le=re.s1_256,he=re.g0_256,de=re.g1_256,fe=te.BlockHash,pe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ge(){if(!(this instanceof ge))return new ge;fe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=pe,this.W=new Array(64)}ee.inherits(ge,fe);var ye=ge;ge.blockSize=512,ge.outSize=256,ge.hmacStrength=192,ge.padLength=64,ge.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=oe(de(r[n-2]),r[n-7],he(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(ne(this.k.length===r.length),n=0;n<r.length;n++){var d=se(h,le(c),ae(c,u,l),this.k[n],r[n]),f=ie(ue(i),ce(i,o,s));h=l,l=u,u=c,c=ie(a,d),a=s,s=o,o=i,i=ie(d,f)}this.h[0]=ie(this.h[0],i),this.h[1]=ie(this.h[1],o),this.h[2]=ie(this.h[2],s),this.h[3]=ie(this.h[3],a),this.h[4]=ie(this.h[4],c),this.h[5]=ie(this.h[5],u),this.h[6]=ie(this.h[6],l),this.h[7]=ie(this.h[7],h)},ge.prototype._digest=function(e){return"hex"===e?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")};var me=S,be=ye;function we(){if(!(this instanceof we))return new we;be.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}me.inherits(we,be);var ke=we;we.blockSize=512,we.outSize=224,we.hmacStrength=192,we.padLength=64,we.prototype._digest=function(e){return"hex"===e?me.toHex32(this.h.slice(0,7),"big"):me.split32(this.h.slice(0,7),"big")};var _e=S,ve=C,Se=A,Ae=_e.rotr64_hi,Ie=_e.rotr64_lo,Ee=_e.shr64_hi,xe=_e.shr64_lo,Pe=_e.sum64,Re=_e.sum64_hi,Be=_e.sum64_lo,Oe=_e.sum64_4_hi,Te=_e.sum64_4_lo,Ce=_e.sum64_5_hi,Ne=_e.sum64_5_lo,je=ve.BlockHash,Ue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Le(){if(!(this instanceof Le))return new Le;je.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ue,this.W=new Array(160)}_e.inherits(Le,je);var ze=Le;function De(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Me(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function We(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Ke(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function qe(e,t){var r=Ae(e,t,28)^Ae(t,e,2)^Ae(t,e,7);return r<0&&(r+=4294967296),r}function Fe(e,t){var r=Ie(e,t,28)^Ie(t,e,2)^Ie(t,e,7);return r<0&&(r+=4294967296),r}function $e(e,t){var r=Ae(e,t,14)^Ae(e,t,18)^Ae(t,e,9);return r<0&&(r+=4294967296),r}function Ve(e,t){var r=Ie(e,t,14)^Ie(e,t,18)^Ie(t,e,9);return r<0&&(r+=4294967296),r}function He(e,t){var r=Ae(e,t,1)^Ae(e,t,8)^Ee(e,t,7);return r<0&&(r+=4294967296),r}function Ge(e,t){var r=Ie(e,t,1)^Ie(e,t,8)^xe(e,t,7);return r<0&&(r+=4294967296),r}function Je(e,t){var r=Ae(e,t,19)^Ae(t,e,29)^Ee(e,t,6);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Ie(e,t,19)^Ie(t,e,29)^xe(e,t,6);return r<0&&(r+=4294967296),r}Le.blockSize=1024,Le.outSize=512,Le.hmacStrength=192,Le.padLength=128,Le.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Je(r[n-4],r[n-3]),o=Ze(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=He(r[n-30],r[n-29]),u=Ge(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=Oe(i,o,s,a,c,u,l,h),r[n+1]=Te(i,o,s,a,c,u,l,h)}},Le.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],y=this.h[13],m=this.h[14],b=this.h[15];Se(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var k=m,_=b,v=$e(h,d),S=Ve(h,d),A=De(h,d,f,p,g),I=Me(h,d,f,p,g,y),E=this.k[w],x=this.k[w+1],P=r[w],R=r[w+1],B=Ce(k,_,v,S,A,I,E,x,P,R),O=Ne(k,_,v,S,A,I,E,x,P,R);k=qe(n,i),_=Fe(n,i),v=We(n,i,o,s,a),S=Ke(n,i,o,s,a,c);var T=Re(k,_,v,S),C=Be(k,_,v,S);m=g,b=y,g=f,y=p,f=h,p=d,h=Re(u,l,B,O),d=Be(l,l,B,O),u=a,l=c,a=o,c=s,o=n,s=i,n=Re(B,O,T,C),i=Be(B,O,T,C)}Pe(this.h,0,n,i),Pe(this.h,2,o,s),Pe(this.h,4,a,c),Pe(this.h,6,u,l),Pe(this.h,8,h,d),Pe(this.h,10,f,p),Pe(this.h,12,g,y),Pe(this.h,14,m,b)},Le.prototype._digest=function(e){return"hex"===e?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")};var Xe=S,Ye=ze;function Qe(){if(!(this instanceof Qe))return new Qe;Ye.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xe.inherits(Qe,Ye);var et=Qe;Qe.blockSize=1024,Qe.outSize=384,Qe.hmacStrength=192,Qe.padLength=128,Qe.prototype._digest=function(e){return"hex"===e?Xe.toHex32(this.h.slice(0,12),"big"):Xe.split32(this.h.slice(0,12),"big")},L.sha1=Q,L.sha224=ke,L.sha256=ye,L.sha384=et,L.sha512=ze;var tt={},rt=S,nt=C,it=rt.rotl32,ot=rt.sum32,st=rt.sum32_3,at=rt.sum32_4,ct=nt.BlockHash;function ut(){if(!(this instanceof ut))return new ut;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function lt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function dt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}rt.inherits(ut,ct),tt.ripemd160=ut,ut.blockSize=512,ut.outSize=160,ut.hmacStrength=192,ut.padLength=64,ut.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,c=n,u=i,l=o,h=s,d=0;d<80;d++){var f=ot(it(at(r,lt(d,n,i,o),e[ft[d]+t],ht(d)),gt[d]),s);r=s,s=o,o=it(i,10),i=n,n=f,f=ot(it(at(a,lt(79-d,c,u,l),e[pt[d]+t],dt(d)),yt[d]),h),a=h,h=l,l=it(u,10),u=c,c=f}f=st(this.h[1],i,l),this.h[1]=st(this.h[2],o,h),this.h[2]=st(this.h[3],s,a),this.h[3]=st(this.h[4],r,c),this.h[4]=st(this.h[0],n,u),this.h[0]=f},ut.prototype._digest=function(e){return"hex"===e?rt.toHex32(this.h,"little"):rt.split32(this.h,"little")};var ft=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mt=S,bt=A;function wt(e,t,r){if(!(this instanceof wt))return new wt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(mt.toArray(t,r))}var kt=wt;wt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),bt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},wt.prototype.update=function(e,t){return this.inner.update(e,t),this},wt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=S,t.common=C,t.sha=L,t.ripemd=tt,t.hmac=kt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(v);var _t=v;let vt=!1,St=!1;const At={debug:1,default:2,info:2,warning:3,error:4,off:5};let It=At.default,Et=null;const xt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Pt,Rt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Pt||(Pt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Rt||(Rt={}));const Bt="0123456789abcdef";class Ot{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==At[r]&&this.throwArgumentError("invalid log level name","logLevel",e),It>At[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.WARNING,t)}makeError(e,t,r){if(St)return this.makeError("censored error",t,{});t||(t=Ot.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Bt[t[e]>>4],r+=Bt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case Rt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Rt.CALL_EXCEPTION:case Rt.INSUFFICIENT_FUNDS:case Rt.MISSING_NEW:case Rt.NONCE_EXPIRED:case Rt.REPLACEMENT_UNDERPRICED:case Rt.TRANSACTION_REPLACED:case Rt.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Ot.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){xt&&this.throwError("platform missing String.prototype.normalize",Ot.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:xt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Ot.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Ot.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Ot.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Et||(Et=new Ot("logger/5.6.0")),Et}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),vt){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}St=!!e,vt=!!t}static setLogLevel(e){const t=At[e.toLowerCase()];null!=t?It=t:Ot.globalLogger().warn("invalid log level - "+e)}static from(e){return new Ot(e)}}Ot.errors=Rt,Ot.levels=Pt;const Tt=new Ot("bytes/5.6.0");function Ct(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ct(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Nt(e){return"number"===typeof e&&e==e&&e%1===0}function jt(e,t){if(t||(t={}),"number"===typeof e){Tt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ct(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Tt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Ct(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Nt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Nt(r)||r<0||r>=256)return!1}return!0}(e)?Ct(new Uint8Array(e)):Tt.throwArgumentError("invalid arrayify value","value",e)}function Ut(e){return"0x"+_t.sha256().update(jt(e)).digest("hex")}new Ot("sha2/5.6.0");class Lt{constructor(e){Object.assign(this,e)}encode(){return o.Buffer.from((0,l.serialize)(Dt,this))}static decode(e){return(0,l.deserialize)(Dt,this,e)}static decodeUnchecked(e){return(0,l.deserializeUnchecked)(Dt,this,e)}}class zt extends Lt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Dt=new Map,Mt=32;class Wt extends Lt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=u().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return u().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(o.Buffer);if(32===e.length)return e;const t=o.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=o.Buffer.concat([e.toBuffer(),o.Buffer.from(t),r.toBuffer()]),i=Ut(new Uint8Array(n)).slice(2);return new Wt(o.Buffer.from(i,"hex"))}static createProgramAddressSync(e,t){let r=o.Buffer.alloc(0);e.forEach((function(e){if(e.length>Mt)throw new TypeError("Max seed length exceeded");r=o.Buffer.concat([r,_(e)])})),r=o.Buffer.concat([r,t.toBuffer(),o.Buffer.from("ProgramDerivedAddress")]);let n=Ut(new Uint8Array(r)).slice(2),i=new(a())(n,16).toArray(void 0,32);if(qt(i))throw new Error("Invalid seeds, address must fall off the curve");return new Wt(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(o.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==qt(new Wt(e).toBytes())}}Wt.default=new Wt("11111111111111111111111111111111"),Dt.set(Wt,{kind:"struct",fields:[["_bn","u256"]]});let Kt=i().lowlevel;function qt(e){var t=[Kt.gf(),Kt.gf(),Kt.gf(),Kt.gf()],r=Kt.gf(),n=Kt.gf(),i=Kt.gf(),o=Kt.gf(),s=Kt.gf(),a=Kt.gf(),c=Kt.gf();return Kt.set25519(t[2],Ft),Kt.unpack25519(t[1],e),Kt.S(i,t[1]),Kt.M(o,i,Kt.D),Kt.Z(i,i,t[2]),Kt.A(o,t[2],o),Kt.S(s,o),Kt.S(a,s),Kt.M(c,a,s),Kt.M(r,c,i),Kt.M(r,r,o),Kt.pow2523(r,r),Kt.M(r,r,i),Kt.M(r,r,o),Kt.M(r,r,o),Kt.M(t[0],r,o),Kt.S(n,t[0]),Kt.M(n,n,o),Vt(n,i)&&Kt.M(t[0],t[0],$t),Kt.S(n,t[0]),Kt.M(n,n,o),Vt(n,i)?0:1}let Ft=Kt.gf([1]),$t=Kt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Vt(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Kt.pack25519(r,e),Kt.pack25519(n,t),Kt.crypto_verify_32(r,0,n,0)}class Ht{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(_(e)):i().sign.keyPair()}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return _(this._keypair.secretKey)}}const Gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.Ik(32,e)},Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=d.n_([d.Jq("length"),d.Jq("lengthPadding"),d.Ik(d.cv(d.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:o.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>d.Jq().span+d.Jq().span+o.Buffer.from(e,"utf8").length,i};const Zt=(Xt=8,e=>{const t=(0,d.Ik)(Xt,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,h.oU)(o.Buffer.from(r))},i.encode=(e,t,n)=>{const i=(0,h.k$)(e,Xt);return r(i,t,n)},i});var Xt;function Yt(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}(e,t),n=o.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function Qt(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const er=d._O("lamportsPerSignature"),tr=d.n_([d.Jq("version"),d.Jq("state"),Gt("authorizedPubkey"),Gt("nonce"),d.n_([er],"feeCalculator")]),rr=tr.span;class nr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=tr.decode(_(e),0);return new nr({authorizedPubkey:new Wt(t.authorizedPubkey),nonce:new Wt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const ir=new Wt("SysvarC1ock11111111111111111111111111111111"),or=new Wt("SysvarEpochSchedu1e111111111111111111111111"),sr=new Wt("Sysvar1nstructions1111111111111111111111111"),ar=new Wt("SysvarRecentB1ockHashes11111111111111111111"),cr=new Wt("SysvarRent111111111111111111111111111111111"),ur=new Wt("SysvarRewards111111111111111111111111111111"),lr=new Wt("SysvarS1otHashes111111111111111111111111111"),hr=new Wt("SysvarS1otHistory11111111111111111111111111"),dr=new Wt("SysvarStakeHistory1111111111111111111111111"),fr=1232,pr=64;function gr(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function yr(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class mr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Wt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];yr(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(u().decode(e.data));let i=[];yr(i,t.length);let s=[];return yr(s,n.length),{programIdIndex:r,keyIndicesCount:o.Buffer.from(i),keyIndices:t,dataLength:o.Buffer.from(s),data:n}}));let n=[];yr(n,r.length);let i=o.Buffer.alloc(fr);o.Buffer.from(n).copy(i);let s=n.length;r.forEach((e=>{const t=d.n_([d.u8("programIdIndex"),d.Ik(e.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.Ik(e.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(t.length,"keyCount"),d.A9(Gt("key"),e,"keys"),Gt("recentBlockhash")]),c={numRequiredSignatures:o.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:o.Buffer.from(t),keys:this.accountKeys.map((e=>_(e.toBytes()))),recentBlockhash:u().decode(this.recentBlockhash)};let l=o.Buffer.alloc(2048);const h=a.encode(c,l);return i.copy(l,h),l.slice(0,h+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),s=gr(t);let a=[];for(let f=0;f<s;f++){const e=t.slice(0,32);t=t.slice(32),a.push(u().encode(o.Buffer.from(e)))}const c=t.slice(0,32);t=t.slice(32);const l=gr(t);let h=[];for(let f=0;f<l;f++){const e=t.shift(),r=gr(t),n=t.slice(0,r);t=t.slice(r);const i=gr(t),s=t.slice(0,i),a=u().encode(o.Buffer.from(s));t=t.slice(i),h.push({programIdIndex:e,accounts:n,data:a})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:u().encode(o.Buffer.from(c)),accountKeys:a,instructions:h};return new mr(d)}}function br(e,t){if(!e)throw new Error(t||"Assertion failed")}let wr;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(wr||(wr={}));const kr=o.Buffer.alloc(pr).fill(0);class _r{constructor(e){this.keys=void 0,this.programId=void 0,this.data=o.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class vr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new _r(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let u=0;u<t.length;u++)if(void 0===t[u].programId)throw new Error(`Transaction instruction index ${u} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Wt(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const s=o.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const u of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(u.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${u.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,l=0;const h=[],d=[];o.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(h.push(t.toString()),a+=1,n||(c+=1)):(d.push(t.toString()),n||(l+=1))}));const f=h.concat(d),p=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:f.indexOf(r.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:u().encode(t)}}));return p.forEach((e=>{br(e.programIdIndex>=0),e.accounts.forEach((e=>br(e>=0)))})),new mr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const s of t){const e=s.publicKey.toString();n.has(e)||(n.add(e),i.push(s))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const o=this._compile();this._partialSign(o,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const s of t){const e=s.publicKey.toString();n.has(e)||(n.add(e),i.push(s))}const o=this._compile();this._partialSign(o,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((e=>{const r=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,_(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){br(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=o.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!i().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];yr(r,t.length);const n=r.length+64*t.length+e.length,i=o.Buffer.alloc(n);return br(t.length<256),o.Buffer.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(br(64===n.length,"signature has invalid length"),o.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),br(i.length<=fr,`Transaction too large: ${i.length} > ${fr}`),i}get keys(){return br(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return br(1===this.instructions.length),this.instructions[0].programId}get data(){return br(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=gr(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,pr);t=t.slice(pr),n.push(u().encode(o.Buffer.from(e)))}return vr.populate(mr.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new vr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==u().encode(kr)?null:u().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new _r({keys:n,programId:e.accountKeys[t.programIdIndex],data:u().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class Sr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Ar))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=Qt(Ar.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Wt(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Qt(Ar.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=Qt(Ar.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Wt(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Qt(Ar.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=Qt(Ar.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Wt(t),seed:r,space:n,programId:new Wt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Qt(Ar.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Wt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=Qt(Ar.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Wt(t),seed:r,programId:new Wt(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:o}=Qt(Ar.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Wt(t),seed:r,lamports:n,space:i,programId:new Wt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Qt(Ar.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Wt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(Ar.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qt(Ar.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Qt(Ar.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Wt(t)}}static checkProgramId(e){if(!e.equals(Ir.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ar=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),Gt("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),Gt("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),Zt("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),Gt("base"),Jt("seed"),d.gM("lamports"),d.gM("space"),Gt("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),Gt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),Gt("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),Gt("base"),Jt("seed"),d.gM("space"),Gt("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),Gt("base"),Jt("seed"),Gt("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),Zt("lamports"),Jt("seed"),Gt("programId")])},UpgradeNonceAccount:{index:12,layout:d.n_([d.Jq("instruction")])}});class Ir{constructor(){}static createAccount(e){const t=Yt(Ar.Create,{lamports:e.lamports,space:e.space,programId:_(e.programId.toBuffer())});return new _r({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=Yt(Ar.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:_(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Yt(Ar.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new _r({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=Yt(Ar.AssignWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,programId:_(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Yt(Ar.Assign,{programId:_(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _r({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Yt(Ar.CreateWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:_(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new _r({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new vr;"basePubkey"in e&&"seed"in e?t.add(Ir.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:rr,programId:this.programId})):t.add(Ir.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:rr,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Yt(Ar.InitializeNonceAccount,{authorized:_(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new _r(r)}static nonceAdvance(e){const t=Yt(Ar.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new _r(r)}static nonceWithdraw(e){const t=Yt(Ar.WithdrawNonceAccount,{lamports:e.lamports});return new _r({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Yt(Ar.AuthorizeNonceAccount,{authorized:_(e.newAuthorizedPubkey.toBuffer())});return new _r({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=Yt(Ar.AllocateWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:_(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Yt(Ar.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _r({keys:r,programId:this.programId,data:t})}}Ir.programId=new Wt("11111111111111111111111111111111");const Er=Object.freeze({CreateLookupTable:{index:0,layout:d.n_([d.Jq("instruction"),Zt("recentSlot"),d.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:d.n_([d.Jq("instruction")])},ExtendLookupTable:{index:2,layout:d.n_([d.Jq("instruction"),Zt(),d.A9(Gt(),d.cv(d.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:d.n_([d.Jq("instruction")])},CloseLookupTable:{index:4,layout:d.n_([d.Jq("instruction")])}});class xr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Er))if(i.index==t){r=n;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Qt(Er.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Qt(Er.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new Wt(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Pr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Pr{constructor(){}static createLookupTable(e){const[t,r]=Wt.findProgramAddressSync([e.authority.toBuffer(),(0,h.k$)(BigInt(e.recentSlot),8)],this.programId),n=Yt(Er.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ir.programId,isSigner:!1,isWritable:!1}];return[new _r({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=Yt(Er.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _r({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=Yt(Er.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ir.programId,isSigner:!1,isWritable:!1}),new _r({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=Yt(Er.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _r({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=Yt(Er.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new _r({programId:this.programId,keys:r,data:t})}}Pr.programId=new Wt("AddressLookupTab1e1111111111111111111111111");const Rr=new Wt("BPFLoader1111111111111111111111111111111111");async function Br(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await e.sendTransaction(t,r,i),s=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Or(e){return new Promise((t=>setTimeout(t,e)))}const Tr=fr-300;class Cr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Cr.chunkSize)+1+1)}static async load(e,t,r,n,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new vr,a.add(Ir.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new vr,a.add(Ir.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new vr,a.add(Ir.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new vr).add(Ir.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await Br(e,a,[t,r],{commitment:"confirmed"})}const s=d.n_([d.Jq("instruction"),d.Jq("offset"),d.Jq("bytesLength"),d.Jq("bytesLengthPadding"),d.A9(d.u8("byte"),d.cv(d.Jq(),-8),"bytes")]),a=Cr.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const i=u.slice(0,a),h=o.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},h);const d=(new vr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(Br(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Or(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(l);{const i=d.n_([d.Jq("instruction")]),s=o.Buffer.alloc(i.span);i.encode({instruction:1},s);const a=(new vr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1}],programId:n,data:s});await Br(e,a,[t,r],{commitment:"confirmed"})}return!0}}Cr.chunkSize=Tr;const Nr=new Wt("BPFLoader2111111111111111111111111111111111");class jr{static getMinNumSignatures(e){return Cr.getMinNumSignatures(e)}static load(e,t,r,n,i){return Cr.load(e,t,r,i,n)}}class Ur{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u8("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Lr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Qt(Lr.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Qt(Lr.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Qt(Lr.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Qt(Lr.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(zr.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Lr=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:d.n_([d.u8("instruction"),d.Jq("units")])},SetComputeUnitPrice:{index:3,layout:d.n_([d.u8("instruction"),Zt("microLamports")])}});class zr{constructor(){}static requestUnits(e){const t=Yt(Lr.RequestUnits,e);return new _r({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Yt(Lr.RequestHeapFrame,e);return new _r({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Yt(Lr.SetComputeUnitLimit,e);return new _r({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Yt(Lr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new _r({keys:[],programId:this.programId,data:t})}}zr.programId=new Wt("ComputeBudget111111111111111111111111111111");var Dr=Object.prototype.toString,Mr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Wr(e,t){var r,n,i,o,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return Wr(e.toJSON(),t);if("[object Array]"===(c=Dr.call(e))){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Wr(e[r],!0)+",";return n>-1&&(i+=Wr(e[r],!0)),i+"]"}if("[object Object]"===c){for(n=(o=Mr(e).sort()).length,i="",r=0;r<n;)void 0!==(a=Wr(e[s=o[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Kr=function(e){var t=Wr(e,!1);if(void 0!==t)return""+t};const qr=globalThis.URL;function Fr(e){let t=0;for(;e>1;)e/=2,t++;return t}class $r{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Fr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Fr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Fr(32)):this.slotsPerEpoch}}class Vr extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Hr={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Gr extends Error{constructor(e,t){let{code:r,message:n,data:i}=e;super(null!=t?`${t}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=r,this.data=i,this.name="SolanaJSONRPCError"}}var Jr=globalThis.fetch;class Zr extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Zr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Xr extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}var Yr;Object.defineProperty(Xr.prototype,"name",{value:"TransactionExpiredTimeoutError"});const Qr=(0,f.oQ)((0,f.eE)(Wt),(0,f.Z_)(),(e=>new Wt(e))),en=(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")]),tn=(0,f.oQ)((0,f.eE)(o.Buffer),en,(e=>o.Buffer.from(e[0],"base64"))),rn=3e4;function nn(e){let t,r;if("string"===typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function on(e){return(0,f.G0)([(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),result:e}),(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),error:(0,f.dt)({code:(0,f._4)(),message:(0,f.Z_)(),data:(0,f.jt)((0,f.Yj)())})})])}const sn=on((0,f._4)());function an(e){return(0,f.oQ)(on(e),sn,(t=>"error"in t?t:{...t,result:(0,f.Ue)(t.result,e)}))}function cn(e){return an((0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e}))}function un(e){return(0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e})}const ln=(0,f.dt)({foundation:(0,f.Rx)(),foundationTerm:(0,f.Rx)(),initial:(0,f.Rx)(),taper:(0,f.Rx)(),terminal:(0,f.Rx)()}),hn=an((0,f.IX)((0,f.AG)((0,f.dt)({epoch:(0,f.Rx)(),effectiveSlot:(0,f.Rx)(),amount:(0,f.Rx)(),postBalance:(0,f.Rx)()})))),dn=(0,f.dt)({epoch:(0,f.Rx)(),slotIndex:(0,f.Rx)(),slotsInEpoch:(0,f.Rx)(),absoluteSlot:(0,f.Rx)(),blockHeight:(0,f.jt)((0,f.Rx)()),transactionCount:(0,f.jt)((0,f.Rx)())}),fn=(0,f.dt)({slotsPerEpoch:(0,f.Rx)(),leaderScheduleSlotOffset:(0,f.Rx)(),warmup:(0,f.O7)(),firstNormalEpoch:(0,f.Rx)(),firstNormalSlot:(0,f.Rx)()}),pn=(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),gn=(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),yn=(0,f.dt)({err:gn}),mn=(0,f.i0)("receivedSignature"),bn=(0,f.dt)({"solana-core":(0,f.Z_)(),"feature-set":(0,f.jt)((0,f.Rx)())}),wn=cn((0,f.dt)({err:(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),logs:(0,f.AG)((0,f.IX)((0,f.Z_)())),accounts:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.AG)((0,f.dt)({executable:(0,f.O7)(),owner:(0,f.Z_)(),lamports:(0,f.Rx)(),data:(0,f.IX)((0,f.Z_)()),rentEpoch:(0,f.jt)((0,f.Rx)())}))))),unitsConsumed:(0,f.jt)((0,f.Rx)()),returnData:(0,f.jt)((0,f.AG)((0,f.dt)({programId:(0,f.Z_)(),data:(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")])})))})),kn=cn((0,f.dt)({byIdentity:(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),range:(0,f.dt)({firstSlot:(0,f.Rx)(),lastSlot:(0,f.Rx)()})}));const _n=an(ln),vn=an(dn),Sn=an(fn),An=an(pn),In=an((0,f.Rx)()),En=cn((0,f.dt)({total:(0,f.Rx)(),circulating:(0,f.Rx)(),nonCirculating:(0,f.Rx)(),nonCirculatingAccounts:(0,f.IX)(Qr)})),xn=(0,f.dt)({amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}),Pn=cn((0,f.IX)((0,f.dt)({address:Qr,amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}))),Rn=cn((0,f.IX)((0,f.dt)({pubkey:Qr,account:(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:tn,rentEpoch:(0,f.Rx)()})}))),Bn=(0,f.dt)({program:(0,f.Z_)(),parsed:(0,f._4)(),space:(0,f.Rx)()}),On=cn((0,f.IX)((0,f.dt)({pubkey:Qr,account:(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:Bn,rentEpoch:(0,f.Rx)()})}))),Tn=cn((0,f.IX)((0,f.dt)({lamports:(0,f.Rx)(),address:Qr}))),Cn=(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:tn,rentEpoch:(0,f.Rx)()}),Nn=(0,f.dt)({pubkey:Qr,account:Cn}),jn=(0,f.oQ)((0,f.G0)([(0,f.eE)(o.Buffer),Bn]),(0,f.G0)([en,Bn]),(e=>Array.isArray(e)?(0,f.Ue)(e,tn):e)),Un=(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:jn,rentEpoch:(0,f.Rx)()}),Ln=(0,f.dt)({pubkey:Qr,account:Un}),zn=(0,f.dt)({state:(0,f.G0)([(0,f.i0)("active"),(0,f.i0)("inactive"),(0,f.i0)("activating"),(0,f.i0)("deactivating")]),active:(0,f.Rx)(),inactive:(0,f.Rx)()}),Dn=an((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:gn,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),Mn=an((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:gn,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),Wn=(0,f.dt)({subscription:(0,f.Rx)(),result:un(Cn)}),Kn=(0,f.dt)({pubkey:Qr,account:Cn}),qn=(0,f.dt)({subscription:(0,f.Rx)(),result:un(Kn)}),Fn=(0,f.dt)({parent:(0,f.Rx)(),slot:(0,f.Rx)(),root:(0,f.Rx)()}),$n=(0,f.dt)({subscription:(0,f.Rx)(),result:Fn}),Vn=(0,f.G0)([(0,f.dt)({type:(0,f.G0)([(0,f.i0)("firstShredReceived"),(0,f.i0)("completed"),(0,f.i0)("optimisticConfirmation"),(0,f.i0)("root")]),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("createdBank"),parent:(0,f.Rx)(),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("frozen"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),stats:(0,f.dt)({numTransactionEntries:(0,f.Rx)(),numSuccessfulTransactions:(0,f.Rx)(),numFailedTransactions:(0,f.Rx)(),maxTransactionsPerEntry:(0,f.Rx)()})}),(0,f.dt)({type:(0,f.i0)("dead"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),err:(0,f.Z_)()})]),Hn=(0,f.dt)({subscription:(0,f.Rx)(),result:Vn}),Gn=(0,f.dt)({subscription:(0,f.Rx)(),result:un((0,f.G0)([yn,mn]))}),Jn=(0,f.dt)({subscription:(0,f.Rx)(),result:(0,f.Rx)()}),Zn=(0,f.dt)({pubkey:(0,f.Z_)(),gossip:(0,f.AG)((0,f.Z_)()),tpu:(0,f.AG)((0,f.Z_)()),rpc:(0,f.AG)((0,f.Z_)()),version:(0,f.AG)((0,f.Z_)())}),Xn=(0,f.dt)({votePubkey:(0,f.Z_)(),nodePubkey:(0,f.Z_)(),activatedStake:(0,f.Rx)(),epochVoteAccount:(0,f.O7)(),epochCredits:(0,f.IX)((0,f.bc)([(0,f.Rx)(),(0,f.Rx)(),(0,f.Rx)()])),commission:(0,f.Rx)(),lastVote:(0,f.Rx)(),rootSlot:(0,f.AG)((0,f.Rx)())}),Yn=an((0,f.dt)({current:(0,f.IX)(Xn),delinquent:(0,f.IX)(Xn)})),Qn=(0,f.G0)([(0,f.i0)("processed"),(0,f.i0)("confirmed"),(0,f.i0)("finalized")]),ei=(0,f.dt)({slot:(0,f.Rx)(),confirmations:(0,f.AG)((0,f.Rx)()),err:gn,confirmationStatus:(0,f.jt)(Qn)}),ti=cn((0,f.IX)((0,f.AG)(ei))),ri=an((0,f.Rx)()),ni=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.Z_)()),header:(0,f.dt)({numRequiredSignatures:(0,f.Rx)(),numReadonlySignedAccounts:(0,f.Rx)(),numReadonlyUnsignedAccounts:(0,f.Rx)()}),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()})),recentBlockhash:(0,f.Z_)()})}),ii=(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:Qr}),oi=(0,f.dt)({accounts:(0,f.IX)(Qr),data:(0,f.Z_)(),programId:Qr}),si=(0,f.G0)([oi,ii]),ai=(0,f.G0)([(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:(0,f.Z_)()}),(0,f.dt)({accounts:(0,f.IX)((0,f.Z_)()),data:(0,f.Z_)(),programId:(0,f.Z_)()})]),ci=(0,f.oQ)(si,ai,(e=>"accounts"in e?(0,f.Ue)(e,oi):(0,f.Ue)(e,ii))),ui=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.dt)({pubkey:Qr,signer:(0,f.O7)(),writable:(0,f.O7)()})),instructions:(0,f.IX)(ci),recentBlockhash:(0,f.Z_)()})}),li=(0,f.dt)({accountIndex:(0,f.Rx)(),mint:(0,f.Z_)(),owner:(0,f.jt)((0,f.Z_)()),uiTokenAmount:xn}),hi=(0,f.dt)({err:gn,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()}))})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li)))}),di=(0,f.dt)({err:gn,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)(ci)})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li)))}),fi=an((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:ni,meta:(0,f.AG)(hi)})),rewards:(0,f.jt)((0,f.IX)((0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)())}))),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),pi=an((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:ni,meta:(0,f.AG)(hi)})),rewards:(0,f.jt)((0,f.IX)((0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)())}))),blockTime:(0,f.AG)((0,f.Rx)())}))),gi=an((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),signatures:(0,f.IX)((0,f.Z_)()),blockTime:(0,f.AG)((0,f.Rx)())}))),yi=an((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),meta:hi,blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)())),transaction:ni}))),mi=an((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),transaction:ui,meta:(0,f.AG)(di),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),bi=cn((0,f.dt)({blockhash:(0,f.Z_)(),feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})})),wi=cn((0,f.dt)({blockhash:(0,f.Z_)(),lastValidBlockHeight:(0,f.Rx)()})),ki=(0,f.dt)({slot:(0,f.Rx)(),numTransactions:(0,f.Rx)(),numSlots:(0,f.Rx)(),samplePeriodSecs:(0,f.Rx)()}),_i=an((0,f.IX)(ki)),vi=cn((0,f.AG)((0,f.dt)({feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})}))),Si=an((0,f.Z_)()),Ai=an((0,f.Z_)()),Ii=(0,f.dt)({err:gn,logs:(0,f.IX)((0,f.Z_)()),signature:(0,f.Z_)()}),Ei=(0,f.dt)({result:un(Ii),subscription:(0,f.Rx)()}),xi={"solana-client":`js/${null!==(Yr="0.0.0-development")?Yr:"UNKNOWN"}`};class Pi{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r=new qr(e);r.protocol;let n,i,o,s,a;var c;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,s=t.fetchMiddleware,a=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new qr(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,i,o){const s=n||Jr;let a;return i&&(a=async(e,t)=>{const r=await new Promise(((r,n)=>{try{i(e,t,((e,t)=>r([e,t])))}catch(o){n(o)}}));return await s(...r)}),new(y())((async(t,n)=>{const i={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},xi)};try{let t,r=5,c=500;for(;t=a?await a(e,i):await s(e,i),429===t.status&&!0!==o&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await Or(c),c*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(c){c instanceof Error&&n(c)}}),{})}(r.toString(),0,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((r,n)=>{c.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new p.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgs([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getBalance",i),s=(0,f.Ue)(o,cn((0,f.Rx)()));if("error"in s)throw new Gr(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,f.Ue)(t,an((0,f.AG)((0,f.Rx)())));if("error"in r)throw new Gr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,f.Ue)(e,an((0,f.Rx)()));if("error"in t)throw new Gr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,f.Ue)(e,In);if("error"in t)throw new Gr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,f.Ue)(r,En);if("error"in n)throw new Gr(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,f.Ue)(n,cn(xn));if("error"in i)throw new Gr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,f.Ue)(n,cn(xn));if("error"in i)throw new Gr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=nn(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,n,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=(0,f.Ue)(a,Rn);if("error"in c)throw new Gr(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,f.Ue)(o,On);if("error"in s)throw new Gr(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,f.Ue)(n,Tn);if("error"in i)throw new Gr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,f.Ue)(n,Pn);if("error"in i)throw new Gr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgs([e.toBase58()],r,"base64",n),o=await this._rpcRequest("getAccountInfo",i),s=(0,f.Ue)(o,cn((0,f.AG)(Cn)));if("error"in s)throw new Gr(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,f.Ue)(n,cn((0,f.AG)(Un)));if("error"in i)throw new Gr(i.error,`failed to get info about account ${e.toBase58()}`);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=nn(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],r,"base64",n),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,f.Ue)(s,cn((0,f.IX)((0,f.AG)(Cn))));if("error"in a)throw new Gr(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=nn(t),o=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:null===i||void 0===i?void 0:i.epoch}),s=await this._rpcRequest("getStakeActivation",o),a=(0,f.Ue)(s,an(zn));if("error"in a)throw new Gr(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=nn(t),{encoding:i,...o}=n||{},s=this._buildArgs([e.toBase58()],r,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=(0,f.Ue)(a,an((0,f.IX)(Nn)));if("error"in c)throw new Gr(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getProgramAccounts",i),s=(0,f.Ue)(o,an((0,f.IX)(Ln)));if("error"in s)throw new Gr(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{r=e.signature}try{n=u().decode(r)}catch(d){throw new Error("signature must be base58 encoded: "+r)}br(64===n.length,"signature has invalid length");const i=t||this.commitment;let o,s,a=!1;const c=new Promise(((e,t)=>{try{s=this.onSignature(r,((t,r)=>{s=void 0;const n={context:r,value:t};a=!0,e({__type:wr.PROCESSED,response:n})}),i)}catch(d){t(d)}})),l=new Promise((r=>{if("string"===typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}o=setTimeout((()=>r({__type:wr.TIMED_OUT,timeoutMs:e})),e)}else{let n=e;const i=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let e=await i();if(!a){for(;e<=n.lastValidBlockHeight;){if(await Or(1e3),a)return;if(e=await i(),a)return}r({__type:wr.BLOCKHEIGHT_EXCEEDED})}})()}}));let h;try{const e=await Promise.race([c,l]);switch(e.__type){case wr.BLOCKHEIGHT_EXCEEDED:throw new Zr(r);case wr.PROCESSED:h=e.response;break;case wr.TIMED_OUT:throw new Xr(r,e.timeoutMs/1e3)}}finally{clearTimeout(o),s&&this.removeSignatureListener(s)}return h}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,f.Ue)(e,an((0,f.IX)(Zn)));if("error"in t)throw new Gr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,f.Ue)(r,Yn);if("error"in n)throw new Gr(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",n),o=(0,f.Ue)(i,an((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",n),o=(0,f.Ue)(i,an((0,f.Z_)()));if("error"in o)throw new Gr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,f.Ue)(n,an((0,f.IX)(Qr)));if("error"in i)throw new Gr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);br(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,f.Ue)(n,ti);if("error"in i)throw new Gr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",n),o=(0,f.Ue)(i,an((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,f.Ue)(r,_n);if("error"in n)throw new Gr(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=nn(r),o=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...i,epoch:null!=t?t:null===i||void 0===i?void 0:i.epoch}),s=await this._rpcRequest("getInflationReward",o),a=(0,f.Ue)(s,hn);if("error"in a)throw new Gr(a.error,"failed to get inflation reward");return a.result}async getEpochInfo(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",n),o=(0,f.Ue)(i,vn);if("error"in o)throw new Gr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,f.Ue)(e,Sn);if("error"in t)throw new Gr(t.error,"failed to get epoch schedule");const r=t.result;return new $r(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,f.Ue)(e,An);if("error"in t)throw new Gr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,f.Ue)(n,ri);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,f.Ue)(r,bi);if("error"in n)throw new Gr(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=(0,f.Ue)(t,_i);if("error"in r)throw new Gr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,f.Ue)(n,vi);if("error"in i)throw new Gr(i.error,"failed to get fee calculator");const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const r=e.serialize().toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),o=(0,f.Ue)(i,cn((0,f.AG)((0,f.Rx)())));if("error"in o)throw new Gr(o.error,"failed to get slot");if(null===o.result)throw new Error("invalid blockhash");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),o=(0,f.Ue)(i,wi);if("error"in o)throw new Gr(o.error,"failed to get latest blockhash");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,f.Ue)(e,an(bn));if("error"in t)throw new Gr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,f.Ue)(e,an((0,f.Z_)()));if("error"in t)throw new Gr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getBlock",i),s=(0,f.Ue)(o,fi);if("error"in s)throw new Gr(s.error,"failed to get confirmed block");const a=s.result;return a?{...a,transactions:a.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new mr(t.message);return{meta:r,transaction:{...t,message:n}}}))}:a}async getBlockHeight(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getBlockHeight",n),o=(0,f.Ue)(i,an((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get block height information");return o.result}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),o=(0,f.Ue)(i,kn);if("error"in o)throw new Gr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getTransaction",i),s=(0,f.Ue)(o,yi);if("error"in s)throw new Gr(s.error,"failed to get transaction");const a=s.result;return a?{...a,transaction:{...a.transaction,message:new mr(a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getTransaction",i),s=(0,f.Ue)(o,mi);if("error"in s)throw new Gr(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=nn(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,f.Ue)(e,mi);if("error"in t)throw new Gr(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:r,config:n}=nn(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,f.Ue)(e,yi);if("error"in t)throw new Gr(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:new mr(r.transaction.message)}}:r}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,f.Ue)(n,pi);if("error"in i)throw new Gr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const s={...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new mr(t.message);return{meta:r,transaction:{...t,message:n}}}))};return{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:vr.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),o=(0,f.Ue)(i,an((0,f.IX)((0,f.Rx)())));if("error"in o)throw new Gr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=(0,f.Ue)(n,gi);if("error"in i)throw new Gr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,f.Ue)(n,gi);if("error"in i)throw new Gr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,f.Ue)(n,yi);if("error"in i)throw new Gr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const s=new mr(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:vr.populate(s,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,f.Ue)(n,mi);if("error"in i)throw new Gr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,f.Ue)(e,mi);if("error"in t)throw new Gr(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),o=(0,f.Ue)(i,Dn);if("error"in o)throw new Gr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),o=(0,f.Ue)(i,Mn);if("error"in o)throw new Gr(o.error,"failed to get signatures for address");return o.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=nr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,f.Ue)(r,Si);if("error"in n)throw new Gr(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Or(100);const e=Date.now()-this._blockhashInfo.lastFetch>=rn;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let n=0;n<50;n++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Or(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",n),o=(0,f.Ue)(i,cn((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){let n;if(e instanceof vr){let t=e;n=new vr,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=vr.populate(e),n._message=n._json=void 0;if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw new Error("!signature");const i=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(i)&&!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.simulatedSignatures.push(i);break}e=!0}}const i=n._compile(),o=i.serialize(),s=n._serialize(o).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const c=[s,a],u=await this._rpcRequest("simulateTransaction",c),l=(0,f.Ue)(u,wn);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(l.error.message,r)}throw new Vr("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=_(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[e,r],s=await this._rpcRequest("sendTransaction",o),a=(0,f.Ue)(s,Ai);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new Vr("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,r]=e;this._subscriptionsByHash[t]={...r,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._subscriptionsByHash[e]={...r,state:"subscribing"};const t=await this._rpcWebSocket.call(i,n);this._subscriptionsByHash[e]={...r,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,n,o.message),!t())return;this._subscriptionsByHash[e]={...r,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._subscriptionsByHash[e]={...r,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[n])}catch(o){if(o instanceof Error&&console.error(`${i} error:`,o.message),!t())return;return this._subscriptionsByHash[e]={...r,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...r,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(r){console.error(r)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Wn);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=Kr([e.method,t],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];br(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,qn);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Ei);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,$n);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Hn);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Gn);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],n,void 0,i),s=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(s)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Jn);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ri{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new Ri(i().sign.keyPair())}static fromSecretKey(e,t){const r=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,r.secretKey);if(!i().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new Ri(r)}static fromSeed(e){return new Ri(i().sign.keyPair.fromSeed(e))}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Bi=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]);class Oi{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;br(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),br(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Bi.span,a=s+t.length,c=a+n.length,u=o.Buffer.alloc(c+r.length),l=null==i?65535:i;return Bi.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(n,a),u.fill(r,c),new _r({keys:[],programId:Oi.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;br(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Ri.fromSecretKey(t),o=e.publicKey.toBytes(),s=i().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:s,instructionIndex:n})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Oi.programId=new Wt("Ed25519SigVerify111111111111111111111111111");const Ti=new Wt("StakeConfig11111111111111111111111111111111");class Ci{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Ni{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Ni.default=new Ni(0,0,Wt.default);class ji{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Ui))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Qt(Ui.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ci(new Wt(t.staker),new Wt(t.withdrawer)),lockup:new Ni(r.unixTimestamp,r.epoch,new Wt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Qt(Ui.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Qt(Ui.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Wt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=Qt(Ui.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Wt(i),newAuthorizedPubkey:new Wt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qt(Ui.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(Ui.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qt(Ui.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(Ui.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(zi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ui=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.n_([Gt("staker"),Gt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.n_([d.gM("unixTimestamp"),d.gM("epoch"),Gt("custodian")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Gt("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),Gt("newAuthorized"),d.Jq("stakeAuthorizationType"),Jt("authoritySeed"),Gt("authorityOwner")])}}),Li=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class zi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Ni.default,o=Yt(Ui.Initialize,{authorized:{staker:_(r.staker.toBuffer()),withdrawer:_(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:_(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new _r(s)}static createAccountWithSeed(e){const t=new vr;t.add(Ir.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new vr;t.add(Ir.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=Yt(Ui.Delegate);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:Ti,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,s=Yt(Ui.Authorize,{newAuthorized:_(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new vr).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Yt(Ui.AuthorizeWithSeed,{newAuthorized:_(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:_(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new vr).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=Yt(Ui.Split,{lamports:i});return new _r({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e){const t=new vr;return t.add(Ir.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:o,lamports:s}=e,a=new vr;return a.add(Ir.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=Yt(Ui.Merge);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,s=Yt(Ui.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new vr).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=Yt(Ui.Deactivate);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}zi.programId=new Wt("Stake11111111111111111111111111111111111111"),zi.space=200;const{publicKeyCreate:Di,ecdsaSign:Mi}=b(),Wi=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]);class Ki{constructor(){}static publicKeyToEthAddress(e){br(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return o.Buffer.from(k().keccak_256.update(_(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return Ki.createInstructionWithEthAddress({ethAddress:Ki.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?o.Buffer.from(t.substr(2),"hex"):o.Buffer.from(t,"hex"):t,br(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+n.length+1,l=o.Buffer.alloc(Wi.span+r.length);return Wi.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:_(n),ethAddress:_(a),recoveryId:i},l),l.fill(_(r),Wi.span),new _r({keys:[],programId:Ki.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;br(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=_(t),i=Di(e,!1).slice(1),s=o.Buffer.from(k().keccak_256.update(_(r)).digest()),{signature:a,recid:c}=Mi(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ki.programId=new Wt("KeccakSecp256k11111111111111111111111111111");const qi=new Wt("Va1idator1nfo111111111111111111111111111111"),Fi=(0,f.dt)({name:(0,f.Z_)(),website:(0,f.jt)((0,f.Z_)()),details:(0,f.jt)((0,f.Z_)()),keybaseUsername:(0,f.jt)((0,f.Z_)())});class $i{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==gr(t))return null;const r=[];for(let n=0;n<2;n++){const e=new Wt(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(qi)&&r[1].isSigner){const e=Jt().decode(o.Buffer.from(t)),n=JSON.parse(e);return(0,f.hu)(n,Fi),new $i(r[1].publicKey,n)}return null}}const Vi=new Wt("Vote111111111111111111111111111111111111111"),Hi=d.n_([Gt("nodePubkey"),Gt("authorizedWithdrawer"),d.u8("commission"),d._O(),d.A9(d.n_([d._O("slot"),d.Jq("confirmationCount")]),d.cv(d.Jq(),-8),"votes"),d.u8("rootSlotValid"),d._O("rootSlot"),d._O(),d.A9(d.n_([d._O("epoch"),Gt("authorizedVoter")]),d.cv(d.Jq(),-8),"authorizedVoters"),d.n_([d.A9(d.n_([Gt("authorizedPubkey"),d._O("epochOfLastAuthorizedSwitch"),d._O("targetEpoch")]),32,"buf"),d._O("idx"),d.u8("isEmpty")],"priorVoters"),d._O(),d.A9(d.n_([d._O("epoch"),d._O("credits"),d._O("prevCredits")]),d.cv(d.Jq(),-8),"epochCredits"),d.n_([d._O("slot"),d._O("timestamp")],"lastTimestamp")]);class Gi{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Hi.decode(_(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new Gi({nodePubkey:new Wt(t.nodePubkey),authorizedWithdrawer:new Wt(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(Ji),priorVoters:Xi(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Ji(e){let{authorizedVoter:t,epoch:r}=e;return{epoch:r,authorizedVoter:new Wt(t)}}function Zi(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=e;return{authorizedPubkey:new Wt(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function Xi(e){let{buf:t,idx:r,isEmpty:n}=e;return n?[]:[...t.slice(r+1).map(Zi),...t.slice(0,r).map(Zi)]}class Yi{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class Qi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(eo))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Qt(eo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Yi(new Wt(t.nodePubkey),new Wt(t.authorizedVoter),new Wt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Qt(eo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Wt(t),voteAuthorizationType:{index:r}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qt(eo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ro.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const eo=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return d.n_([Gt("nodePubkey"),Gt("authorizedVoter"),Gt("authorizedWithdrawer"),d.u8("commission")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Gt("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])}}),to=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ro{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=Yt(eo.InitializeAccount,{voteInit:{nodePubkey:_(n.nodePubkey.toBuffer()),authorizedVoter:_(n.authorizedVoter.toBuffer()),authorizedWithdrawer:_(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new _r(o)}static createAccount(e){const t=new vr;return t.add(Ir.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=Yt(eo.Authorize,{newAuthorized:_(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new vr).add({keys:s,programId:this.programId,data:o})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=Yt(eo.Withdraw,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new vr).add({keys:s,programId:this.programId,data:o})}}async function no(e,t,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(i=r,o=n):o=r;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}ro.programId=new Wt("Vote111111111111111111111111111111111111111"),ro.space=3731;const io={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function oo(e,t){const r=!1===t?"http":"https";if(!e)return io[r].devnet;const n=io[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const so=1e9},91290:(e,t,r)=>{"use strict";var n=r(21504).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===c;)i++,r++;for(var s=(e.length-r)*u+1>>>0,l=new Uint8Array(s);e[r];){var h=t[e.charCodeAt(r)];if(255===h)return;for(var d=0,f=s-1;(0!==h||d<o)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=d,r++}for(var p=s-o;p!==s&&0===l[p];)p++;var g=n.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=l[p++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var u=(s-o)*l+1>>>0,h=new Uint8Array(u);o!==s;){for(var d=t[o],f=0,p=u-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,o++}for(var g=u-i;g!==u&&0===h[g];)g++;for(var y=c.repeat(r);g<u;++g)y+=e.charAt(h[g]);return y},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},7114:(e,t,r)=>{var n=r(91290);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},92010:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=s*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,r++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=u[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var h=t[i],d=0,f=c-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var g=a.repeat(r);p<c;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},95410:(e,t,r)=>{const n=r(92010);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},73745:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||Z(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return G(V(t,e.length-r),e,r,n)}function v(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return G(H(t),e,r,n)}function A(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128===(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(J(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=X[e[o]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function T(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i){K(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function j(e,t,r,n,i){K(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){C(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){C(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const D={};function M(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!==typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},43785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(45263),i=r(92950);var o={"logo-telegram":r.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg","logo-sentre":r.p+"static/media/icon-sentre.1aa4776f6a84fe8cdea1b2025dd823c5.svg","logo-solana":r.p+"static/media/icon-solana.0f29c7077d2fa64ecf8c70fb05cd9e86.svg"},s=r(6863),a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const u=(0,i.forwardRef)((function(e,t){var r=e.name,u=e.className,l=c(e,["name","className"]),h=u?"anticon "+u:"anticon";return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(s.q,{children:(0,n.jsx)("script",{type:"module",src:"https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"})}),(0,n.jsx)("span",a({className:h},l,{children:o[r]?(0,n.jsx)("ion-icon",{ref:t,src:o[r]}):(0,n.jsx)("ion-icon",{ref:t,name:r})}))]})}))},74439:(e,t,r)=>{"use strict";const{Buffer:n}=r(97429),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"===typeof e&&e<0&&(e+=this.length),"number"===typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!==typeof r||r<0)&&(r=0),("number"!==typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let c=a,u=o&&t||0,l=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,t,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(e=n.allocUnsafe(a));for(let n=s[0];n<this._bufs.length;n++){const t=this._bufs[n].length-l;if(!(c>t)){this._bufs[n].copy(e,u,l,l+c),u+=t;break}this._bufs[n].copy(e,u,l),u+=t,c-=t,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!==typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"===typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"===typeof t&&(r=t,t=void 0),"function"===typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"===typeof e?e=n.from([e]):"string"===typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},31156:(e,t,r)=>{"use strict";const n=r(55194);e.exports=function(e){return"function"===typeof e.stream?n(e.stream()):n(new Response(e).body)}},55194:e=>{"use strict";e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.getReader();try{for(;;){const e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}},15504:e=>{"use strict";function t(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,n){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"===typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(i){n.message=e.message,n.stack=e.stack;const r=function(){};r.prototype=Object.create(Object.getPrototypeOf(e));return t(new r,n)}}},10694:(e,t,r)=>{"use strict";const n=r(90360),{fromString:i}=r(58524);class o{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._options=e,this._popCount=0,this._parent=t,this._posAtParent=r,this._children=new n,this.key=null}async put(e,t){const r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){const t=await this._findChild(e);if(t)return t.value}async del(e){const t=await this._findPlace(e),r=t.bucket._at(t.pos);r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof o?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)t instanceof o?yield*t.eachLeafSeries():yield t;return[]}serialize(e,t){return t(this._children.reduce(((r,n,i)=>(n&&(n instanceof o?r.push(n.serialize(e,t)):r.push(e(n,i))),r)),[]))}asyncTransform(e,t){return u(this,e,t)}toJSON(){return this.serialize(a,c)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof o))return r&&r.key===e?r:void 0}async _findPlace(e){const t=this._options.hash("string"===typeof e?i(e):e),r=await t.take(this._options.bits),n=this._children.get(r);return n instanceof o?n._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:n}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){const e=new o(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(s);if(e&&!(e instanceof o)){const t=e.hash;t.untake(this._options.bits);const r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function s(e){return Boolean(e)}function a(e,t){return e.key}function c(e){return e}async function u(e,t,r){const n=[];for(const i of e._children.compactArray())if(i instanceof o)await u(i,t,r);else{const r=await t(i);n.push({bitField:e._children.bitField(),children:r})}return r(n)}e.exports=o},50852:e=>{"use strict";const t=[255,254,252,248,240,224,192,128],r=[1,3,7,15,31,63,127,255];function n(e,n,i){const o=function(e,n){return t[e]&r[Math.min(n+e-1,7)]}(n,i);return(e&o)>>>n}e.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t&&this._haveBits();){const e=this._value[this._currentBytePos],i=this._currentBitPos+1,o=Math.min(i,t);r=(r<<o)+n(e,i-o,o),t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},80078:(e,t,r)=>{"use strict";const n=r(50852),{concat:i}=r(52769);class o{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),t);r=(r<<n)+e.take(n),t-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?i([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),r=new n(t);this._buffers.push(r),this._availableBits+=r.availableBits()}}e.exports=function(e){return function(t){return t instanceof o?t:new o(t,e)}},e.exports.InfiniteHash=o},74123:(e,t,r)=>{"use strict";const n=r(10694),i=r(80078);e.exports={createHAMT:function(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");const t={bits:e.bits||8,hash:i(e.hashFn)};return new n(t)},Bucket:n}},61574:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=n(r(61863));t.default=e=>{let{value:t="",enumType:r,onChange:n}=e;var a;const c=(0,o.useCallback)((()=>{void 0!==t&&""!==t||n(r.variants[0].name)}),[r.variants,n,t]);return(0,o.useEffect)((()=>{c()}),[c]),(0,i.jsx)(s.default,{options:null===(a=r.variants)||void 0===a?void 0:a.map((e=>{let{name:t}=e;return{label:t,value:t}})),onSelected:n,selected:t,style:{maxWidth:180}})}},98512:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=n(r(61574)),s=n(r(28157)),a=r(53456),c=r(48126);t.default=e=>{let{value:t,name:r,onChange:n}=e;var u,l,h,d;const{parser:f}=(0,c.useParser)();let p=null===(l=null===(u=f.idl)||void 0===u?void 0:u.types)||void 0===l?void 0:l.find((e=>e.name===r));if(p||(p=null===(d=null===(h=f.idl)||void 0===h?void 0:h.accounts)||void 0===d?void 0:d.find((e=>e.name===r))),"enum"===(null===p||void 0===p?void 0:p.type.kind)){const e=p.type;return(0,i.jsx)(o.default,{enumType:e,value:t,onChange:n})}if("struct"===(null===p||void 0===p?void 0:p.type.kind)){const e=p.type;return(0,i.jsx)(s.default,{structType:e,onChange:n})}return(0,i.jsx)("div",Object.assign({className:"rounded-[4px] bg-[#E0E0E0] p-2 cursor-not-allowed"},{children:(0,i.jsx)(a.Typography,Object.assign({className:"text-red-600"},{children:"Error"}))}))}},28157:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=n(r(37472));t.default=e=>{let{structType:t,onChange:r}=e;var n;const[a,c]=(0,o.useState)({}),u=(0,o.useCallback)(((e,t)=>{const n=Object.assign({},a);return n[e]=t,c(n),r(JSON.stringify(n))}),[r,a]);return(0,i.jsx)("div",Object.assign({className:"flex flex-col w-full p-4 gap-2 rounded-[4px] shadow-[0_0_8px_#181c3630]"},{children:null===(n=t.fields)||void 0===n?void 0:n.map(((e,t)=>{let{name:r,type:n}=e;return(0,i.jsx)(s.default,{name:r,idlType:n,value:a[r]||"",onChange:e=>u(r,e)},t)}))}))}},37472:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=n(r(43785)),a=n(r(94273)),c=n(r(3448)),u=n(r(73705)),l=r(53456),h=r(74064),d=r(48126);t.default=e=>{let{name:t,value:r,idlType:n,onChange:f,placeholder:p="Input or select your types",onRemove:g}=e;const[y,m]=(0,o.useState)(!1),{setRecents:b}=(0,d.useParser)();if("publicKey"===n)return(0,i.jsx)(u.default,{accountName:t,onChange:e=>{f(e.publicKey),b({name:t,value:e.publicKey})},value:r});const w=!/^[u|i|f]\d+$/.test(n.toString());return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",Object.assign({className:"grid gird-cols-1 gap-1"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex flex-row gap-2"},{children:[(0,i.jsx)(l.Typography,Object.assign({className:"capitalize text-gray-600"},{children:t})),(0,i.jsxs)(l.Typography,Object.assign({secondary:!0},{children:["(",h.IdlParser.getTypeOfParam(n),")"]}))]})),(0,i.jsx)(c.default,{value:r,onChange:f,placeholder:p,onClickInit:()=>m(!0),onRemove:g,init:w,idlType:n,inputName:t})]})),w&&(0,i.jsx)(l.Modal,Object.assign({visible:y,onClose:()=>m(!1),closeIcon:(0,i.jsx)(s.default,{name:"close-outline"})},{children:(0,i.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-8"},{children:[(0,i.jsx)(l.Typography,Object.assign({className:"!flex flex-1",style:{textTransform:"capitalize",fontWeight:600}},{children:t})),(0,i.jsx)(a.default,{value:r,idlType:n,onChange:e=>{f(e),m(!1),b({name:t,value:e})},inputName:t})]}))}))]})}},94273:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=n(r(47128)),s=n(r(98512)),a=r(48126),c=e=>{let{value:t="",inputName:r,idlType:n,onChange:u}=e;var l;const{parser:h}=(0,a.useParser)();if(!(null===(l=null===h||void 0===h?void 0:h.idl)||void 0===l?void 0:l.accounts))return null;const d=n.vec,f=n.array,p=n.defined;return d?(0,i.jsx)(o.default,{idlType:d,onChange:u}):f?Array.isArray(!!f)?(0,i.jsx)(o.default,{idlType:f[0],onChange:u}):(0,i.jsx)(o.default,{idlType:f,onChange:u}):p?(0,i.jsx)(c,{value:t,idlType:p,inputName:r,onChange:u}):(0,i.jsx)(s.default,{name:n,value:t,onChange:u})};t.default=c},47128:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=r(53456),a=n(r(37472));t.default=e=>{let{idlType:t,onChange:r,inputName:n="Seed"}=e;const[c,u]=(0,o.useState)([]),l=(0,o.useCallback)(((e,t)=>{const r=[...c];r[e]=t,u(r)}),[c]);return(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-6"},{children:[(0,i.jsx)(s.Button,Object.assign({type:"dashed",onClick:()=>(()=>{const e=[...c];e.push(""),u(e)})()},{children:"Add"})),c.map(((e,r)=>{const o=`${n} ${String(r+1)}`;return(0,i.jsx)(a.default,{idlType:t,name:o,value:e,onChange:e=>l(r,e),onRemove:()=>(e=>{const t=[...c];t.splice(e,1),u(t)})(r)},r)})),!!c.length&&(0,i.jsx)(s.Button,Object.assign({type:"primary",onClick:()=>(()=>{const e=c.join(",");r(e)})()},{children:"Done"}))]}))}},51114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263),i=r(92950),o=r(53456);t.default=e=>{let{value:t,onChange:r}=e;const s="true"===t;return(0,i.useEffect)((()=>{""!==t&&void 0!==t||r("false")}),[r,t]),(0,n.jsx)("div",Object.assign({className:"p-4 rounded-[4px] shadow-[0_0_8px_#181c3630]"},{children:(0,n.jsx)(o.Switch,{checked:s,onChange:e=>r(JSON.stringify(e.target.checked))})}))}},3448:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=n(r(43785)),s=n(r(51114)),a=n(r(94273)),c=r(53456);t.default=e=>{let{value:t,onChange:r,placeholder:n="",init:u=!1,onClickInit:l=(()=>{}),onRemove:h,inputName:d="",idlType:f}=e;return"bool"===f?(0,i.jsx)(s.default,{value:t,onChange:r}):f.defined?(0,i.jsxs)("div",Object.assign({className:"flex flex-1 flex-row gap-4"},{children:[(0,i.jsx)(a.default,{value:t,idlType:f,onChange:r,inputName:d}),h&&(0,i.jsx)(c.Button,{type:"text",onClick:h,suffix:(0,i.jsx)(o.default,{name:"trash-outline"})})]})):(0,i.jsxs)("div",Object.assign({className:"flex flex-1 flex-row gap-4"},{children:[(0,i.jsx)(c.Input,{className:"flex-auto",value:t,onChange:e=>r(e.target.value),bordered:!1,placeholder:n,suffix:u&&(0,i.jsx)(c.Button,Object.assign({type:"text",onClick:l},{children:(0,i.jsx)(c.Typography,Object.assign({level:5},{children:"Init"}))}))}),h&&(0,i.jsx)(c.Button,{type:"text",onClick:h,suffix:(0,i.jsx)(o.default,{name:"trash-outline"})})]}))}},57840:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=r(45263),u=r(92950),l=r(33804),h=a(r(43785)),d=r(48126),f=r(36671),p=r(53456),g=r(49281),y=o(r(61863)),m={};t.default=e=>{let{onChange:t}=e;var r;const[n,i]=(0,u.useState)(""),[o,a]=(0,u.useState)(!1),[b,w]=(0,u.useState)(""),[k,_]=(0,u.useState)({}),{parser:v}=(0,d.useParser)(),{idl:S}=v||{},A=(0,f.useProgram)(),I=(0,u.useCallback)((()=>s(void 0,void 0,void 0,(function*(){try{if(a(!0),!A||!b||!n)return;const r=new l.web3.PublicKey(n),i=`${b.toLowerCase()}:${r.toBase58()}`;if(m[i])var e=yield m[i];else m[i]=A.account[b.toLowerCase()].fetch(r),e=yield m[i];const o={};for(const n in e){o[n]=[];try{const t=e[n];if(Array.isArray(t))for(const e of t){const t=new l.web3.PublicKey(e.toString());o[n].push(t.toBase58())}else{const e=new l.web3.PublicKey(t.toString());o[n].push(e.toBase58())}}catch(t){}}_(o)}catch(t){_({}),console.log(t)}finally{a(!1)}}))),[b,n,A]);(0,u.useEffect)((()=>{I()}),[I]),(0,u.useEffect)((()=>{var e,t;const r=(null===(t=null===(e=null===S||void 0===S?void 0:S.accounts)||void 0===e?void 0:e[0])||void 0===t?void 0:t.name)||"";r&&!b&&w(r)}),[b,null===S||void 0===S?void 0:S.accounts]);const E=(null===(r=null===S||void 0===S?void 0:S.accounts)||void 0===r?void 0:r.map((e=>{let{name:t}=e;return{label:t,value:t}})))||[y.DUMMY_OPTION_VALUE];return(0,c.jsxs)("div",Object.assign({className:"flex flex-col gap-8"},{children:[(0,c.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-1"},{children:[(0,c.jsxs)(p.Typography,Object.assign({secondary:!0},{children:[b," address"]})),(0,c.jsxs)("div",Object.assign({className:"flex flex-row gap-4"},{children:[(0,c.jsx)(p.Input,{value:n,onChange:e=>i(e.target.value),bordered:!1,preffix:o?(0,c.jsx)(g.Spinner,{}):(0,c.jsx)(h.default,{name:"search-outline"}),className:"flex-auto stroke-slate-500"}),(0,c.jsx)(y.default,{options:E,selected:b,onSelected:w,style:{maxWidth:180}})]}))]})),(0,c.jsx)("div",Object.assign({className:"grid gird-cols-1 gap-4 p-[24px] bg-stone-100"},{children:Object.keys(k).length?Object.keys(k).map(((e,r)=>k[e].length?(0,c.jsxs)("div",Object.assign({className:"grid gird-cols-1 gap-1"},{children:[(0,c.jsx)(p.Typography,Object.assign({secondary:!0},{children:e})),(0,c.jsx)("div",Object.assign({className:"grid gird-cols-1 gap-2"},{children:k[e].map(((e,r)=>(0,c.jsxs)("div",Object.assign({className:"flex flex-row gap-4"},{children:[(0,c.jsx)(p.Input,{className:"flex-auto",value:e,bordered:!1,onChange:()=>{}}),(0,c.jsx)(p.Button,Object.assign({type:"text",className:"font-bold",onClick:()=>t({publicKey:e})},{children:"Select"}))]}),r)))}))]}),r):null)):(0,c.jsx)(p.Empty,{})}))]}))}},73705:function(e,t,r){"use strict";var n=r(25792).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_SYSTEM=void 0;const o=r(45263),s=r(92950),a=r(33804),c=i(r(43785)),u=i(r(88131)),l=i(r(64179)),h=i(r(57840)),d=i(r(98221)),f=i(r(64896)),p=r(53456),g=i(r(61863)),y=r(14930),m=r(48126),b=r(98532),w=r(74064),k=r(97603);t.SELECT_SYSTEM=[y.AddressCategory.walletAddress,y.AddressCategory.newKeypair,y.AddressCategory.idl,y.AddressCategory.token,y.AddressCategory.pda,y.AddressCategory.recents,y.AddressCategory.system];const _=e=>{let{inputType:t,onChange:r}=e;switch(t){case y.AddressCategory.recents:return(0,o.jsx)(l.default,{onChange:r});case y.AddressCategory.idl:return(0,o.jsx)(h.default,{onChange:r});case y.AddressCategory.system:return(0,o.jsx)(u.default,{onChange:r});case y.AddressCategory.token:return(0,o.jsx)(d.default,{onChange:r});default:return(0,o.jsx)(f.default,{onChange:r})}};t.default=e=>{let{accountName:r,value:i,placeholder:u="",onChange:l,onRemove:h,onBlur:d=(()=>{})}=e;const[f,v]=(0,s.useState)(!1),[S,A]=(0,s.useState)(),{findDefaultCategory:I}=(0,b.useSuggestAccountCategory)(),{walletAddress:E}=(0,m.useParser)(),{autoAccount:x,loading:P}=(0,k.useSuggestProgramAccounts)(r),R=(0,s.useCallback)((e=>{l(e),v(!1)}),[l]);return(0,s.useEffect)((()=>{if(!S){const e=I(r),t=(0,w.getAutocompleteSystemAccount)(r);t&&l({publicKey:t}),A(e)}}),[r,S,I,l]),S?(0,o.jsxs)("div",Object.assign({className:"flex flex-col gap-[6px]"},{children:[(0,o.jsx)(p.Typography,Object.assign({className:"capitalize text-gray-600"},{children:r})),(0,o.jsxs)("div",Object.assign({className:"flex flex-nowrap gap-[16px]"},{children:[(0,o.jsx)(p.Input,{className:"flex-auto",value:i,placeholder:u,onChange:e=>R({publicKey:e.target.value}),onBlur:e=>d(e.target.value),bordered:!1,suffix:(0,o.jsx)(p.Button,Object.assign({type:"text",onClick:()=>x(),loading:P},{children:(0,o.jsx)(p.Typography,Object.assign({level:5},{children:"auto"}))}))}),(0,o.jsx)(g.default,{style:{maxWidth:180},options:t.SELECT_SYSTEM.map((e=>({label:e,value:e}))),selected:S,onSelected:e=>(e=>{switch(A(e),e){case y.AddressCategory.walletAddress:return l({publicKey:E||""});case y.AddressCategory.newKeypair:const e=a.web3.Keypair.generate();return l({publicKey:e.publicKey.toBase58(),privateKey:n.from(e.secretKey).toString("hex")})}v(!0)})(e)}),h&&(0,o.jsx)(p.Button,{type:"text",onClick:h,suffix:(0,o.jsx)(c.default,{name:"trash-outline"})})]})),(0,o.jsx)(p.Modal,Object.assign({visible:f,onClose:()=>v(!1),closeIcon:(0,o.jsx)(c.default,{name:"close-outline"})},{children:(0,o.jsxs)("div",Object.assign({className:"flex flex-col gap-10"},{children:[(0,o.jsxs)("div",Object.assign({className:"flex flex-nowrap gap-2"},{children:[(0,o.jsx)(p.Typography,Object.assign({level:5,className:"capitalize font-bold"},{children:S})),(0,o.jsxs)(p.Typography,{children:["(",r,")"]})]})),(0,o.jsx)(_,{inputType:S,onChange:R})]}))}))]})):(0,o.jsx)(s.Fragment,{})}},64896:function(e,t,r){"use strict";var n=r(25792).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(45263),a=r(92950),c=r(33804),u=r(95418),l=o(r(73705)),h=r(53456),d=r(48126),f=r(99168);t.default=e=>{let{onChange:t}=e;const[r,o]=(0,a.useState)([""]),[p,g]=(0,a.useState)(""),[y,m]=(0,a.useState)(""),{setRecents:b}=(0,d.useParser)(),w=(0,f.useProgramAddress)(),k=(0,a.useCallback)((()=>i(void 0,void 0,void 0,(function*(){if(!r.length||!u.account.isAddress(p))return m("");const[e]=yield c.web3.PublicKey.findProgramAddress(r.map((e=>u.account.isAddress(e)?new c.web3.PublicKey(e).toBuffer():n.from(e))),new c.web3.PublicKey(p));m(e.toBase58())}))),[p,r]),_=(0,a.useCallback)((()=>{if(u.account.isAddress(y)){t({publicKey:y});for(const e of r)e&&b({name:"PDA-others",value:e})}}),[t,y,r,b]);return(0,a.useEffect)((()=>{k()}),[k]),(0,a.useEffect)((()=>{g(w)}),[w]),(0,s.jsxs)("div",Object.assign({className:"flex flex-col gap-8"},{children:[(0,s.jsx)(h.Button,Object.assign({type:"dashed",onClick:()=>(()=>{const e=[...r];e.push(""),o(e)})()},{children:"Add"})),(0,s.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-6"},{children:[(0,s.jsx)("div",Object.assign({className:"grid grid-cols-1 gap-4"},{children:r.map(((e,t)=>(0,s.jsx)(l.default,{value:e,accountName:"Seed "+(t+1),onChange:e=>((e,t)=>i(void 0,void 0,void 0,(function*(){const n=[...r];n[e]=t,o(n)})))(t,e.publicKey),onRemove:()=>(e=>{const t=[...r];t.splice(e,1),o(t)})(t)},t)))})),(0,s.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-2"},{children:[(0,s.jsx)(h.Typography,Object.assign({secondary:!0},{children:"Program address"})),(0,s.jsx)(h.Input,{bordered:!1,value:p,onChange:e=>g(e.target.value)})]})),y&&(0,s.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-2 p-4 rounded-md shadow-[0_0_15px_#d6d6d6]"},{children:[(0,s.jsx)(h.Typography,Object.assign({secondary:!0},{children:"PDA Address"})),(0,s.jsx)(h.Typography,{children:y})]})),!!r.length&&(0,s.jsx)(h.Button,Object.assign({type:"primary",onClick:_,disabled:!y,block:!0},{children:"Done"}))]}))]}))}},64179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263),i=r(92950),o=r(53456),s=r(48126),a=e=>{let{data:t,onChange:r}=e;return(0,n.jsxs)("div",Object.assign({className:"flex flex-row gap-4"},{children:[(0,n.jsx)(o.Input,{className:"flex-auto",value:t,onChange:()=>{},bordered:!1}),(0,n.jsx)(o.Button,Object.assign({type:"text",className:"font-bold",onClick:()=>r({publicKey:t})},{children:"Select"}))]}))},c=e=>{let{data:t,onChange:r}=e;return"string"===typeof t?(0,n.jsx)(a,{data:t,onChange:r}):(0,n.jsx)(i.Fragment,{children:t.map(((e,t)=>(0,n.jsx)(a,{data:e,onChange:r},t)))})};t.default=e=>{let{onChange:t}=e;const{parser:r}=(0,s.useParser)(),{recents:i}=r||{};return Object.keys(i).length?(0,n.jsx)("div",Object.assign({className:"grid grid-cols-1 gap-6"},{children:(0,n.jsx)("div",Object.assign({className:"grid grid-cols-1 gap-4"},{children:Object.keys(i).map(((e,r)=>{const s=null===i||void 0===i?void 0:i[e];return(0,n.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-1"},{children:[(0,n.jsx)(o.Typography,Object.assign({secondary:!0},{children:e})),(0,n.jsx)(c,{data:s,onChange:t})]}),r)}))}))})):(0,n.jsx)(o.Empty,{})}},88131:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(33804),s=r(95418),a=n(r(49281)),c=r(99168),u=[{name:"systemProgram",value:o.web3.SystemProgram.programId},{name:"rent",value:o.web3.SYSVAR_RENT_PUBKEY},{name:"tokenProgram",value:o.utils.token.TOKEN_PROGRAM_ID},{name:"associatedTokenProgram",value:o.utils.token.ASSOCIATED_PROGRAM_ID},{name:"sysvarClockProgram",value:o.web3.SYSVAR_CLOCK_PUBKEY}];t.default=e=>{let{onChange:t}=e;const r=(0,c.useProgramAddress)();return(0,i.jsxs)("div",Object.assign({className:"grid grid-cols-2 gap-4"},{children:[s.account.isAddress(r)&&(0,i.jsx)("div",{children:(0,i.jsx)(a.default,Object.assign({type:"primary",onClick:()=>t({publicKey:r}),block:!0},{children:"Program Address"}))}),u.map(((e,r)=>(0,i.jsx)("div",{children:(0,i.jsx)(a.default,Object.assign({type:"primary",onClick:()=>t({publicKey:e.value.toBase58()}),block:!0},{children:e.name}))},r)))]}))}},98221:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(45263),s=r(92950),a=r(33804),c=r(95418),u=i(r(73705)),l=r(53456),h=r(48126);t.default=e=>{let{onChange:t}=e;const[r,i]=(0,s.useState)(""),[d,f]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),{setRecents:y}=(0,h.useParser)(),m=!!c.account.isAddress(r)&&!!c.account.isAddress(d),b=(0,s.useCallback)((()=>n(void 0,void 0,void 0,(function*(){if(m)try{const e=new a.web3.PublicKey(r),t=new a.web3.PublicKey(d),n=yield a.utils.token.associatedAddress({mint:e,owner:t});g(n.toBase58())}catch(e){g("")}}))),[r,d,m]);return(0,s.useEffect)((()=>{b()}),[b]),(0,o.jsxs)("div",Object.assign({className:"flex flex-col gap-10"},{children:[(0,o.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-4"},{children:[(0,o.jsx)(u.default,{accountName:"Mint",value:r,onChange:e=>{i(e.publicKey),y({name:"mints",value:e.publicKey})}}),(0,o.jsx)(u.default,{accountName:"Owner",value:d,onChange:e=>{f(e.publicKey),y({name:"owner",value:e.publicKey})}})]})),(0,o.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-6"},{children:[p&&(0,o.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-2 p-4 rounded-md shadow-[0_0_15px_#d6d6d6]"},{children:[(0,o.jsx)(l.Typography,Object.assign({secondary:!0},{children:"PDA Token Address"})),(0,o.jsx)(l.Typography,{children:p})]})),(0,o.jsx)(l.Button,Object.assign({type:"primary",onClick:()=>t({publicKey:p}),disabled:!p,block:!0},{children:"Done"}))]}))]}))}},52813:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=n(r(43785)),a=r(48126),c=r(53456),u={isSigner:!1,isWritable:!0,address:""};t.default=()=>{const{setRemainingAccouts:e,parser:t}=(0,a.useParser)(),{remainingAccounts:r,ixSelected:n}=t||{},[l,h]=(0,o.useState)([]),d=(t,i)=>{if(!n)return;const o=t.target.name,s="checkbox"===t.target.type?t.target.checked:t.target.value,a=JSON.parse(JSON.stringify(r))[n]||[],c=a[i];if(c)c[o]=s,a[i]=c;else{const e=Object.assign(Object.assign({},u),{[o]:s});a.push(e)}e({name:n,data:a})};return(0,o.useEffect)((()=>{var e;return n&&(null===(e=r[n])||void 0===e?void 0:e.length)&&h(r[n]),()=>h([])}),[n,r]),(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-8"},{children:[(0,i.jsx)(c.Button,Object.assign({suffix:(0,i.jsx)(s.default,{name:"add-outline"}),type:"dashed",onClick:()=>(()=>{const t=[...l];if(t.push(u),h(t),!n)return;const i=r[n]||[];return i.push(u),e({name:n,data:i})})()},{children:"Add"})),(0,i.jsx)("div",Object.assign({className:"grid grid-cols-1 gap-6"},{children:(0,i.jsx)("div",Object.assign({className:"grid grid-cols-1 gap-4"},{children:l.map(((t,o)=>{const a=r[n||""],u=(null===a||void 0===a?void 0:a[o])||{};return(0,i.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-3 p-4 shadow-[0_0_16px_#dedede] rounded-md"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex flex-row justify-between"},{children:[(0,i.jsx)(c.Typography,{children:`Account ${o+1}`}),(0,i.jsx)(c.Button,{type:"text",suffix:(0,i.jsx)(s.default,{name:"trash-outline"}),onClick:()=>(t=>{const i=[...l];if(i.splice(t,1),h(i),!n)return;const o=r[n]||[];return o.splice(t,1),e({name:n,data:o})})(o)})]})),(0,i.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-2"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex flex-row flex-nowrap justify-between  gap-2"},{children:[(0,i.jsx)(c.Typography,Object.assign({secondary:!0},{children:"Is Signer"})),(0,i.jsx)("div",Object.assign({className:"flex flex-row flex-nowrap gap-4"},{children:(0,i.jsx)(c.Switch,{name:"isSigner",checked:u.isSigner||!1,onChange:e=>d(e,o)})}))]})),(0,i.jsxs)("div",Object.assign({className:"flex flex-row flex-nowrap justify-between gap-2"},{children:[(0,i.jsx)(c.Typography,Object.assign({secondary:!0},{children:"Is Writable"})),(0,i.jsx)("div",Object.assign({className:"flex flex-row flex-nowrap gap-4"},{children:(0,i.jsx)(c.Switch,{name:"isWritable",checked:u.isWritable||!1,onChange:e=>d(e,o)})}))]})),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.Typography,Object.assign({secondary:!0},{children:"Publickey"})),(0,i.jsx)(c.Input,{name:"address",value:u.address,onChange:e=>d(e,o),bordered:!1})]})]}))]}),o)}))}))}))]}))}},49281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;const n=r(45263),i={dashed:{borderStyle:"dashed",borderRadius:8},default:{borderStyle:"solid",borderRadius:8},text:{borderStyle:"none",padding:0,background:"transparent"},primary:{borderStyle:"solid",borderRadius:8}};t.Spinner=e=>{let{size:t=24,className:r}=e;return(0,n.jsx)("div",Object.assign({style:{width:t,height:t,stroke:"inherit"},className:r},{children:(0,n.jsx)("svg",Object.assign({className:"spinner",viewBox:"0 0 50 50"},{children:(0,n.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})}))}))};t.default=e=>{let{loading:r=!1,disabled:o=!1,size:s=24,suffix:a,preffix:c,children:u,type:l="default",style:h,block:d=!1,onClick:f=(()=>{}),className:p=""}=e;const g=r||o,y=d?{width:"100%"}:{},m=Object.assign(Object.assign(Object.assign({},i[l]),y),h),b=`${p} btn-sen-parser flex flex-row justify-center items-center gap-2 py-2 px-4 rounded-[4px] font-medium border border-[#B3B3B3] stroke-slate-800 ${"primary"===l?"bg-[#5D6CCF] !text-white border-transparent":""} `;return(0,n.jsxs)("button",Object.assign({className:b,onClick:e=>f(e),style:m,disabled:g},{children:[r&&(0,n.jsx)(t.Spinner,{size:s}),a,u,c]}))}},61039:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=n(r(55441));t.default=e=>{let{className:t}=e;return(0,i.jsxs)("div",Object.assign({className:`flex flex-col items-center justify-center ${t}`},{children:[(0,i.jsx)("div",Object.assign({className:"w-[70px]"},{children:(0,i.jsx)("svg",Object.assign({className:"w-[inherit] h-auto",width:"57",height:"48",viewBox:"0 0 57 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,i.jsx)("path",{d:"M56.4575 25.5875L52.4575 6.61125C51.685 2.47125 48.71 0 44.5 0H12.5C10.4 0 8.62501 0.58625 7.23751 1.7425C5.85001 2.89875 4.94126 4.53125 4.54001 6.60375L0.54001 25.5875C0.512985 25.7233 0.499586 25.8615 0.50001 26V40C0.50001 42.1217 1.34286 44.1566 2.84316 45.6568C4.34345 47.1571 6.37828 48 8.50001 48H48.5C50.6217 48 52.6566 47.1571 54.1569 45.6568C55.6571 44.1566 56.5 42.1217 56.5 40V26C56.4996 25.8614 56.4854 25.7232 56.4575 25.5875ZM8.45751 7.4125C8.45751 7.4 8.45751 7.38875 8.45751 7.3775C8.90126 5.07375 10.1838 4.0025 12.4938 4.0025H44.5C46.8263 4.0025 48.1088 5.07125 48.5338 7.36625C48.5338 7.3825 48.54 7.39875 48.5425 7.415L51.9088 23.4C51.924 23.4728 51.9228 23.5481 51.9053 23.6205C51.8877 23.6928 51.8542 23.7602 51.8073 23.818C51.7603 23.8757 51.7011 23.9222 51.6339 23.9541C51.5667 23.9861 51.4932 24.0026 51.4188 24.0025H36.5C35.9727 23.9998 35.4658 24.2066 35.0908 24.5774C34.7158 24.9482 34.5033 25.4526 34.5 25.98C34.5 27.5713 33.8679 29.0974 32.7426 30.2226C31.6174 31.3479 30.0913 31.98 28.5 31.98C26.9087 31.98 25.3826 31.3479 24.2574 30.2226C23.1321 29.0974 22.5 27.5713 22.5 25.98C22.4987 25.7187 22.4459 25.4601 22.3447 25.2192C22.2435 24.9783 22.0958 24.7596 21.9101 24.5758C21.7244 24.3919 21.5043 24.2464 21.2623 24.1476C21.0204 24.0488 20.7613 23.9987 20.5 24H5.58126C5.50685 24.0001 5.43336 23.9836 5.36614 23.9516C5.29892 23.9197 5.23968 23.8732 5.19273 23.8155C5.14578 23.7577 5.11231 23.6903 5.09475 23.618C5.0772 23.5456 5.076 23.4703 5.09126 23.3975L8.45751 7.4125Z",fill:"#B3B3B3"})}))})),(0,i.jsx)(o.default,Object.assign({secondary:!0},{children:"No Data"}))]}))}},69452:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupExpand=void 0;const i=r(45263),o=r(92950),s=n(r(43785));t.GroupExpand=()=>{};t.default=e=>{let{header:t,children:r,arrowIcon:n=(0,i.jsx)(s.default,{name:"chevron-down-outline",className:"!text-white"}),expandIcon:a=(0,i.jsx)(s.default,{name:"chevron-up-outline",className:"!text-white"}),headerStyle:c}=e;const[u,l]=(0,o.useState)(!1),[h,d]=(0,o.useState)(0),f=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(!(null===f||void 0===f?void 0:f.current))return d(0);d(f.current.scrollHeight)}),[f]);const p=u?{height:h,opacity:1}:{};return(0,i.jsxs)("div",Object.assign({className:"grid grid-cols-1"},{children:[(0,i.jsx)("div",Object.assign({style:c,className:"cursor-pointer py-[8px] px-[16px] bg-[#213565]",onClick:()=>l(!u)},{children:t&&(0,i.jsxs)("div",Object.assign({className:"flex flex-row justify-between items-center gap-2"},{children:[t,u?a:n]}))})),(0,i.jsx)("div",Object.assign({ref:f,className:"h-20 opacity-50 transition-all duration-300 overflow-hidden",style:Object.assign({},p)},{children:r}))]}))}},53456:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingMask=t.Typography=t.Tooltip=t.Switch=t.Select=t.Segmented=t.RadioButton=t.Modal=t.Input=t.Expand=t.Empty=t.Button=void 0;const i=n(r(49281));t.Button=i.default;const o=n(r(61039));t.Empty=o.default;const s=n(r(69452));t.Expand=s.default;const a=n(r(38049));t.Input=a.default;const c=n(r(16492));t.Modal=c.default;const u=n(r(56935));t.RadioButton=u.default;const l=n(r(77890));t.Segmented=l.default;const h=n(r(54218));t.Select=h.default;const d=n(r(13297));t.Switch=d.default;const f=n(r(73133));t.Tooltip=f.default;const p=n(r(55441));t.Typography=p.default;const g=n(r(76561));t.LoadingMask=g.default},38049:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=(0,r(92950).forwardRef)(((e,t)=>{var{value:r="",bordered:o=!0,suffix:s,preffix:a,style:c,bodyStyle:u,className:l="",placeholder:h=""}=e,d=n(e,["value","bordered","suffix","preffix","style","bodyStyle","className","placeholder"]);const f=o?"border border-inherit":"border-none bg-[#E0E0E0]";return(0,i.jsxs)("div",Object.assign({className:`flex flex-nowrap justify-between items-center gap-2 rounded-[4px] py-[6px] px-[14px] ${l} ${f}`,style:Object.assign({},c)},{children:[a,(0,i.jsx)("input",Object.assign({className:"flex-auto w-full border-none outline-none bg-inherit",style:Object.assign({},u),placeholder:h,value:r,ref:t},d)),s]}))}));t.default=o},76561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263),i=r(49281);t.default=()=>(0,n.jsx)("div",Object.assign({className:"absolute top-0 left-0 flex justify-center items-center w-full h-full backdrop-blur-sm"},{children:(0,n.jsx)(i.Spinner,{})}))},16492:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=n(r(77823)),s=r(48126);r(80350);t.default=e=>{const{appId:t}=(0,s.useParser)();return(0,i.jsx)(o.default,Object.assign({getContainer:()=>document.getElementById(t||"")},e,{children:e.children}))}},56935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263);t.default=e=>{let{value:t,onChange:r,checked:i=!1,children:o}=e;return(0,n.jsxs)("label",Object.assign({className:"flex flex-row cursor-pointer px-[16px] py-[4px] rounded-[4px] border border-[#473C31] justify-center "+(i?"border-blue-400 bg-blue-100":"")},{children:[(0,n.jsx)("input",{className:"w-0 h-0 opacity-0",type:"radio",value:t,onChange:()=>r(t),name:"template_view"}),o]}))}},77890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263);t.default=e=>{let{options:t,value:r,onChange:i}=e;return(0,n.jsx)("div",Object.assign({className:"sntr-segmented"},{children:(0,n.jsxs)("div",Object.assign({className:"sntr-segmented-group"},{children:[(0,n.jsx)("div",{className:"sntr-segmented-thumb active"}),t.map(((e,t)=>{const o=e===r;return(0,n.jsxs)("label",Object.assign({className:"sntr-segmented-item"+(o?" sntr-segmented-item-selected":"")},{children:[(0,n.jsx)("input",{type:"radio",className:"sntr-segmented-item-input",value:e,checked:o,onChange:e=>i(e.target.value),name:"sntr-segmented"}),(0,n.jsx)("div",Object.assign({className:"sntr-segmented-item-label"},{children:e}))]}),t)}))]}))}))}},54218:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263);t.default=e=>{var{bordered:t=!0,className:r="",style:o,children:s,suffix:a,extra:c}=e,u=n(e,["bordered","className","style","children","suffix","extra"]);const l=t?`border ${r} `:r;return(0,i.jsxs)("div",Object.assign({className:l+"flex flex-row rounded-[4px] px-[8px] bg-[#E0E0E0] gap-2"},{children:[a,(0,i.jsx)("select",Object.assign({style:Object.assign({},o),className:"bg-transparent outline-none w-full"},u,{children:s})),c]}))}},61863:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DUMMY_OPTION_VALUE=void 0;const i=r(45263),o=n(r(43785)),s=r(92950),a=n(r(55441)),c="Default";t.DUMMY_OPTION_VALUE={label:c,value:c};t.default=e=>{let{options:t,onSelected:r=(()=>{}),bordered:n=!1,selected:u=c,prefix:l=(0,i.jsx)(o.default,{name:"chevron-down-outline"}),bodyStyle:h,style:d}=e;const[f,p]=(0,s.useState)(!1),g=(0,s.useRef)(null),y=n?"border border-inherit":"border-none bg-[#E0E0E0]",m=f?"rounded-t-md":"rounded-md";const b=(0,s.useMemo)((()=>(u!==c&&t.sort(((e,t)=>e.value===u?-1:1)),t)),[t,u]);return(0,s.useEffect)((()=>{const e=g.current;if(e)return document.addEventListener("click",(t=>{let{target:r}=t;!function(e){if(!e||!("nodeType"in e))throw new Error("Node expected")}(r),e.contains(r)||p(!1)})),()=>document.removeEventListener("click",(()=>{}))}),[]),(0,i.jsxs)("div",Object.assign({className:"relative flex w-full",style:d},{children:[(0,i.jsxs)("div",Object.assign({className:`flex justify-between items-center overflow-hidden w-full p-2 cursor-pointer select-none gap-2 ${y} ${m}`,onClick:()=>p(!f),ref:g},{children:[(0,i.jsx)("div",Object.assign({className:"max-w-[90%] whitespace-nowrap overflow-hidden"},{children:u})),(0,i.jsx)("div",{children:l})]})),f&&(0,i.jsx)("div",Object.assign({className:"absolute w-full top-[100%] bg-[#fff] shadow-[0_5px_8px_#0000002e] max-h-[160px] overflow-auto rounded-b-md z-[999999]",style:h},{children:b.map(((e,t)=>(0,i.jsx)("div",Object.assign({className:"w-full p-2 cursor-pointer select-none last:rounded-b-md hover:bg-[#f5f5f5] hover:text-black overflow-hidden "+(u===e.value?"bg-[#605ece] text-white":""),onClick:()=>{return t=e.value,p(!1),r(t);var t}},{children:(0,i.jsx)(a.default,Object.assign({style:{whiteSpace:"nowrap"}},{children:e.label}))}),t)))}))]}))}},13297:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263);t.default=e=>{var{checked:t=!1}=e,r=n(e,["checked"]);return(0,i.jsxs)("label",Object.assign({className:"flex relative w-[48px] h-[24px]"},{children:[(0,i.jsx)("input",Object.assign({},r,{type:"checkbox",className:"opacity-0 w-0 h-0 peer",checked:t})),(0,i.jsx)("span",{className:"absolute cursor-pointer top-0 left-0 right-0 bottom-0 bg-[#ebebeb] rounded-2xl before:content-[''] before:absolute before:h-[16px] before:w-[16px] before:rounded-full before:left-[4px] before:top-[4px] before:bg-white peer-checked:before:translate-x-[24px] before:transition before:duration-300 peer-checked:before:bg-[#03A326]"})]}))}},73133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263);t.default=e=>{let{title:t,description:r,children:i,width:o=150,bodyStyle:s={}}=e;return(0,n.jsxs)("span",Object.assign({className:"relative group"},{children:[i,(0,n.jsxs)("div",Object.assign({style:Object.assign(Object.assign({background:"#fff"},s),{width:o}),className:"absolute hidden group-hover:grid grid-cols-1 p-3 gap-0 rounded-md before:relative before:content-[''] before:w-0 before:h-0 before:border-l-[5px] before:border-l-[transparent] before:border-r-[5px] before:border-r-[transparent] before:border-b-[5px] before:border-b-[#fff] before:border-solid before:top-[-16px] before:left-[25%]"},{children:[t,r]}))]}))}},55441:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const i=r(92950);t.default=e=>{var{level:t,className:r="",children:o,style:s,secondary:a=!1}=e,c=n(e,["level","className","children","style","secondary"]);const u=t?`h${t}`:"span",l={display:"block",opacity:a?.5:1};return(0,i.createElement)(u,Object.assign(Object.assign({},c),{className:r,style:Object.assign(Object.assign({},l),s)}),o)}},83:function(e,t,r){"use strict";var n=r(25792).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(45263),s=r(92950),a=r(33804),c=r(53456),u=r(74064),l=r(95755),h=r(6713),d=r(36671),f=r(49467),p=r(48126);t.default=()=>{const{txInstructions:e}=(0,p.useParser)(),[t,r]=(0,s.useState)(!1),{parser:g,setTxInstructions:y}=(0,p.useParser)(),{accountsMetas:m,ixSelected:b}=g,w=(0,d.useProgram)(),k=(0,l.useArgs)(b),_=(0,h.useIdlInstruction)(b),v=(0,f.useRemainingAccounts)(b),S=(0,s.useCallback)((()=>{const e=[];for(const t of _.accounts){let r=m[t.name];if((null===r||void 0===r?void 0:r.privateKey)&&t.isSigner){const t=a.web3.Keypair.fromSecretKey(n.from(r.privateKey,"hex"));e.push(t)}}return e}),[m,_.accounts]),A=(0,s.useCallback)((()=>i(void 0,void 0,void 0,(function*(){try{r(!0);const e=(0,u.convertStringDataToPubKey)(m),t=yield w.methods[b].call(this,...k).accounts(e).remainingAccounts(v).instruction();t&&y({name:b,data:t,signer:S()})}catch(e){y()}finally{r(!1)}}))),[m,k,b,w.methods,v,S,y]),I=e=>{try{return JSON.stringify(e,null,2)}catch(t){return null}};if((0,s.useEffect)((()=>{A()}),[A]),!e||!Object.keys(e).length)return(0,o.jsx)(s.Fragment,{});const E=Object.keys(e||{});return(0,o.jsx)("div",Object.assign({className:"grid gird-cols-1 gap-8"},{children:E.map(((r,n)=>{const{data:i}=e[r];return(0,o.jsxs)("div",Object.assign({className:"relative flex flex-col"},{children:[(0,o.jsx)(c.Expand,Object.assign({header:(0,o.jsx)(c.Typography,Object.assign({level:5,className:"capitalize font-bold !text-white"},{children:r}))},{children:(0,o.jsx)("div",Object.assign({className:"p-4 bg-[#181C36] text-white"},{children:(0,o.jsx)("pre",Object.assign({className:"flex flex-col"},{children:I(i)}))}))})),r===b&&t&&(0,o.jsx)(c.LoadingMask,{})]}),n)}))}))}},74064:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAutocompleteSystemAccount=t.normalizeAnchorArgs=t.convertArgsByType=t.convertStringDataToPubKey=t.IdlParser=t.fileToBase64=void 0;const i=r(33804),o=r(85276);t.fileToBase64=(e,t)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>n(void 0,void 0,void 0,(function*(){r.result&&t(r.result)}))};class s{static getProgramAddress(e){return e.metadata&&e.metadata.address?e.metadata.address:""}static getTypeOfParam(e){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.defined)?e.defined:(null===e||void 0===e?void 0:e.option)?s.getTypeOfParam(e.option):(null===e||void 0===e?void 0:e.vec)?`${s.getTypeOfParam(e.vec)} []`:(null===e||void 0===e?void 0:e.array)?Array.isArray(null===e||void 0===e?void 0:e.array)?`${null===e||void 0===e?void 0:e.array[0]} [${null===e||void 0===e?void 0:e.array[1]}]`:`${s.getTypeOfParam(e.array)} []`:e}}t.IdlParser=s;t.convertStringDataToPubKey=e=>{if(!e)throw new Error("Valid data");const t={};for(const r in e){let n=e[r];"string"!==typeof n&&(n=n.publicKey),t[r]=new i.web3.PublicKey(n)}return t};t.convertArgsByType=(e,r,n)=>{var s;if("string"===typeof r){if("bool"===r)return"true"===e;if("publicKey"===r)return new o.PublicKey(e);if(["u64","u128","i64","i128"].includes(r.toString()))return new i.BN(e);if(["u8","u16","u32","i8","i16","i32"].includes(r))return Number(e);if(["f32","f64"].includes(r.toString()))return Number(e);throw new Error("Invalid type"+r)}if("option"in r){const i=r.option;return e?(0,t.convertArgsByType)(e,i,n):null}if("array"in r){const i=r.array;return e.split(",").map((e=>(0,t.convertArgsByType)(e,i[0],n)))}if("vec"in r){const i=r.vec;return e.split(",").map((e=>(0,t.convertArgsByType)(e,i,n)))}if("defined"in r){const i=r.defined,o=((null===(s=n.idl)||void 0===s?void 0:s.types)||[]).find((e=>e.name===i));if(!o)throw new Error("Invalid type"+r);if("enum"===o.type.kind)return{[e.substring(0,1).toLowerCase()+e.substring(1)]:{}};if("struct"===o.type.kind){const i={},s=JSON.parse(JSON.stringify(e));for(const e of o.type.fields)i[e.name]=(0,t.convertArgsByType)(s[e.name],r,n);return i}}};t.normalizeAnchorArgs=(e,r,n)=>r.args.map((r=>{let{name:i,type:o}=r;const s=e[i];if(void 0===s)return[];return(0,t.convertArgsByType)(s,o,n)}));t.getAutocompleteSystemAccount=e=>{const t=e.toLowerCase();let r="";return t.includes("program")&&(t.includes("token")&&!t.includes("associated")&&(r=i.utils.token.TOKEN_PROGRAM_ID.toBase58()),t.includes("system")&&(r=i.web3.SystemProgram.programId.toBase58()),t.includes("associated")&&(r=i.utils.token.ASSOCIATED_PROGRAM_ID.toBase58())),t.includes("rent")&&(r=i.web3.SYSVAR_RENT_PUBKEY.toBase58()),r}},95755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useArgs=void 0;const n=r(92950),i=r(74064),o=r(48126),s=r(6713);t.useArgs=e=>{const{argsMetas:t}=(0,o.useParser)().parser,[r,a]=(0,n.useState)([]),c=(0,s.useIdlInstruction)(e),{parser:u}=(0,o.useParser)(),l=(0,n.useCallback)((()=>{const r=t[e]||[];try{const e=(0,i.normalizeAnchorArgs)(r,c,u);a(e)}catch(n){console.log("error",n)}}),[t,c,e,u]);return(0,n.useEffect)((()=>{l()}),[l]),r}},6713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIdlInstruction=void 0;const n=r(92950),i=r(48126),o={name:"DEFAULT",accounts:[],args:[]};t.useIdlInstruction=e=>{const{idl:t}=(0,i.useParser)().parser;return(0,n.useMemo)((()=>{var r;return null===(r=null===t||void 0===t?void 0:t.instructions)||void 0===r?void 0:r.find((t=>t.name===e))}),[null===t||void 0===t?void 0:t.instructions,e])||o}},19575:(e,t,r)=>{"use strict";var n=r(25792).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.useOnChangeProvider=void 0;const i=r(33804),o=r(48126);t.useOnChangeProvider=()=>{const{setAccountsMeta:e}=(0,o.useParser)();return{onChangeAccount:(t,r)=>{e({name:t,data:{publicKey:r.toString()}})},onCreateAccount:t=>{const r=i.web3.Keypair.generate();e({name:t,data:{publicKey:r.publicKey.toBase58(),privateKey:n.from(r.secretKey).toString("hex")}})}}}},36671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useProgram=void 0;const n=r(92950),i=r(33804),o=r(95418),s=r(67898),a=r(48126),c={version:"0",name:"DEFAULT_IDL",instructions:[]},u=i.web3.Keypair.generate().publicKey;t.useProgram=()=>{const e=(0,s.useProvider)(),{parser:t,programAddresses:r}=(0,a.useParser)(),{idl:l=c}=t,{customer:h,provider:d,idl:f}=r,p=(0,n.useMemo)((()=>{let e=u.toBase58();return o.account.isAddress(d)&&(e=d),o.account.isAddress(f)&&(e=f),o.account.isAddress(h)&&(e=h),e}),[h,f,d]);return(0,n.useMemo)((()=>new i.Program(l,p,e)),[l,p,e])}},99168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useProgramAddress=void 0;const n=r(92950),i=r(48126);t.useProgramAddress=()=>{const{programAddresses:e}=(0,i.useParser)(),{customer:t,idl:r,provider:o}=e;return(0,n.useMemo)((()=>t||r||o),[t,r,o])}},67898:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useProvider=void 0;const i=r(92950),o=r(33804),s=n(r(47411)),a=r(48126);t.useProvider=()=>{const{rpc:e}=(0,a.useParser)(),t=(0,i.useMemo)((()=>{const e=o.web3.Keypair.generate();return new s.default(e)}),[]);return(0,i.useMemo)((()=>new o.AnchorProvider(new o.web3.Connection(e),t,{commitment:"confirmed",skipPreflight:!0})),[e,t])}},49467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRemainingAccounts=void 0;const n=r(92950),i=r(95418),o=r(33804),s=r(48126);t.useRemainingAccounts=e=>{const{remainingAccounts:t}=(0,s.useParser)().parser,[r,a]=(0,n.useState)([]),c=(0,n.useCallback)((()=>{const r=(null===t||void 0===t?void 0:t[e])||[];return r.length?a(r.map((e=>{const t=i.account.isAddress(e.address)?new o.web3.PublicKey(e.address):e.address;return Object.assign(Object.assign({},e),{pubkey:t})}))):a([])}),[e,t]);return(0,n.useEffect)((()=>{c()}),[c]),r}},98532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestAccountCategory=void 0;const n=r(92950),i=r(48126),o=r(14930);t.useSuggestAccountCategory=()=>{const{parser:e}=(0,i.useParser)(),{idl:t}=e;return{findDefaultCategory:(0,n.useCallback)((e=>{if(!t)return;const r=e.toLowerCase();if(["signer","authority"].includes(r))return o.AddressCategory.recents;if(t.accounts)for(const n of t.accounts)for(const e of n.type.fields)if(r.includes(e.name.toLowerCase()))return o.AddressCategory.idl;return r.includes("program")?o.AddressCategory.system:r.includes("tokenaccount")||r.includes("associated")||r.includes("treasury")?o.AddressCategory.token:o.AddressCategory.system}),[t])}}},97603:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestProgramAccounts=void 0;const i=r(92950),o=r(33804),s=r(4065),a=r(6713),c=r(19575),u=r(99168),l=r(48126);t.useSuggestProgramAccounts=e=>{const{rpc:t,parser:{ixSelected:r,accountsMetas:h}}=(0,l.useParser)(),[d,f]=(0,i.useState)(!1),p=(0,a.useIdlInstruction)(r),g=(0,u.useProgramAddress)(),{onChangeAccount:y}=(0,c.useOnChangeProvider)(),m=(0,i.useCallback)((()=>{const e=[];for(const t of p.accounts){let r=h[t.name];r?e.push(r.publicKey):e.push("")}return e}),[h,p.accounts]),b=(0,i.useCallback)((()=>n(void 0,void 0,void 0,(function*(){const e=[],r=m();for(const t of r)t&&e.push(new o.web3.PublicKey(t));const n=yield s.DataLoader.load(`getExplorerAddress:${JSON.stringify(r)}`,(()=>(0,s.getMultipleAccounts)(new o.web3.Connection(t),e)));for(const t of n)if((null===t||void 0===t?void 0:t.account.owner.toBase58())===g)return t.publicKey}))),[t,m,g]),w=(0,i.useCallback)((()=>n(void 0,void 0,void 0,(function*(){const e=yield b();if(!e)return[];const n=yield s.DataLoader.load(`fetchIxLogs:${e}`,(()=>new s.SolanaExplorer(new o.web3.Connection(t)).fetchTransactions(e.toBase58(),{}))),i=[];for(const t of n){const e=t.transaction.message.instructions;for(const t of e){if((null===t||void 0===t?void 0:t.programId.toBase58())!==g)continue;const e=Array.from((0,s.decodeIxData)(t.data)).slice(0,8),n=Array.from((0,s.ixDiscriminator)(r));e.toString()===n.toString()&&i.push(t)}}return i}))),[t,b,r,g]),k=(0,i.useCallback)((()=>{for(let t=0;t<p.accounts.length;t++)if(p.accounts[t].name===e)return t;throw new Error("Not find account name")}),[e,p.accounts]);return{autoAccount:(0,i.useCallback)((()=>n(void 0,void 0,void 0,(function*(){var t;try{f(!0);const r=yield w(),n=null===(t=r[0])||void 0===t?void 0:t.accounts.map((e=>e.toBase58()));if(!n)return;const i=n.map((e=>({total:1,addrs:[e]})));for(let e=1;e<r.length;e++){const t=r[e];for(let e=0;e<t.accounts.length;e++){const r=t.accounts[e].toBase58();i[e].addrs.includes(r)||i[e].total++,i[e].addrs.push(r)}}let o=k();const s=i[o],a=m();for(let t=0;t<i.length;t++){const r=i[t];if(r.total!==s.total)continue;const n=r.addrs.indexOf(a[t]);if(-1!==n)return y(e,i[o].addrs[n])}}catch(r){}finally{f(!1)}}))),[e,w,k,m,y]),loading:d}}},3646:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateView=t.InstructionView=void 0;const i=n(r(89753));t.InstructionView=i.default;const o=n(r(62));t.TemplateView=o.default},89753:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstructorArguments=t.InstructorAccounts=void 0;const i=r(45263),o=r(92950),s=n(r(37472)),a=n(r(73705)),c=n(r(52813)),u=r(53456),l=r(6713),h=r(48126);var d;!function(e){e.Accounts="accounts",e.Arguments="arguments"}(d||(d={}));t.InstructorAccounts=()=>{const{parser:e,setAccountsMeta:t,setRecents:r}=(0,h.useParser)(),{accountsMetas:n,ixSelected:o}=e||{},s=(0,l.useIdlInstruction)(o);return(null===s||void 0===s?void 0:s.accounts.length)?(0,i.jsxs)("div",Object.assign({className:"grid grid-cols-1 gap-6"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-4"},{children:[(0,i.jsx)(u.Typography,Object.assign({className:"font-bold text-[18px]"},{children:"Accounts"})),s.accounts.map(((e,o)=>{var s;return(0,i.jsx)(a.default,{onChange:n=>((e,n)=>{t({name:e,data:n}),r({name:e,value:n.publicKey})})(e.name,n),accountName:e.name,value:null===(s=n[e.name])||void 0===s?void 0:s.publicKey},o)}))]})),(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-4"},{children:[(0,i.jsx)(u.Typography,Object.assign({className:"font-bold text-[18px]",level:4},{children:"Remaining Accounts"})),(0,i.jsx)(c.default,{})]}))]})):(0,i.jsx)(u.Empty,{className:"relative top-[50%] translate-y-[-50%]"})};t.InstructorArguments=()=>{const{parser:e,setArgsMeta:t}=(0,h.useParser)(),{argsMetas:r,ixSelected:n}=e||{},a=(0,l.useIdlInstruction)(n),c=(0,o.useCallback)(((e,r)=>t({name:e,val:r})),[t]);return(null===a||void 0===a?void 0:a.args.length)?(0,i.jsx)("div",Object.assign({className:"flex flex-col gap-4"},{children:a.args.map(((e,t)=>{let{name:o,type:a}=e;var u;return(0,i.jsx)(s.default,{idlType:a,onChange:e=>c(o,e),name:o,value:null===(u=r[n])||void 0===u?void 0:u[o]},t)}))})):(0,i.jsx)(u.Empty,{className:"relative top-[50%] translate-y-[-50%]"})};const f=e=>{let{selected:r}=e;const{parser:n}=(0,h.useParser)(),{idl:s}=n||{};return s?(0,i.jsxs)(o.Fragment,{children:[r===d.Accounts&&(0,i.jsx)(t.InstructorAccounts,{}),r===d.Arguments&&(0,i.jsx)(t.InstructorArguments,{})]}):(0,i.jsx)(u.Empty,{className:"relative top-[50%] translate-y-[-50%]"})};t.default=()=>{const[e,t]=(0,o.useState)("accounts");return(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-6 h-full"},{children:[(0,i.jsx)("div",Object.assign({className:"flex flex-col items-center"},{children:(0,i.jsx)(u.Segmented,{value:e,options:[d.Accounts,d.Arguments],onChange:t})})),(0,i.jsx)("div",Object.assign({className:"h-full"},{children:(0,i.jsx)(f,{selected:e})}))]}))}},62:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45263),i=r(92950),o=r(53456),s=r(48126);t.default=()=>{const{parser:e,setInstruction:t}=(0,s.useParser)(),{idl:r,ixSelected:a}=e||{},[c,u]=(0,i.useState)(a),l=e=>(u(e),t(e));return(0,n.jsx)("div",Object.assign({className:"grid gap-4 grid-cols-1 sm:grid-cols-2"},{children:null===r||void 0===r?void 0:r.instructions.map(((e,t)=>(0,n.jsx)(o.RadioButton,Object.assign({value:e.name,onChange:l,checked:c===e.name},{children:e.name}),t)))}))}},73783:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateView=t.InstructionView=t.ViewUploadedIdl=t.UploadIdl=t.IDLParserWrapper=t.withParser=t.useParser=t.ParserProvider=void 0,r(66188);var i=r(48126);Object.defineProperty(t,"ParserProvider",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(t,"useParser",{enumerable:!0,get:function(){return i.useParser}}),Object.defineProperty(t,"withParser",{enumerable:!0,get:function(){return i.withParser}});var o=r(83981);Object.defineProperty(t,"IDLParserWrapper",{enumerable:!0,get:function(){return n(o).default}});var s=r(79218);Object.defineProperty(t,"UploadIdl",{enumerable:!0,get:function(){return n(s).default}});var a=r(89711);Object.defineProperty(t,"ViewUploadedIdl",{enumerable:!0,get:function(){return n(a).default}});var c=r(89753);Object.defineProperty(t,"InstructionView",{enumerable:!0,get:function(){return n(c).default}});var u=r(62);Object.defineProperty(t,"TemplateView",{enumerable:!0,get:function(){return n(u).default}})},85276:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Ht,AddressLookupTableInstruction:()=>xr,AddressLookupTableProgram:()=>Pr,Authorized:()=>Ci,BLOCKHASH_CACHE_TIMEOUT_MS:()=>rn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Rr,BPF_LOADER_PROGRAM_ID:()=>Nr,BpfLoader:()=>jr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Lr,ComputeBudgetInstruction:()=>Ur,ComputeBudgetProgram:()=>zr,Connection:()=>Pi,Ed25519Program:()=>Oi,Enum:()=>zt,EpochSchedule:()=>$r,FeeCalculatorLayout:()=>er,Keypair:()=>Ri,LAMPORTS_PER_SOL:()=>so,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>Er,Loader:()=>Cr,Lockup:()=>Ni,MAX_SEED_LENGTH:()=>Mt,Message:()=>mr,NONCE_ACCOUNT_LENGTH:()=>rr,NonceAccount:()=>nr,PACKET_DATA_SIZE:()=>fr,PublicKey:()=>Wt,SIGNATURE_LENGTH_IN_BYTES:()=>pr,SOLANA_SCHEMA:()=>Dt,STAKE_CONFIG_ID:()=>Ti,STAKE_INSTRUCTION_LAYOUTS:()=>Ui,SYSTEM_INSTRUCTION_LAYOUTS:()=>Ar,SYSVAR_CLOCK_PUBKEY:()=>ir,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>or,SYSVAR_INSTRUCTIONS_PUBKEY:()=>sr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>ar,SYSVAR_RENT_PUBKEY:()=>cr,SYSVAR_REWARDS_PUBKEY:()=>ur,SYSVAR_SLOT_HASHES_PUBKEY:()=>lr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>hr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>dr,Secp256k1Program:()=>Ki,SendTransactionError:()=>Vr,SolanaJSONRPCError:()=>Gr,SolanaJSONRPCErrorCode:()=>Hr,StakeAuthorizationLayout:()=>Li,StakeInstruction:()=>ji,StakeProgram:()=>zi,Struct:()=>Lt,SystemInstruction:()=>Sr,SystemProgram:()=>Ir,Transaction:()=>vr,TransactionExpiredBlockheightExceededError:()=>Zr,TransactionExpiredTimeoutError:()=>Xr,TransactionInstruction:()=>_r,TransactionStatus:()=>wr,VALIDATOR_INFO_KEY:()=>qi,VOTE_PROGRAM_ID:()=>Vi,ValidatorInfo:()=>$i,VoteAccount:()=>Gi,VoteAuthorizationLayout:()=>to,VoteInit:()=>Yi,VoteInstruction:()=>Qi,VoteProgram:()=>ro,clusterApiUrl:()=>oo,sendAndConfirmRawTransaction:()=>no,sendAndConfirmTransaction:()=>Br});var n=r(44967),i=r.n(n),o=r(25792),s=r(48744),a=r.n(s),c=r(68532),u=r.n(c),l=r(21215),h=r(68706),d=r(25047),f=r(54338),p=r(85606),g=r(32908),y=r.n(g),m=r(91747),b=r.n(m),w=r(16348),k=r.n(w);const _=e=>o.Buffer.isBuffer(e)?e:e instanceof Uint8Array?o.Buffer.from(e.buffer,e.byteOffset,e.byteLength):o.Buffer.from(e);var v={},S={},A=I;function I(e,t){if(!e)throw new Error(t||"Assertion failed")}I.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var E={exports:{}};"function"===typeof Object.create?E.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:E.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var x=A,P=E.exports;function R(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function B(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function O(e){return 1===e.length?"0"+e:e}function T(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}S.inherits=P,S.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):R(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},S.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=O(e[r].toString(16));return t},S.htonl=B,S.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=B(i)),r+=T(i.toString(16))}return r},S.zero2=O,S.zero8=T,S.join32=function(e,t,r,n){var i=r-t;x(i%4===0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var c;c="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=c>>>0}return o},S.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},S.rotr32=function(e,t){return e>>>t|e<<32-t},S.rotl32=function(e,t){return e<<t|e>>>32-t},S.sum32=function(e,t){return e+t>>>0},S.sum32_3=function(e,t,r){return e+t+r>>>0},S.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},S.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},S.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},S.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},S.sum64_lo=function(e,t,r,n){return t+n>>>0},S.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},S.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},S.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+a>>>0)<a?1:0,e+r+i+s+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},S.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},S.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},S.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},S.shr64_hi=function(e,t,r){return e>>>r},S.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var C={},N=S,j=A;function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}C.BlockHash=U,U.prototype.update=function(e,t){if(e=N.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=N.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},U.prototype.digest=function(e){return this.update(this._pad()),j(null===this.pending),this._digest(e)},U.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var L={},z={},D=S.rotr32;function M(e,t,r){return e&t^~e&r}function W(e,t,r){return e&t^e&r^t&r}function K(e,t,r){return e^t^r}z.ft_1=function(e,t,r,n){return 0===e?M(t,r,n):1===e||3===e?K(t,r,n):2===e?W(t,r,n):void 0},z.ch32=M,z.maj32=W,z.p32=K,z.s0_256=function(e){return D(e,2)^D(e,13)^D(e,22)},z.s1_256=function(e){return D(e,6)^D(e,11)^D(e,25)},z.g0_256=function(e){return D(e,7)^D(e,18)^e>>>3},z.g1_256=function(e){return D(e,17)^D(e,19)^e>>>10};var q=S,F=C,$=z,V=q.rotl32,H=q.sum32,G=q.sum32_5,J=$.ft_1,Z=F.BlockHash,X=[1518500249,1859775393,2400959708,3395469782];function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}q.inherits(Y,Z);var Q=Y;Y.blockSize=512,Y.outSize=160,Y.hmacStrength=80,Y.padLength=64,Y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=V(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=G(V(i,5),J(u,o,s,a),c,r[n],X[u]);c=a,a=s,s=V(o,30),o=i,i=l}this.h[0]=H(this.h[0],i),this.h[1]=H(this.h[1],o),this.h[2]=H(this.h[2],s),this.h[3]=H(this.h[3],a),this.h[4]=H(this.h[4],c)},Y.prototype._digest=function(e){return"hex"===e?q.toHex32(this.h,"big"):q.split32(this.h,"big")};var ee=S,te=C,re=z,ne=A,ie=ee.sum32,oe=ee.sum32_4,se=ee.sum32_5,ae=re.ch32,ce=re.maj32,ue=re.s0_256,le=re.s1_256,he=re.g0_256,de=re.g1_256,fe=te.BlockHash,pe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ge(){if(!(this instanceof ge))return new ge;fe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=pe,this.W=new Array(64)}ee.inherits(ge,fe);var ye=ge;ge.blockSize=512,ge.outSize=256,ge.hmacStrength=192,ge.padLength=64,ge.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=oe(de(r[n-2]),r[n-7],he(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(ne(this.k.length===r.length),n=0;n<r.length;n++){var d=se(h,le(c),ae(c,u,l),this.k[n],r[n]),f=ie(ue(i),ce(i,o,s));h=l,l=u,u=c,c=ie(a,d),a=s,s=o,o=i,i=ie(d,f)}this.h[0]=ie(this.h[0],i),this.h[1]=ie(this.h[1],o),this.h[2]=ie(this.h[2],s),this.h[3]=ie(this.h[3],a),this.h[4]=ie(this.h[4],c),this.h[5]=ie(this.h[5],u),this.h[6]=ie(this.h[6],l),this.h[7]=ie(this.h[7],h)},ge.prototype._digest=function(e){return"hex"===e?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")};var me=S,be=ye;function we(){if(!(this instanceof we))return new we;be.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}me.inherits(we,be);var ke=we;we.blockSize=512,we.outSize=224,we.hmacStrength=192,we.padLength=64,we.prototype._digest=function(e){return"hex"===e?me.toHex32(this.h.slice(0,7),"big"):me.split32(this.h.slice(0,7),"big")};var _e=S,ve=C,Se=A,Ae=_e.rotr64_hi,Ie=_e.rotr64_lo,Ee=_e.shr64_hi,xe=_e.shr64_lo,Pe=_e.sum64,Re=_e.sum64_hi,Be=_e.sum64_lo,Oe=_e.sum64_4_hi,Te=_e.sum64_4_lo,Ce=_e.sum64_5_hi,Ne=_e.sum64_5_lo,je=ve.BlockHash,Ue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Le(){if(!(this instanceof Le))return new Le;je.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ue,this.W=new Array(160)}_e.inherits(Le,je);var ze=Le;function De(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Me(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function We(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Ke(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function qe(e,t){var r=Ae(e,t,28)^Ae(t,e,2)^Ae(t,e,7);return r<0&&(r+=4294967296),r}function Fe(e,t){var r=Ie(e,t,28)^Ie(t,e,2)^Ie(t,e,7);return r<0&&(r+=4294967296),r}function $e(e,t){var r=Ae(e,t,14)^Ae(e,t,18)^Ae(t,e,9);return r<0&&(r+=4294967296),r}function Ve(e,t){var r=Ie(e,t,14)^Ie(e,t,18)^Ie(t,e,9);return r<0&&(r+=4294967296),r}function He(e,t){var r=Ae(e,t,1)^Ae(e,t,8)^Ee(e,t,7);return r<0&&(r+=4294967296),r}function Ge(e,t){var r=Ie(e,t,1)^Ie(e,t,8)^xe(e,t,7);return r<0&&(r+=4294967296),r}function Je(e,t){var r=Ae(e,t,19)^Ae(t,e,29)^Ee(e,t,6);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Ie(e,t,19)^Ie(t,e,29)^xe(e,t,6);return r<0&&(r+=4294967296),r}Le.blockSize=1024,Le.outSize=512,Le.hmacStrength=192,Le.padLength=128,Le.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Je(r[n-4],r[n-3]),o=Ze(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=He(r[n-30],r[n-29]),u=Ge(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=Oe(i,o,s,a,c,u,l,h),r[n+1]=Te(i,o,s,a,c,u,l,h)}},Le.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],y=this.h[13],m=this.h[14],b=this.h[15];Se(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var k=m,_=b,v=$e(h,d),S=Ve(h,d),A=De(h,d,f,p,g),I=Me(h,d,f,p,g,y),E=this.k[w],x=this.k[w+1],P=r[w],R=r[w+1],B=Ce(k,_,v,S,A,I,E,x,P,R),O=Ne(k,_,v,S,A,I,E,x,P,R);k=qe(n,i),_=Fe(n,i),v=We(n,i,o,s,a),S=Ke(n,i,o,s,a,c);var T=Re(k,_,v,S),C=Be(k,_,v,S);m=g,b=y,g=f,y=p,f=h,p=d,h=Re(u,l,B,O),d=Be(l,l,B,O),u=a,l=c,a=o,c=s,o=n,s=i,n=Re(B,O,T,C),i=Be(B,O,T,C)}Pe(this.h,0,n,i),Pe(this.h,2,o,s),Pe(this.h,4,a,c),Pe(this.h,6,u,l),Pe(this.h,8,h,d),Pe(this.h,10,f,p),Pe(this.h,12,g,y),Pe(this.h,14,m,b)},Le.prototype._digest=function(e){return"hex"===e?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")};var Xe=S,Ye=ze;function Qe(){if(!(this instanceof Qe))return new Qe;Ye.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xe.inherits(Qe,Ye);var et=Qe;Qe.blockSize=1024,Qe.outSize=384,Qe.hmacStrength=192,Qe.padLength=128,Qe.prototype._digest=function(e){return"hex"===e?Xe.toHex32(this.h.slice(0,12),"big"):Xe.split32(this.h.slice(0,12),"big")},L.sha1=Q,L.sha224=ke,L.sha256=ye,L.sha384=et,L.sha512=ze;var tt={},rt=S,nt=C,it=rt.rotl32,ot=rt.sum32,st=rt.sum32_3,at=rt.sum32_4,ct=nt.BlockHash;function ut(){if(!(this instanceof ut))return new ut;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function lt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function dt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}rt.inherits(ut,ct),tt.ripemd160=ut,ut.blockSize=512,ut.outSize=160,ut.hmacStrength=192,ut.padLength=64,ut.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,c=n,u=i,l=o,h=s,d=0;d<80;d++){var f=ot(it(at(r,lt(d,n,i,o),e[ft[d]+t],ht(d)),gt[d]),s);r=s,s=o,o=it(i,10),i=n,n=f,f=ot(it(at(a,lt(79-d,c,u,l),e[pt[d]+t],dt(d)),yt[d]),h),a=h,h=l,l=it(u,10),u=c,c=f}f=st(this.h[1],i,l),this.h[1]=st(this.h[2],o,h),this.h[2]=st(this.h[3],s,a),this.h[3]=st(this.h[4],r,c),this.h[4]=st(this.h[0],n,u),this.h[0]=f},ut.prototype._digest=function(e){return"hex"===e?rt.toHex32(this.h,"little"):rt.split32(this.h,"little")};var ft=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mt=S,bt=A;function wt(e,t,r){if(!(this instanceof wt))return new wt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(mt.toArray(t,r))}var kt=wt;wt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),bt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},wt.prototype.update=function(e,t){return this.inner.update(e,t),this},wt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=S,t.common=C,t.sha=L,t.ripemd=tt,t.hmac=kt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(v);var _t=v;let vt=!1,St=!1;const At={debug:1,default:2,info:2,warning:3,error:4,off:5};let It=At.default,Et=null;const xt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Pt,Rt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Pt||(Pt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Rt||(Rt={}));const Bt="0123456789abcdef";class Ot{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==At[r]&&this.throwArgumentError("invalid log level name","logLevel",e),It>At[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.WARNING,t)}makeError(e,t,r){if(St)return this.makeError("censored error",t,{});t||(t=Ot.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Bt[t[e]>>4],r+=Bt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case Rt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Rt.CALL_EXCEPTION:case Rt.INSUFFICIENT_FUNDS:case Rt.MISSING_NEW:case Rt.NONCE_EXPIRED:case Rt.REPLACEMENT_UNDERPRICED:case Rt.TRANSACTION_REPLACED:case Rt.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Ot.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){xt&&this.throwError("platform missing String.prototype.normalize",Ot.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:xt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Ot.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Ot.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Ot.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Et||(Et=new Ot("logger/5.6.0")),Et}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),vt){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}St=!!e,vt=!!t}static setLogLevel(e){const t=At[e.toLowerCase()];null!=t?It=t:Ot.globalLogger().warn("invalid log level - "+e)}static from(e){return new Ot(e)}}Ot.errors=Rt,Ot.levels=Pt;const Tt=new Ot("bytes/5.6.0");function Ct(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ct(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Nt(e){return"number"===typeof e&&e==e&&e%1===0}function jt(e,t){if(t||(t={}),"number"===typeof e){Tt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ct(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Tt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Ct(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Nt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Nt(r)||r<0||r>=256)return!1}return!0}(e)?Ct(new Uint8Array(e)):Tt.throwArgumentError("invalid arrayify value","value",e)}function Ut(e){return"0x"+_t.sha256().update(jt(e)).digest("hex")}new Ot("sha2/5.6.0");class Lt{constructor(e){Object.assign(this,e)}encode(){return o.Buffer.from((0,l.serialize)(Dt,this))}static decode(e){return(0,l.deserialize)(Dt,this,e)}static decodeUnchecked(e){return(0,l.deserializeUnchecked)(Dt,this,e)}}class zt extends Lt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Dt=new Map,Mt=32;class Wt extends Lt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=u().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return u().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(o.Buffer);if(32===e.length)return e;const t=o.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=o.Buffer.concat([e.toBuffer(),o.Buffer.from(t),r.toBuffer()]),i=Ut(new Uint8Array(n)).slice(2);return new Wt(o.Buffer.from(i,"hex"))}static createProgramAddressSync(e,t){let r=o.Buffer.alloc(0);e.forEach((function(e){if(e.length>Mt)throw new TypeError("Max seed length exceeded");r=o.Buffer.concat([r,_(e)])})),r=o.Buffer.concat([r,t.toBuffer(),o.Buffer.from("ProgramDerivedAddress")]);let n=Ut(new Uint8Array(r)).slice(2),i=new(a())(n,16).toArray(void 0,32);if(qt(i))throw new Error("Invalid seeds, address must fall off the curve");return new Wt(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(o.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==qt(new Wt(e).toBytes())}}Wt.default=new Wt("11111111111111111111111111111111"),Dt.set(Wt,{kind:"struct",fields:[["_bn","u256"]]});let Kt=i().lowlevel;function qt(e){var t=[Kt.gf(),Kt.gf(),Kt.gf(),Kt.gf()],r=Kt.gf(),n=Kt.gf(),i=Kt.gf(),o=Kt.gf(),s=Kt.gf(),a=Kt.gf(),c=Kt.gf();return Kt.set25519(t[2],Ft),Kt.unpack25519(t[1],e),Kt.S(i,t[1]),Kt.M(o,i,Kt.D),Kt.Z(i,i,t[2]),Kt.A(o,t[2],o),Kt.S(s,o),Kt.S(a,s),Kt.M(c,a,s),Kt.M(r,c,i),Kt.M(r,r,o),Kt.pow2523(r,r),Kt.M(r,r,i),Kt.M(r,r,o),Kt.M(r,r,o),Kt.M(t[0],r,o),Kt.S(n,t[0]),Kt.M(n,n,o),Vt(n,i)&&Kt.M(t[0],t[0],$t),Kt.S(n,t[0]),Kt.M(n,n,o),Vt(n,i)?0:1}let Ft=Kt.gf([1]),$t=Kt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Vt(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Kt.pack25519(r,e),Kt.pack25519(n,t),Kt.crypto_verify_32(r,0,n,0)}class Ht{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(_(e)):i().sign.keyPair()}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return _(this._keypair.secretKey)}}const Gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.Ik(32,e)},Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=d.n_([d.Jq("length"),d.Jq("lengthPadding"),d.Ik(d.cv(d.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:o.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>d.Jq().span+d.Jq().span+o.Buffer.from(e,"utf8").length,i};const Zt=(Xt=8,e=>{const t=(0,d.Ik)(Xt,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,h.oU)(o.Buffer.from(r))},i.encode=(e,t,n)=>{const i=(0,h.k$)(e,Xt);return r(i,t,n)},i});var Xt;function Yt(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}(e,t),n=o.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function Qt(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const er=d._O("lamportsPerSignature"),tr=d.n_([d.Jq("version"),d.Jq("state"),Gt("authorizedPubkey"),Gt("nonce"),d.n_([er],"feeCalculator")]),rr=tr.span;class nr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=tr.decode(_(e),0);return new nr({authorizedPubkey:new Wt(t.authorizedPubkey),nonce:new Wt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const ir=new Wt("SysvarC1ock11111111111111111111111111111111"),or=new Wt("SysvarEpochSchedu1e111111111111111111111111"),sr=new Wt("Sysvar1nstructions1111111111111111111111111"),ar=new Wt("SysvarRecentB1ockHashes11111111111111111111"),cr=new Wt("SysvarRent111111111111111111111111111111111"),ur=new Wt("SysvarRewards111111111111111111111111111111"),lr=new Wt("SysvarS1otHashes111111111111111111111111111"),hr=new Wt("SysvarS1otHistory11111111111111111111111111"),dr=new Wt("SysvarStakeHistory1111111111111111111111111"),fr=1232,pr=64;function gr(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function yr(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class mr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Wt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];yr(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(u().decode(e.data));let i=[];yr(i,t.length);let s=[];return yr(s,n.length),{programIdIndex:r,keyIndicesCount:o.Buffer.from(i),keyIndices:t,dataLength:o.Buffer.from(s),data:n}}));let n=[];yr(n,r.length);let i=o.Buffer.alloc(fr);o.Buffer.from(n).copy(i);let s=n.length;r.forEach((e=>{const t=d.n_([d.u8("programIdIndex"),d.Ik(e.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.Ik(e.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(t.length,"keyCount"),d.A9(Gt("key"),e,"keys"),Gt("recentBlockhash")]),c={numRequiredSignatures:o.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:o.Buffer.from(t),keys:this.accountKeys.map((e=>_(e.toBytes()))),recentBlockhash:u().decode(this.recentBlockhash)};let l=o.Buffer.alloc(2048);const h=a.encode(c,l);return i.copy(l,h),l.slice(0,h+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),s=gr(t);let a=[];for(let f=0;f<s;f++){const e=t.slice(0,32);t=t.slice(32),a.push(u().encode(o.Buffer.from(e)))}const c=t.slice(0,32);t=t.slice(32);const l=gr(t);let h=[];for(let f=0;f<l;f++){const e=t.shift(),r=gr(t),n=t.slice(0,r);t=t.slice(r);const i=gr(t),s=t.slice(0,i),a=u().encode(o.Buffer.from(s));t=t.slice(i),h.push({programIdIndex:e,accounts:n,data:a})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:u().encode(o.Buffer.from(c)),accountKeys:a,instructions:h};return new mr(d)}}function br(e,t){if(!e)throw new Error(t||"Assertion failed")}let wr;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(wr||(wr={}));const kr=o.Buffer.alloc(pr).fill(0);class _r{constructor(e){this.keys=void 0,this.programId=void 0,this.data=o.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class vr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new _r(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let u=0;u<t.length;u++)if(void 0===t[u].programId)throw new Error(`Transaction instruction index ${u} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Wt(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const s=o.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const u of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(u.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${u.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,l=0;const h=[],d=[];o.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(h.push(t.toString()),a+=1,n||(c+=1)):(d.push(t.toString()),n||(l+=1))}));const f=h.concat(d),p=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:f.indexOf(r.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:u().encode(t)}}));return p.forEach((e=>{br(e.programIdIndex>=0),e.accounts.forEach((e=>br(e>=0)))})),new mr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const s of t){const e=s.publicKey.toString();n.has(e)||(n.add(e),i.push(s))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const o=this._compile();this._partialSign(o,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const s of t){const e=s.publicKey.toString();n.has(e)||(n.add(e),i.push(s))}const o=this._compile();this._partialSign(o,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((e=>{const r=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,_(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){br(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=o.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!i().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];yr(r,t.length);const n=r.length+64*t.length+e.length,i=o.Buffer.alloc(n);return br(t.length<256),o.Buffer.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(br(64===n.length,"signature has invalid length"),o.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),br(i.length<=fr,`Transaction too large: ${i.length} > ${fr}`),i}get keys(){return br(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return br(1===this.instructions.length),this.instructions[0].programId}get data(){return br(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=gr(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,pr);t=t.slice(pr),n.push(u().encode(o.Buffer.from(e)))}return vr.populate(mr.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new vr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==u().encode(kr)?null:u().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new _r({keys:n,programId:e.accountKeys[t.programIdIndex],data:u().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class Sr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Ar))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=Qt(Ar.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Wt(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Qt(Ar.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=Qt(Ar.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Wt(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Qt(Ar.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=Qt(Ar.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Wt(t),seed:r,space:n,programId:new Wt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Qt(Ar.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Wt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=Qt(Ar.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Wt(t),seed:r,programId:new Wt(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:o}=Qt(Ar.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Wt(t),seed:r,lamports:n,space:i,programId:new Wt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Qt(Ar.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Wt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(Ar.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qt(Ar.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Qt(Ar.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Wt(t)}}static checkProgramId(e){if(!e.equals(Ir.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ar=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),Gt("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),Gt("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),Zt("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),Gt("base"),Jt("seed"),d.gM("lamports"),d.gM("space"),Gt("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),Gt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),Gt("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),Gt("base"),Jt("seed"),d.gM("space"),Gt("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),Gt("base"),Jt("seed"),Gt("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),Zt("lamports"),Jt("seed"),Gt("programId")])},UpgradeNonceAccount:{index:12,layout:d.n_([d.Jq("instruction")])}});class Ir{constructor(){}static createAccount(e){const t=Yt(Ar.Create,{lamports:e.lamports,space:e.space,programId:_(e.programId.toBuffer())});return new _r({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=Yt(Ar.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:_(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Yt(Ar.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new _r({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=Yt(Ar.AssignWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,programId:_(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Yt(Ar.Assign,{programId:_(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _r({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Yt(Ar.CreateWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:_(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new _r({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new vr;"basePubkey"in e&&"seed"in e?t.add(Ir.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:rr,programId:this.programId})):t.add(Ir.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:rr,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Yt(Ar.InitializeNonceAccount,{authorized:_(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new _r(r)}static nonceAdvance(e){const t=Yt(Ar.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new _r(r)}static nonceWithdraw(e){const t=Yt(Ar.WithdrawNonceAccount,{lamports:e.lamports});return new _r({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Yt(Ar.AuthorizeNonceAccount,{authorized:_(e.newAuthorizedPubkey.toBuffer())});return new _r({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=Yt(Ar.AllocateWithSeed,{base:_(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:_(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Yt(Ar.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _r({keys:r,programId:this.programId,data:t})}}Ir.programId=new Wt("11111111111111111111111111111111");const Er=Object.freeze({CreateLookupTable:{index:0,layout:d.n_([d.Jq("instruction"),Zt("recentSlot"),d.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:d.n_([d.Jq("instruction")])},ExtendLookupTable:{index:2,layout:d.n_([d.Jq("instruction"),Zt(),d.A9(Gt(),d.cv(d.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:d.n_([d.Jq("instruction")])},CloseLookupTable:{index:4,layout:d.n_([d.Jq("instruction")])}});class xr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Er))if(i.index==t){r=n;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Qt(Er.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Qt(Er.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new Wt(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Pr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Pr{constructor(){}static createLookupTable(e){const[t,r]=Wt.findProgramAddressSync([e.authority.toBuffer(),(0,h.k$)(BigInt(e.recentSlot),8)],this.programId),n=Yt(Er.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ir.programId,isSigner:!1,isWritable:!1}];return[new _r({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=Yt(Er.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _r({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=Yt(Er.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ir.programId,isSigner:!1,isWritable:!1}),new _r({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=Yt(Er.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _r({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=Yt(Er.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new _r({programId:this.programId,keys:r,data:t})}}Pr.programId=new Wt("AddressLookupTab1e1111111111111111111111111");const Rr=new Wt("BPFLoader1111111111111111111111111111111111");async function Br(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await e.sendTransaction(t,r,i),s=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Or(e){return new Promise((t=>setTimeout(t,e)))}const Tr=fr-300;class Cr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Cr.chunkSize)+1+1)}static async load(e,t,r,n,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new vr,a.add(Ir.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new vr,a.add(Ir.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new vr,a.add(Ir.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new vr).add(Ir.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await Br(e,a,[t,r],{commitment:"confirmed"})}const s=d.n_([d.Jq("instruction"),d.Jq("offset"),d.Jq("bytesLength"),d.Jq("bytesLengthPadding"),d.A9(d.u8("byte"),d.cv(d.Jq(),-8),"bytes")]),a=Cr.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const i=u.slice(0,a),h=o.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},h);const d=(new vr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(Br(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Or(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(l);{const i=d.n_([d.Jq("instruction")]),s=o.Buffer.alloc(i.span);i.encode({instruction:1},s);const a=(new vr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1}],programId:n,data:s});await Br(e,a,[t,r],{commitment:"confirmed"})}return!0}}Cr.chunkSize=Tr;const Nr=new Wt("BPFLoader2111111111111111111111111111111111");class jr{static getMinNumSignatures(e){return Cr.getMinNumSignatures(e)}static load(e,t,r,n,i){return Cr.load(e,t,r,i,n)}}class Ur{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u8("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Lr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Qt(Lr.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Qt(Lr.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Qt(Lr.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Qt(Lr.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(zr.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Lr=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:d.n_([d.u8("instruction"),d.Jq("units")])},SetComputeUnitPrice:{index:3,layout:d.n_([d.u8("instruction"),Zt("microLamports")])}});class zr{constructor(){}static requestUnits(e){const t=Yt(Lr.RequestUnits,e);return new _r({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Yt(Lr.RequestHeapFrame,e);return new _r({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Yt(Lr.SetComputeUnitLimit,e);return new _r({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Yt(Lr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new _r({keys:[],programId:this.programId,data:t})}}zr.programId=new Wt("ComputeBudget111111111111111111111111111111");var Dr=Object.prototype.toString,Mr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Wr(e,t){var r,n,i,o,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return Wr(e.toJSON(),t);if("[object Array]"===(c=Dr.call(e))){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Wr(e[r],!0)+",";return n>-1&&(i+=Wr(e[r],!0)),i+"]"}if("[object Object]"===c){for(n=(o=Mr(e).sort()).length,i="",r=0;r<n;)void 0!==(a=Wr(e[s=o[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Kr=function(e){var t=Wr(e,!1);if(void 0!==t)return""+t};const qr=globalThis.URL;function Fr(e){let t=0;for(;e>1;)e/=2,t++;return t}class $r{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Fr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Fr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Fr(32)):this.slotsPerEpoch}}class Vr extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Hr={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Gr extends Error{constructor(e,t){let{code:r,message:n,data:i}=e;super(null!=t?`${t}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=r,this.data=i,this.name="SolanaJSONRPCError"}}var Jr=globalThis.fetch;class Zr extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Zr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Xr extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}var Yr;Object.defineProperty(Xr.prototype,"name",{value:"TransactionExpiredTimeoutError"});const Qr=(0,f.oQ)((0,f.eE)(Wt),(0,f.Z_)(),(e=>new Wt(e))),en=(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")]),tn=(0,f.oQ)((0,f.eE)(o.Buffer),en,(e=>o.Buffer.from(e[0],"base64"))),rn=3e4;function nn(e){let t,r;if("string"===typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function on(e){return(0,f.G0)([(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),result:e}),(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),error:(0,f.dt)({code:(0,f._4)(),message:(0,f.Z_)(),data:(0,f.jt)((0,f.Yj)())})})])}const sn=on((0,f._4)());function an(e){return(0,f.oQ)(on(e),sn,(t=>"error"in t?t:{...t,result:(0,f.Ue)(t.result,e)}))}function cn(e){return an((0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e}))}function un(e){return(0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e})}const ln=(0,f.dt)({foundation:(0,f.Rx)(),foundationTerm:(0,f.Rx)(),initial:(0,f.Rx)(),taper:(0,f.Rx)(),terminal:(0,f.Rx)()}),hn=an((0,f.IX)((0,f.AG)((0,f.dt)({epoch:(0,f.Rx)(),effectiveSlot:(0,f.Rx)(),amount:(0,f.Rx)(),postBalance:(0,f.Rx)()})))),dn=(0,f.dt)({epoch:(0,f.Rx)(),slotIndex:(0,f.Rx)(),slotsInEpoch:(0,f.Rx)(),absoluteSlot:(0,f.Rx)(),blockHeight:(0,f.jt)((0,f.Rx)()),transactionCount:(0,f.jt)((0,f.Rx)())}),fn=(0,f.dt)({slotsPerEpoch:(0,f.Rx)(),leaderScheduleSlotOffset:(0,f.Rx)(),warmup:(0,f.O7)(),firstNormalEpoch:(0,f.Rx)(),firstNormalSlot:(0,f.Rx)()}),pn=(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),gn=(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),yn=(0,f.dt)({err:gn}),mn=(0,f.i0)("receivedSignature"),bn=(0,f.dt)({"solana-core":(0,f.Z_)(),"feature-set":(0,f.jt)((0,f.Rx)())}),wn=cn((0,f.dt)({err:(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),logs:(0,f.AG)((0,f.IX)((0,f.Z_)())),accounts:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.AG)((0,f.dt)({executable:(0,f.O7)(),owner:(0,f.Z_)(),lamports:(0,f.Rx)(),data:(0,f.IX)((0,f.Z_)()),rentEpoch:(0,f.jt)((0,f.Rx)())}))))),unitsConsumed:(0,f.jt)((0,f.Rx)()),returnData:(0,f.jt)((0,f.AG)((0,f.dt)({programId:(0,f.Z_)(),data:(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")])})))})),kn=cn((0,f.dt)({byIdentity:(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),range:(0,f.dt)({firstSlot:(0,f.Rx)(),lastSlot:(0,f.Rx)()})}));const _n=an(ln),vn=an(dn),Sn=an(fn),An=an(pn),In=an((0,f.Rx)()),En=cn((0,f.dt)({total:(0,f.Rx)(),circulating:(0,f.Rx)(),nonCirculating:(0,f.Rx)(),nonCirculatingAccounts:(0,f.IX)(Qr)})),xn=(0,f.dt)({amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}),Pn=cn((0,f.IX)((0,f.dt)({address:Qr,amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}))),Rn=cn((0,f.IX)((0,f.dt)({pubkey:Qr,account:(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:tn,rentEpoch:(0,f.Rx)()})}))),Bn=(0,f.dt)({program:(0,f.Z_)(),parsed:(0,f._4)(),space:(0,f.Rx)()}),On=cn((0,f.IX)((0,f.dt)({pubkey:Qr,account:(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:Bn,rentEpoch:(0,f.Rx)()})}))),Tn=cn((0,f.IX)((0,f.dt)({lamports:(0,f.Rx)(),address:Qr}))),Cn=(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:tn,rentEpoch:(0,f.Rx)()}),Nn=(0,f.dt)({pubkey:Qr,account:Cn}),jn=(0,f.oQ)((0,f.G0)([(0,f.eE)(o.Buffer),Bn]),(0,f.G0)([en,Bn]),(e=>Array.isArray(e)?(0,f.Ue)(e,tn):e)),Un=(0,f.dt)({executable:(0,f.O7)(),owner:Qr,lamports:(0,f.Rx)(),data:jn,rentEpoch:(0,f.Rx)()}),Ln=(0,f.dt)({pubkey:Qr,account:Un}),zn=(0,f.dt)({state:(0,f.G0)([(0,f.i0)("active"),(0,f.i0)("inactive"),(0,f.i0)("activating"),(0,f.i0)("deactivating")]),active:(0,f.Rx)(),inactive:(0,f.Rx)()}),Dn=an((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:gn,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),Mn=an((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:gn,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),Wn=(0,f.dt)({subscription:(0,f.Rx)(),result:un(Cn)}),Kn=(0,f.dt)({pubkey:Qr,account:Cn}),qn=(0,f.dt)({subscription:(0,f.Rx)(),result:un(Kn)}),Fn=(0,f.dt)({parent:(0,f.Rx)(),slot:(0,f.Rx)(),root:(0,f.Rx)()}),$n=(0,f.dt)({subscription:(0,f.Rx)(),result:Fn}),Vn=(0,f.G0)([(0,f.dt)({type:(0,f.G0)([(0,f.i0)("firstShredReceived"),(0,f.i0)("completed"),(0,f.i0)("optimisticConfirmation"),(0,f.i0)("root")]),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("createdBank"),parent:(0,f.Rx)(),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("frozen"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),stats:(0,f.dt)({numTransactionEntries:(0,f.Rx)(),numSuccessfulTransactions:(0,f.Rx)(),numFailedTransactions:(0,f.Rx)(),maxTransactionsPerEntry:(0,f.Rx)()})}),(0,f.dt)({type:(0,f.i0)("dead"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),err:(0,f.Z_)()})]),Hn=(0,f.dt)({subscription:(0,f.Rx)(),result:Vn}),Gn=(0,f.dt)({subscription:(0,f.Rx)(),result:un((0,f.G0)([yn,mn]))}),Jn=(0,f.dt)({subscription:(0,f.Rx)(),result:(0,f.Rx)()}),Zn=(0,f.dt)({pubkey:(0,f.Z_)(),gossip:(0,f.AG)((0,f.Z_)()),tpu:(0,f.AG)((0,f.Z_)()),rpc:(0,f.AG)((0,f.Z_)()),version:(0,f.AG)((0,f.Z_)())}),Xn=(0,f.dt)({votePubkey:(0,f.Z_)(),nodePubkey:(0,f.Z_)(),activatedStake:(0,f.Rx)(),epochVoteAccount:(0,f.O7)(),epochCredits:(0,f.IX)((0,f.bc)([(0,f.Rx)(),(0,f.Rx)(),(0,f.Rx)()])),commission:(0,f.Rx)(),lastVote:(0,f.Rx)(),rootSlot:(0,f.AG)((0,f.Rx)())}),Yn=an((0,f.dt)({current:(0,f.IX)(Xn),delinquent:(0,f.IX)(Xn)})),Qn=(0,f.G0)([(0,f.i0)("processed"),(0,f.i0)("confirmed"),(0,f.i0)("finalized")]),ei=(0,f.dt)({slot:(0,f.Rx)(),confirmations:(0,f.AG)((0,f.Rx)()),err:gn,confirmationStatus:(0,f.jt)(Qn)}),ti=cn((0,f.IX)((0,f.AG)(ei))),ri=an((0,f.Rx)()),ni=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.Z_)()),header:(0,f.dt)({numRequiredSignatures:(0,f.Rx)(),numReadonlySignedAccounts:(0,f.Rx)(),numReadonlyUnsignedAccounts:(0,f.Rx)()}),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()})),recentBlockhash:(0,f.Z_)()})}),ii=(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:Qr}),oi=(0,f.dt)({accounts:(0,f.IX)(Qr),data:(0,f.Z_)(),programId:Qr}),si=(0,f.G0)([oi,ii]),ai=(0,f.G0)([(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:(0,f.Z_)()}),(0,f.dt)({accounts:(0,f.IX)((0,f.Z_)()),data:(0,f.Z_)(),programId:(0,f.Z_)()})]),ci=(0,f.oQ)(si,ai,(e=>"accounts"in e?(0,f.Ue)(e,oi):(0,f.Ue)(e,ii))),ui=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.dt)({pubkey:Qr,signer:(0,f.O7)(),writable:(0,f.O7)()})),instructions:(0,f.IX)(ci),recentBlockhash:(0,f.Z_)()})}),li=(0,f.dt)({accountIndex:(0,f.Rx)(),mint:(0,f.Z_)(),owner:(0,f.jt)((0,f.Z_)()),uiTokenAmount:xn}),hi=(0,f.dt)({err:gn,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()}))})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li)))}),di=(0,f.dt)({err:gn,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)(ci)})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(li)))}),fi=an((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:ni,meta:(0,f.AG)(hi)})),rewards:(0,f.jt)((0,f.IX)((0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)())}))),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),pi=an((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:ni,meta:(0,f.AG)(hi)})),rewards:(0,f.jt)((0,f.IX)((0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)())}))),blockTime:(0,f.AG)((0,f.Rx)())}))),gi=an((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),signatures:(0,f.IX)((0,f.Z_)()),blockTime:(0,f.AG)((0,f.Rx)())}))),yi=an((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),meta:hi,blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)())),transaction:ni}))),mi=an((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),transaction:ui,meta:(0,f.AG)(di),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),bi=cn((0,f.dt)({blockhash:(0,f.Z_)(),feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})})),wi=cn((0,f.dt)({blockhash:(0,f.Z_)(),lastValidBlockHeight:(0,f.Rx)()})),ki=(0,f.dt)({slot:(0,f.Rx)(),numTransactions:(0,f.Rx)(),numSlots:(0,f.Rx)(),samplePeriodSecs:(0,f.Rx)()}),_i=an((0,f.IX)(ki)),vi=cn((0,f.AG)((0,f.dt)({feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})}))),Si=an((0,f.Z_)()),Ai=an((0,f.Z_)()),Ii=(0,f.dt)({err:gn,logs:(0,f.IX)((0,f.Z_)()),signature:(0,f.Z_)()}),Ei=(0,f.dt)({result:un(Ii),subscription:(0,f.Rx)()}),xi={"solana-client":`js/${null!==(Yr="0.0.0-development")?Yr:"UNKNOWN"}`};class Pi{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r=new qr(e);r.protocol;let n,i,o,s,a;var c;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,s=t.fetchMiddleware,a=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new qr(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,i,o){const s=n||Jr;let a;return i&&(a=async(e,t)=>{const r=await new Promise(((r,n)=>{try{i(e,t,((e,t)=>r([e,t])))}catch(o){n(o)}}));return await s(...r)}),new(y())((async(t,n)=>{const i={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},xi)};try{let t,r=5,c=500;for(;t=a?await a(e,i):await s(e,i),429===t.status&&!0!==o&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await Or(c),c*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(c){c instanceof Error&&n(c)}}),{})}(r.toString(),0,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((r,n)=>{c.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new p.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgs([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getBalance",i),s=(0,f.Ue)(o,cn((0,f.Rx)()));if("error"in s)throw new Gr(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,f.Ue)(t,an((0,f.AG)((0,f.Rx)())));if("error"in r)throw new Gr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,f.Ue)(e,an((0,f.Rx)()));if("error"in t)throw new Gr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,f.Ue)(e,In);if("error"in t)throw new Gr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,f.Ue)(r,En);if("error"in n)throw new Gr(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,f.Ue)(n,cn(xn));if("error"in i)throw new Gr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,f.Ue)(n,cn(xn));if("error"in i)throw new Gr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=nn(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,n,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=(0,f.Ue)(a,Rn);if("error"in c)throw new Gr(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,f.Ue)(o,On);if("error"in s)throw new Gr(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,f.Ue)(n,Tn);if("error"in i)throw new Gr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,f.Ue)(n,Pn);if("error"in i)throw new Gr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgs([e.toBase58()],r,"base64",n),o=await this._rpcRequest("getAccountInfo",i),s=(0,f.Ue)(o,cn((0,f.AG)(Cn)));if("error"in s)throw new Gr(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,f.Ue)(n,cn((0,f.AG)(Un)));if("error"in i)throw new Gr(i.error,`failed to get info about account ${e.toBase58()}`);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=nn(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],r,"base64",n),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,f.Ue)(s,cn((0,f.IX)((0,f.AG)(Cn))));if("error"in a)throw new Gr(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=nn(t),o=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:null===i||void 0===i?void 0:i.epoch}),s=await this._rpcRequest("getStakeActivation",o),a=(0,f.Ue)(s,an(zn));if("error"in a)throw new Gr(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=nn(t),{encoding:i,...o}=n||{},s=this._buildArgs([e.toBase58()],r,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=(0,f.Ue)(a,an((0,f.IX)(Nn)));if("error"in c)throw new Gr(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=await this._rpcRequest("getProgramAccounts",i),s=(0,f.Ue)(o,an((0,f.IX)(Ln)));if("error"in s)throw new Gr(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{r=e.signature}try{n=u().decode(r)}catch(d){throw new Error("signature must be base58 encoded: "+r)}br(64===n.length,"signature has invalid length");const i=t||this.commitment;let o,s,a=!1;const c=new Promise(((e,t)=>{try{s=this.onSignature(r,((t,r)=>{s=void 0;const n={context:r,value:t};a=!0,e({__type:wr.PROCESSED,response:n})}),i)}catch(d){t(d)}})),l=new Promise((r=>{if("string"===typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}o=setTimeout((()=>r({__type:wr.TIMED_OUT,timeoutMs:e})),e)}else{let n=e;const i=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let e=await i();if(!a){for(;e<=n.lastValidBlockHeight;){if(await Or(1e3),a)return;if(e=await i(),a)return}r({__type:wr.BLOCKHEIGHT_EXCEEDED})}})()}}));let h;try{const e=await Promise.race([c,l]);switch(e.__type){case wr.BLOCKHEIGHT_EXCEEDED:throw new Zr(r);case wr.PROCESSED:h=e.response;break;case wr.TIMED_OUT:throw new Xr(r,e.timeoutMs/1e3)}}finally{clearTimeout(o),s&&this.removeSignatureListener(s)}return h}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,f.Ue)(e,an((0,f.IX)(Zn)));if("error"in t)throw new Gr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,f.Ue)(r,Yn);if("error"in n)throw new Gr(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",n),o=(0,f.Ue)(i,an((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",n),o=(0,f.Ue)(i,an((0,f.Z_)()));if("error"in o)throw new Gr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,f.Ue)(n,an((0,f.IX)(Qr)));if("error"in i)throw new Gr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);br(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,f.Ue)(n,ti);if("error"in i)throw new Gr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",n),o=(0,f.Ue)(i,an((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,f.Ue)(r,_n);if("error"in n)throw new Gr(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=nn(r),o=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...i,epoch:null!=t?t:null===i||void 0===i?void 0:i.epoch}),s=await this._rpcRequest("getInflationReward",o),a=(0,f.Ue)(s,hn);if("error"in a)throw new Gr(a.error,"failed to get inflation reward");return a.result}async getEpochInfo(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",n),o=(0,f.Ue)(i,vn);if("error"in o)throw new Gr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,f.Ue)(e,Sn);if("error"in t)throw new Gr(t.error,"failed to get epoch schedule");const r=t.result;return new $r(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,f.Ue)(e,An);if("error"in t)throw new Gr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,f.Ue)(n,ri);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,f.Ue)(r,bi);if("error"in n)throw new Gr(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=(0,f.Ue)(t,_i);if("error"in r)throw new Gr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,f.Ue)(n,vi);if("error"in i)throw new Gr(i.error,"failed to get fee calculator");const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const r=e.serialize().toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),o=(0,f.Ue)(i,cn((0,f.AG)((0,f.Rx)())));if("error"in o)throw new Gr(o.error,"failed to get slot");if(null===o.result)throw new Error("invalid blockhash");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),o=(0,f.Ue)(i,wi);if("error"in o)throw new Gr(o.error,"failed to get latest blockhash");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,f.Ue)(e,an(bn));if("error"in t)throw new Gr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,f.Ue)(e,an((0,f.Z_)()));if("error"in t)throw new Gr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getBlock",i),s=(0,f.Ue)(o,fi);if("error"in s)throw new Gr(s.error,"failed to get confirmed block");const a=s.result;return a?{...a,transactions:a.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new mr(t.message);return{meta:r,transaction:{...t,message:n}}}))}:a}async getBlockHeight(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getBlockHeight",n),o=(0,f.Ue)(i,an((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get block height information");return o.result}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),o=(0,f.Ue)(i,kn);if("error"in o)throw new Gr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getTransaction",i),s=(0,f.Ue)(o,yi);if("error"in s)throw new Gr(s.error,"failed to get transaction");const a=s.result;return a?{...a,transaction:{...a.transaction,message:new mr(a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:r,config:n}=nn(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getTransaction",i),s=(0,f.Ue)(o,mi);if("error"in s)throw new Gr(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=nn(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,f.Ue)(e,mi);if("error"in t)throw new Gr(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:r,config:n}=nn(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,f.Ue)(e,yi);if("error"in t)throw new Gr(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:new mr(r.transaction.message)}}:r}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,f.Ue)(n,pi);if("error"in i)throw new Gr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const s={...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new mr(t.message);return{meta:r,transaction:{...t,message:n}}}))};return{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:vr.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),o=(0,f.Ue)(i,an((0,f.IX)((0,f.Rx)())));if("error"in o)throw new Gr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=(0,f.Ue)(n,gi);if("error"in i)throw new Gr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,f.Ue)(n,gi);if("error"in i)throw new Gr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,f.Ue)(n,yi);if("error"in i)throw new Gr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const s=new mr(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:vr.populate(s,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,f.Ue)(n,mi);if("error"in i)throw new Gr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,f.Ue)(e,mi);if("error"in t)throw new Gr(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),o=(0,f.Ue)(i,Dn);if("error"in o)throw new Gr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),o=(0,f.Ue)(i,Mn);if("error"in o)throw new Gr(o.error,"failed to get signatures for address");return o.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=nr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,f.Ue)(r,Si);if("error"in n)throw new Gr(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Or(100);const e=Date.now()-this._blockhashInfo.lastFetch>=rn;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let n=0;n<50;n++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Or(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=nn(e),n=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",n),o=(0,f.Ue)(i,cn((0,f.Rx)()));if("error"in o)throw new Gr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){let n;if(e instanceof vr){let t=e;n=new vr,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=vr.populate(e),n._message=n._json=void 0;if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw new Error("!signature");const i=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(i)&&!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.simulatedSignatures.push(i);break}e=!0}}const i=n._compile(),o=i.serialize(),s=n._serialize(o).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const c=[s,a],u=await this._rpcRequest("simulateTransaction",c),l=(0,f.Ue)(u,wn);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(l.error.message,r)}throw new Vr("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=_(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[e,r],s=await this._rpcRequest("sendTransaction",o),a=(0,f.Ue)(s,Ai);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new Vr("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,r]=e;this._subscriptionsByHash[t]={...r,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._subscriptionsByHash[e]={...r,state:"subscribing"};const t=await this._rpcWebSocket.call(i,n);this._subscriptionsByHash[e]={...r,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,n,o.message),!t())return;this._subscriptionsByHash[e]={...r,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._subscriptionsByHash[e]={...r,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[n])}catch(o){if(o instanceof Error&&console.error(`${i} error:`,o.message),!t())return;return this._subscriptionsByHash[e]={...r,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...r,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(r){console.error(r)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Wn);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=Kr([e.method,t],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];br(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,qn);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Ei);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,$n);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Hn);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Gn);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],n,void 0,i),s=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(s)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Jn);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ri{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new Ri(i().sign.keyPair())}static fromSecretKey(e,t){const r=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,r.secretKey);if(!i().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new Ri(r)}static fromSeed(e){return new Ri(i().sign.keyPair.fromSeed(e))}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Bi=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]);class Oi{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;br(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),br(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Bi.span,a=s+t.length,c=a+n.length,u=o.Buffer.alloc(c+r.length),l=null==i?65535:i;return Bi.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(n,a),u.fill(r,c),new _r({keys:[],programId:Oi.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;br(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Ri.fromSecretKey(t),o=e.publicKey.toBytes(),s=i().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:s,instructionIndex:n})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Oi.programId=new Wt("Ed25519SigVerify111111111111111111111111111");const Ti=new Wt("StakeConfig11111111111111111111111111111111");class Ci{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Ni{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Ni.default=new Ni(0,0,Wt.default);class ji{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Ui))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Qt(Ui.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ci(new Wt(t.staker),new Wt(t.withdrawer)),lockup:new Ni(r.unixTimestamp,r.epoch,new Wt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Qt(Ui.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Qt(Ui.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Wt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=Qt(Ui.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Wt(i),newAuthorizedPubkey:new Wt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qt(Ui.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(Ui.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qt(Ui.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qt(Ui.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(zi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ui=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.n_([Gt("staker"),Gt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.n_([d.gM("unixTimestamp"),d.gM("epoch"),Gt("custodian")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Gt("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),Gt("newAuthorized"),d.Jq("stakeAuthorizationType"),Jt("authoritySeed"),Gt("authorityOwner")])}}),Li=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class zi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Ni.default,o=Yt(Ui.Initialize,{authorized:{staker:_(r.staker.toBuffer()),withdrawer:_(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:_(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new _r(s)}static createAccountWithSeed(e){const t=new vr;t.add(Ir.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new vr;t.add(Ir.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=Yt(Ui.Delegate);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:Ti,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,s=Yt(Ui.Authorize,{newAuthorized:_(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new vr).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Yt(Ui.AuthorizeWithSeed,{newAuthorized:_(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:_(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new vr).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=Yt(Ui.Split,{lamports:i});return new _r({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e){const t=new vr;return t.add(Ir.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:o,lamports:s}=e,a=new vr;return a.add(Ir.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=Yt(Ui.Merge);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,s=Yt(Ui.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new vr).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=Yt(Ui.Deactivate);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}zi.programId=new Wt("Stake11111111111111111111111111111111111111"),zi.space=200;const{publicKeyCreate:Di,ecdsaSign:Mi}=b(),Wi=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]);class Ki{constructor(){}static publicKeyToEthAddress(e){br(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return o.Buffer.from(k().keccak_256.update(_(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return Ki.createInstructionWithEthAddress({ethAddress:Ki.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?o.Buffer.from(t.substr(2),"hex"):o.Buffer.from(t,"hex"):t,br(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+n.length+1,l=o.Buffer.alloc(Wi.span+r.length);return Wi.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:_(n),ethAddress:_(a),recoveryId:i},l),l.fill(_(r),Wi.span),new _r({keys:[],programId:Ki.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;br(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=_(t),i=Di(e,!1).slice(1),s=o.Buffer.from(k().keccak_256.update(_(r)).digest()),{signature:a,recid:c}=Mi(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ki.programId=new Wt("KeccakSecp256k11111111111111111111111111111");const qi=new Wt("Va1idator1nfo111111111111111111111111111111"),Fi=(0,f.dt)({name:(0,f.Z_)(),website:(0,f.jt)((0,f.Z_)()),details:(0,f.jt)((0,f.Z_)()),keybaseUsername:(0,f.jt)((0,f.Z_)())});class $i{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==gr(t))return null;const r=[];for(let n=0;n<2;n++){const e=new Wt(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(qi)&&r[1].isSigner){const e=Jt().decode(o.Buffer.from(t)),n=JSON.parse(e);return(0,f.hu)(n,Fi),new $i(r[1].publicKey,n)}return null}}const Vi=new Wt("Vote111111111111111111111111111111111111111"),Hi=d.n_([Gt("nodePubkey"),Gt("authorizedWithdrawer"),d.u8("commission"),d._O(),d.A9(d.n_([d._O("slot"),d.Jq("confirmationCount")]),d.cv(d.Jq(),-8),"votes"),d.u8("rootSlotValid"),d._O("rootSlot"),d._O(),d.A9(d.n_([d._O("epoch"),Gt("authorizedVoter")]),d.cv(d.Jq(),-8),"authorizedVoters"),d.n_([d.A9(d.n_([Gt("authorizedPubkey"),d._O("epochOfLastAuthorizedSwitch"),d._O("targetEpoch")]),32,"buf"),d._O("idx"),d.u8("isEmpty")],"priorVoters"),d._O(),d.A9(d.n_([d._O("epoch"),d._O("credits"),d._O("prevCredits")]),d.cv(d.Jq(),-8),"epochCredits"),d.n_([d._O("slot"),d._O("timestamp")],"lastTimestamp")]);class Gi{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Hi.decode(_(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new Gi({nodePubkey:new Wt(t.nodePubkey),authorizedWithdrawer:new Wt(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(Ji),priorVoters:Xi(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Ji(e){let{authorizedVoter:t,epoch:r}=e;return{epoch:r,authorizedVoter:new Wt(t)}}function Zi(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=e;return{authorizedPubkey:new Wt(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function Xi(e){let{buf:t,idx:r,isEmpty:n}=e;return n?[]:[...t.slice(r+1).map(Zi),...t.slice(0,r).map(Zi)]}class Yi{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class Qi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(eo))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Qt(eo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Yi(new Wt(t.nodePubkey),new Wt(t.authorizedVoter),new Wt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Qt(eo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Wt(t),voteAuthorizationType:{index:r}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qt(eo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ro.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const eo=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return d.n_([Gt("nodePubkey"),Gt("authorizedVoter"),Gt("authorizedWithdrawer"),d.u8("commission")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Gt("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])}}),to=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ro{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=Yt(eo.InitializeAccount,{voteInit:{nodePubkey:_(n.nodePubkey.toBuffer()),authorizedVoter:_(n.authorizedVoter.toBuffer()),authorizedWithdrawer:_(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new _r(o)}static createAccount(e){const t=new vr;return t.add(Ir.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=Yt(eo.Authorize,{newAuthorized:_(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new vr).add({keys:s,programId:this.programId,data:o})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=Yt(eo.Withdraw,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new vr).add({keys:s,programId:this.programId,data:o})}}async function no(e,t,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(i=r,o=n):o=r;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}ro.programId=new Wt("Vote111111111111111111111111111111111111111"),ro.space=3731;const io={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function oo(e,t){const r=!1===t?"http":"https";if(!e)return io[r].devnet;const n=io[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const so=1e9},25792:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||Z(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return G(V(t,e.length-r),e,r,n)}function v(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return G(H(t),e,r,n)}function A(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128===(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(J(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=X[e[o]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function T(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i){K(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function j(e,t,r,n,i){K(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Y((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){C(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){C(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const D={};function M(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!==typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},48126:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.useParser=t.withParser=void 0;const i=r(45263),o=r(92950),s=r(95418),a=(0,o.createContext)({}),c={ixSelected:"",idl:void 0,argsMetas:{},accountsMetas:{},remainingAccounts:{},recents:{}};t.default=e=>{let{children:t,rpc:r,walletAddress:n,programAddresses:u,appId:l}=e;const[h,d]=(0,o.useState)(c),[f,p]=(0,o.useState)({}),[g,y]=(0,o.useState)(u),m=(0,o.useCallback)((e=>{const t=JSON.parse(JSON.stringify(h));return t.idl=e,d(Object.assign({},t))}),[h]),b=(0,o.useCallback)((()=>{d(c),p({});const e=Object.assign({},g);e.customer="",y(e)}),[g]),w=(0,o.useCallback)((e=>{const t=JSON.parse(JSON.stringify(h));if(t.ixSelected!==e)return t.ixSelected=e,t.remainingAccounts[e]&&t.remainingAccounts[e].length||(t.remainingAccounts[e]=[]),d(t)}),[h]),k=(0,o.useCallback)((e=>{let t=Object.assign({},h);if(e&&t.ixSelected){const{name:r,val:n}=e,i=t.argsMetas;t.argsMetas=Object.assign(i,{[t.ixSelected]:Object.assign(Object.assign({},i[t.ixSelected]),{[r]:n})})}return d(Object.assign({},t))}),[h]),_=(0,o.useCallback)((e=>{const t=Object.assign({},h);if(e){const{name:r,data:n}=e;t.accountsMetas=Object.assign(t.accountsMetas,{[r]:n})}return d(t)}),[h]),v=(0,o.useCallback)((e=>{const t=JSON.parse(JSON.stringify(h));if(e){const{name:r,data:n}=e;t.remainingAccounts[r]=n}return d(Object.assign({},t))}),[h]),S=(0,o.useCallback)((e=>{const t=f;return e&&(t[e.name]=Object.assign({},e)),p(t)}),[f]),A=(0,o.useCallback)(((e,t)=>{const r=Object.assign({},g);return s.account.isAddress(t)&&e&&(r[e]=t),y(r)}),[g]),I=(0,o.useCallback)((e=>{const t=Object.assign({},h);if(e||(t.recents={}),!e.name||!e.value||t.recents[e.name]===e.value)return;const{name:r,value:n}=e;if(!e.name.startsWith("Seed")){if(e.name.endsWith("s")||e.name.endsWith("es")){const e=n.includes(",")?[n,...n.split(",")]:[n];t.recents=Object.assign(t.recents,{[r]:[...t.recents[r]||[],...e]})}else t.recents=Object.assign(t.recents,{[r]:n});return d(t)}}),[h]),E=(0,o.useMemo)((()=>({parser:h,txInstructions:f,rpc:r,walletAddress:n,programAddresses:g,appId:l,setInstruction:w,uploadIdl:m,setArgsMeta:k,setAccountsMeta:_,removeIdl:b,setTxInstructions:S,setRemainingAccouts:v,setProgramAddress:A,setRecents:I})),[h,f,r,n,g,l,w,m,k,_,b,S,v,A,I]);return(0,i.jsx)(a.Provider,Object.assign({value:E},{children:t}))};const u=e=>{let{children:t}=e;return(0,i.jsx)(a.Consumer,{children:e=>o.Children.map(t,(t=>(0,o.cloneElement)(t,Object.assign({},e))))})};t.withParser=e=>{class t extends o.Component{render(){const t=this.props,{forwardedRef:r}=t,o=n(t,["forwardedRef"]);return(0,i.jsx)(u,{children:(0,i.jsx)(e,Object.assign({ref:r},o))})}}return(0,o.forwardRef)(((e,r)=>(0,i.jsx)(t,Object.assign({},e,{ref:r}))))};t.useParser=()=>(0,o.useContext)(a)},14930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressCategory=void 0,function(e){e.recents="Recents",e.system="System",e.idl="Program Account Data",e.token="PDA - Token Account",e.pda="PDA - Other",e.input="input",e.walletAddress="Wallet Address",e.newKeypair="New Keypair",e.default="Default"}(t.AddressCategory||(t.AddressCategory={}))},79218:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=r(95418),a=n(r(43785)),c=r(53456),u=n(r(89711)),l=r(48126),h=r(74064);t.default=()=>{const{uploadIdl:e,parser:t,setProgramAddress:r,programAddresses:n}=(0,l.useParser)(),{idl:d}=t||{},{idl:f}=n;return(0,o.useEffect)((()=>{}),[d,f,r]),d?(0,i.jsx)(u.default,{}):(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-10"},{children:[(0,i.jsx)("div",Object.assign({className:"flex border border-dashed border-[#B3B3B3] rounded-[8px] bg-[#0000000d] text-[16px]"},{children:(0,i.jsxs)("label",Object.assign({className:"flex flex-col w-full p-4 cursor-pointer"},{children:[(0,i.jsx)("input",{type:"file",accept:".json",onChange:t=>(t=>{if(!t)return;const n=new FileReader;n.readAsText(t[0],"UTF-8"),n.onload=t=>{var n;try{if(!(null===(n=t.target)||void 0===n?void 0:n.result))return;const i=JSON.parse(t.target.result.toString());if(!(i.name&&i.instructions.length&&i.version))return;const o=h.IdlParser.getProgramAddress(i);return s.account.isAddress(o)&&o!==f&&r("idl",o),e(i)}catch(i){}}})(t.target.files),className:"opacity-0 w-0 h-0"}),(0,i.jsxs)("div",Object.assign({className:"flex w-full justify-between items-center gap-4"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex flex-auto gap-2"},{children:[(0,i.jsx)(c.Typography,{children:"Choose IDL file"}),(0,i.jsx)(c.Typography,Object.assign({secondary:!0},{children:"(.JSON)"}))]})),(0,i.jsx)(a.default,{name:"cloud-upload-outline"})]}))]}))})),(0,i.jsx)(c.Empty,{})]}))}},89711:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=r(92950),s=r(95418),a=n(r(43785)),c=r(48126),u=r(53456),l=n(r(79218)),h=r(99168),d=()=>{const{programAddresses:e,setProgramAddress:t}=(0,c.useParser)(),{provider:r}=e,[n,l]=(0,o.useState)(!1),[d,f]=(0,o.useState)(r),p=(0,o.useRef)(null),g=(0,h.useProgramAddress)(),y=()=>(l(!1),s.account.isAddress(d)?t("customer",d):f(g));return(0,o.useEffect)((()=>{f(g)}),[g]),(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-1"},{children:[(0,i.jsx)(u.Typography,{children:"Program Address"}),(0,i.jsxs)("div",Object.assign({className:"flex flex-row items-center gap-2 border border-solid border-[#B3B3B3] rounded-[8px] pl-[2px] pr-[16px] py-[4px] bg-[#0000000d] text-[16px]"},{children:[(0,i.jsx)(u.Input,{bordered:!1,className:"flex-auto bg-[transparent]",value:d,onChange:e=>(e=>{if(n)return f(e)})(e.target.value),onBlur:y,ref:p}),n?(0,i.jsx)(a.default,{className:"cursor-pointer",name:"save-outline",onClick:y}):(0,i.jsx)(a.default,{className:"cursor-pointer",name:"create-outline",onClick:()=>{if(!p.current)return l(!1);l(!0),p.current.focus()}})]}))]}))};t.default=()=>{const{parser:e,removeIdl:t,programAddresses:r}=(0,c.useParser)(),{idl:n}=e||{},{idl:o}=r,h=!s.account.isAddress(o)?"text-[#F9575E]":"text-green-600";return n?(0,i.jsxs)("div",Object.assign({className:"flex flex-col gap-4"},{children:[(0,i.jsx)(d,{}),(0,i.jsxs)("div",Object.assign({className:"relative flex flex-nowrap justify-between gap-[6px] border border-solid border-[#B3B3B3] rounded-[8px] px-[16px] py-[10px] bg-[#0000000d] text-[16px]"},{children:[(0,i.jsxs)("div",Object.assign({className:`flex flex-row items-center gap-2 ${h}`},{children:[(0,i.jsx)(a.default,{name:"document-attach-outline"}),(0,i.jsx)(u.Typography,Object.assign({className:"flex-auto"},{children:null===n||void 0===n?void 0:n.name}))]})),(0,i.jsx)("div",Object.assign({className:"cursor-pointer",onClick:()=>{t()}},{children:(0,i.jsx)(a.default,{name:"trash-outline"})}))]}))]})):(0,i.jsx)(l.default,{})}},83981:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45263),o=n(r(83)),s=r(3646),a=n(r(89711));t.default=()=>(0,i.jsxs)("div",Object.assign({className:"grid grid:cols-1 gap-6"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex w-full flex-col md:flex-row gap-10 md:gap-6"},{children:[(0,i.jsxs)("div",Object.assign({className:"flex w-full md:w-1/2 p-4 flex-col gap-8 bg-[#EBEBEB]"},{children:[(0,i.jsx)(a.default,{}),(0,i.jsx)(s.TemplateView,{})]})),(0,i.jsx)("div",Object.assign({className:"w-full md:w-1/2"},{children:(0,i.jsx)(s.InstructionView,{})}))]})),(0,i.jsx)(o.default,{})]}))},21958:e=>{"use strict";e.exports=async e=>{const t=[];for await(const r of e)t.push(r);return t}},19635:e=>{"use strict";e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];t<1&&(t=1);for await(const n of e)for(r.push(n);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length;)yield r.slice(0,t),r=r.slice(t)}},20838:e=>{"use strict";e.exports=async e=>{for await(const t of e);}},93663:e=>{"use strict";e.exports=async function*(e,t){for await(const r of e)await t(r)&&(yield r)}},16586:e=>{"use strict";e.exports=async e=>{let t;for await(const r of e)t=r;return t}},60191:e=>{"use strict";e.exports=async function*(e,t){for await(const r of e)yield t(r)}},88411:(e,t,r)=>{"use strict";const n=r(19635);e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for await(const r of n(e,t)){const e=r.map((e=>e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){const r=await e[t];if(!r.ok)throw r.err;yield r.value}}}},62469:e=>{"use strict";e.exports=function(e){const[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}},89962:e=>{const t=function(){let e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(;r.length;)e=r.shift()(e);return e},r=e=>e&&("function"===typeof e[Symbol.asyncIterator]||"function"===typeof e[Symbol.iterator]||"function"===typeof e.next),n=e=>e&&"function"===typeof e.sink&&r(e.source),i=e=>t=>(e.sink(t),e.source),o=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];if(n(o[0])){const e=o[0];o[0]=()=>e.source}else if(r(o[0])){const e=o[0];o[0]=()=>e}if(o.length>1&&n(o[o.length-1])&&(o[o.length-1]=o[o.length-1].sink),o.length>2)for(let t=1;t<o.length-1;t++)n(o[t])&&(o[t]=i(o[t]));return t(...o)};e.exports=o,e.exports.pipe=o,e.exports.rawPipe=t,e.exports.isIterable=r,e.exports.isDuplex=n},62550:e=>{"use strict";e.exports=async function*(e,t){let r=0;if(!(t<1))for await(const n of e)if(yield n,r++,r===t)return}},47250:function(e,t,r){"use strict";const n=r(79417),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,c={concatArrays:!1,ignoreUndefined:!1},u=e=>{const t=[];for(const r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r)o.call(e,n)&&t.push(n)}return t};function l(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return u(e).forEach((r=>{s(t,r,l(e[r]))})),t}(e):n(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach((r=>{s(t,r,l(e[r]))})),t}(e):e}const h=(e,t,r,n)=>(r.forEach((r=>{"undefined"===typeof t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?s(e,r,d(e[r],t[r],n)):s(e,r,l(t[r])))})),e);function d(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach((t=>{const a=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(a.push(String(r)),s(n,o++,t===e?t[r]:l(t[r])));n=h(n,t,u(t).filter((e=>!a.includes(e))),r)})),n})(e,t,r):n(t)&&n(e)?h(e,t,u(t),r):l(t)}e.exports=function(){const e=d(l(c),this!==a&&this||{},c);let t={_:{}};for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(const s of i)if(void 0!==s){if(!n(s))throw new TypeError("`"+s+"` is not an Option Object");t=d(t,{_:s},e)}return t._}},79417:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},76335:(e,t,r)=>{e.exports=r(95115)},95115:function(e,t){!function(r,n){"use strict";var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function c(e){return e=s(e^=e>>>16,2246822507),e=s(e^=e>>>13,3266489909),e^=e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e,[0,e[0]>>>1]),e=f(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=f(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%4,u=e.length-r,l=t,h=0,d=3432918353,f=461845907,p=0;p<u;p+=4)h=s(h=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,d),h=s(h=a(h,15),f),l=s(l=a(l^=h,13),5)+3864292196;switch(h=0,r){case 3:h^=e[p+2]<<16;case 2:h^=e[p+1]<<8;case 1:h=s(h^=e[p],d),l^=h=s(h=a(h,15),f)}return(l=c(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,u=e.length-r,l=t,h=t,d=t,f=t,p=0,g=0,y=0,m=0,b=597399067,w=2869860233,k=951274213,_=2716044179,v=0;v<u;v+=16)p=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,g=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,y=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,m=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,p=a(p=s(p,b),15),l=a(l^=p=s(p,w),19),l=s(l+=h,5)+1444728091,g=a(g=s(g,w),16),h=a(h^=g=s(g,k),17),h=s(h+=d,5)+197830471,y=a(y=s(y,k),17),d=a(d^=y=s(y,_),15),d=s(d+=f,5)+2530024501,m=a(m=s(m,_),18),f=a(f^=m=s(m,b),13),f=s(f+=l,5)+850148119;switch(p=0,g=0,y=0,m=0,r){case 15:m^=e[v+14]<<16;case 14:m^=e[v+13]<<8;case 13:m=s(m^=e[v+12],_),f^=m=s(m=a(m,18),b);case 12:y^=e[v+11]<<24;case 11:y^=e[v+10]<<16;case 10:y^=e[v+9]<<8;case 9:y=s(y^=e[v+8],k),d^=y=s(y=a(y,17),_);case 8:g^=e[v+7]<<24;case 7:g^=e[v+6]<<16;case 6:g^=e[v+5]<<8;case 5:g=s(g^=e[v+4],w),h^=g=s(g=a(g,16),k);case 4:p^=e[v+3]<<24;case 3:p^=e[v+2]<<16;case 2:p^=e[v+1]<<8;case 1:p=s(p^=e[v],b),l^=p=s(p=a(p,15),w)}return l^=e.length,l+=h^=e.length,l+=d^=e.length,h+=l+=f^=e.length,d+=l,f+=l,l=c(l),l+=h=c(h),l+=d=c(d),h+=l+=f=c(f),d+=l,f+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,s=e.length-r,a=[0,t],c=[0,t],g=[0,0],y=[0,0],m=[2277735313,289559509],b=[1291169091,658871167],w=0;w<s;w+=16)g=[e[w+4]|e[w+5]<<8|e[w+6]<<16|e[w+7]<<24,e[w]|e[w+1]<<8|e[w+2]<<16|e[w+3]<<24],y=[e[w+12]|e[w+13]<<8|e[w+14]<<16|e[w+15]<<24,e[w+8]|e[w+9]<<8|e[w+10]<<16|e[w+11]<<24],g=h(g=l(g,m),31),a=u(a=h(a=f(a,g=l(g,b)),27),c),a=u(l(a,[0,5]),[0,1390208809]),y=h(y=l(y,b),33),c=u(c=h(c=f(c,y=l(y,m)),31),a),c=u(l(c,[0,5]),[0,944331445]);switch(g=[0,0],y=[0,0],r){case 15:y=f(y,d([0,e[w+14]],48));case 14:y=f(y,d([0,e[w+13]],40));case 13:y=f(y,d([0,e[w+12]],32));case 12:y=f(y,d([0,e[w+11]],24));case 11:y=f(y,d([0,e[w+10]],16));case 10:y=f(y,d([0,e[w+9]],8));case 9:y=l(y=f(y,[0,e[w+8]]),b),c=f(c,y=l(y=h(y,33),m));case 8:g=f(g,d([0,e[w+7]],56));case 7:g=f(g,d([0,e[w+6]],48));case 6:g=f(g,d([0,e[w+5]],40));case 5:g=f(g,d([0,e[w+4]],32));case 4:g=f(g,d([0,e[w+3]],24));case 3:g=f(g,d([0,e[w+2]],16));case 2:g=f(g,d([0,e[w+1]],8));case 1:g=l(g=f(g,[0,e[w]]),m),a=f(a,g=l(g=h(g,31),b))}return a=u(a=f(a,[0,e.length]),c=f(c,[0,e.length])),c=u(c,a),a=u(a=p(a),c=p(c)),c=u(c,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},25882:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,c=i(e),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(c[l]=s[l]);if(t){a=t(s);for(var h=0;h<a.length;h++)n.call(s,a[h])&&(c[a[h]]=s[a[h]])}}return c}},67746:(e,t,r)=>{"use strict";const n=r(91274),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const s=(e,t)=>new Promise(((r,s)=>{t={onFailedAttempt:()=>{},retries:10,...t};const a=n.operation(t);a.attempt((async n=>{try{r(await e(n))}catch(u){if(!(u instanceof Error))return void s(new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`));if(u instanceof o)a.stop(),s(u.originalError);else if(u instanceof TypeError&&(c=u.message,!i.includes(c)))a.stop(),s(u);else{((e,t,r)=>{const n=r.retries-(t-1);e.attemptNumber=t,e.retriesLeft=n})(u,n,t);try{await t.onFailedAttempt(u)}catch(u){return void s(u)}a.retry(u)||s(a.mainError())}}var c}))}));e.exports=s,e.exports.default=s,e.exports.AbortError=o},26477:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},84389:(e,t,r)=>{"use strict";e.exports=r(73218)},73218:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(7846),n.BufferWriter=r(69802),n.Reader=r(6630),n.BufferReader=r(27315),n.util=r(19188),n.rpc=r(85253),n.roots=r(24841),n.configure=i,i()},6630:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(19188),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=l(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},27315:(e,t,r)=>{"use strict";e.exports=o;var n=r(6630);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(19188);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},24841:e=>{"use strict";e.exports={}},85253:(e,t,r)=>{"use strict";t.Service=r(13404)},13404:(e,t,r)=>{"use strict";e.exports=i;var n=r(19188);function i(e,t,r){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(c){return a.emit("error",c,t),void setTimeout((function(){s(c)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},85082:(e,t,r)=>{"use strict";e.exports=i;var n=r(19188);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},19188:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(99882),n.base64=r(79813),n.EventEmitter=r(4928),n.float=r(35103),n.inquire=r(82825),n.utf8=r(66232),n.pool=r(32492),n.LongBits=r(85082),n.isNode=Boolean("undefined"!==typeof r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"===typeof e||e instanceof String},n.isObject=function(e){return e&&"object"===typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"===typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},7846:(e,t,r)=>{"use strict";e.exports=h;var n,i=r(19188),o=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function f(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=d(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},h.prototype.bool=function(e){return this._push(f,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var r=h.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},h.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},h.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){n=e,h.create=d(),n._configure()}},69802:(e,t,r)=>{"use strict";e.exports=o;var n=r(7846);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(19188);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},25847:(e,t,r)=>{const{instantiate:n}=r(879);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return n(new Response(new Blob([t],{type:"application/wasm"})),e)}i.supported="undefined"!==typeof WebAssembly,e.exports=i},87964:(e,t,r)=>{const n=r(61085),i=r(25847);e.exports={Rabin:n,create:async(e,t,r,o,s)=>{const a=await i();return new n(a,e,t,r,o,s)}}},61085:e=>{e.exports=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8192,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32768,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,o=arguments.length>5?arguments[5]:void 0;this.bits=t,this.min=r,this.max=n,this.asModule=e,this.rabin=new e.Rabin(t,r,n,i,o),this.polynomial=o}fingerprint(e){const{__retain:t,__release:r,__allocArray:n,__getInt32Array:i,Int32Array_ID:o,Uint8Array_ID:s}=this.asModule,a=t(n(o,new Int32Array(Math.ceil(e.length/this.min)))),c=t(n(s,e)),u=i(this.rabin.fingerprint(c,a));r(c),r(a);const l=u.indexOf(0);return l>=0?u.subarray(0,l):u}}},62175:(e,t,r)=>{"use strict";r(25882);var n=r(92950),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},45263:(e,t,r)=>{"use strict";e.exports=r(62175)},91274:(e,t,r)=>{e.exports=r(59552)},59552:(e,t,r)=>{var n=r(51081);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"===typeof e[i]&&n.push(i);for(var o=0;o<n.length;o++){var s=n[o],a=e[s];e[s]=function(n){var i=t.operation(r),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),s.apply(this,arguments))})),i.attempt((function(){n.apply(e,o)}))}.bind(e,a),e[s].options=r}}},51081:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,s=(e[o]||0)+1;e[o]=s,s>=r&&(t=i,r=s)}return t}},2670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>u});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.create;Object.create;function i(e){return e.toLowerCase()}var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function a(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function c(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?o:r,c=t.stripRegexp,u=void 0===c?s:c,l=t.transform,h=void 0===l?i:l,d=t.delimiter,f=void 0===d?" ":d,p=a(a(e,n,"$1\0$2"),u,"\0"),g=0,y=p.length;"\0"===p.charAt(g);)g++;for(;"\0"===p.charAt(y-1);)y--;return p.slice(g,y).split("\0").map(h).join(f)}(e,n({delimiter:"."},t))}function u(e,t){return void 0===t&&(t={}),c(e,n({delimiter:"_"},t))}},90360:e=>{"use strict";function t(e,t){return e+r(t)}function r(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function n(e,t){return e[0]-t[0]}function i(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=new Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,n=t;for(;r<this.length;){n=e(n,this.get(r),r),r++}return n}find(e){let t,r,n=0;for(;n<this.length&&!t;)r=this.get(n),t=e(r),n++;return t?r:void 0}_internalPositionFor(e,n){const i=this._bytePosFor(e,n);if(i>=this._bitArrays.length)return-1;const o=this._bitArrays[i],s=e-7*i;if(!((o&1<<s)>0))return-1;return this._bitArrays.slice(0,i).reduce(t,0)+r(o&~(4294967295<<s+1))-1}_bytePosFor(e,t){const r=Math.floor(e/7),n=r+1;for(;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,r,n){const i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{const e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(n),this._changedData=!1}bitField(){const e=[];let t,r=8,n=0,i=0;const o=this._bitArrays.slice();for(;o.length||n;){0===n&&(t=o.shift(),n=7);const s=Math.min(n,r);i|=(t&~(255<<s))<<8-r,t>>>=s,n-=s,r-=s,r&&(n||o.length)||(e.push(i),i=0,r=8)}for(var s=e.length-1;s>0;s--){if(0!==e[s])break;e.pop()}return e}compactArray(){return this._sortData(),this._data.map(i)}}},92358:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],o=0,s=0,a=function(){var r=o+t,c=Date.now();if(c<r)return void 0!==n&&clearTimeout(n),void(n=setTimeout(a,r-c));o=c,s=0;for(var u=0,l=i.splice(0,e);u<l.length;u++){var h=l[u];s++,h()}n=i.length?setTimeout(a,t):void 0};return function(r){return new Promise((function(c,u){var l=function(){return Promise.resolve().then(r).then(c).catch(u)},h=Date.now();void 0===n&&h-o>t&&(o=h,s=0),s++<e?l():(i.push(l),void 0===n&&(n=setTimeout(a,o+t-h)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r},69504:e=>{e.exports=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a||o>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i}},84243:e=>{e.exports=function e(r,n,i){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var o=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-o+1,n};var t=Math.pow(2,31)},75617:(e,t,r)=>{e.exports={encode:r(84243),decode:r(69504),encodingLength:r(83754)}},83754:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},66188:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={}},80350:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={}},17384:(e,t,r)=>{"use strict";r.d(t,{kU:()=>h,Dp:()=>l,ET:()=>d});const n=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=o-i;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,f=s-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var g=c.repeat(r);p<s;++p)g+=e.charAt(u[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};var i=r(17893);class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new o(e,t,r),this.decoder=new s(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const l=e=>{let{name:t,prefix:r,encode:n,decode:i}=e;return new u(t,r,n,i)},h=e=>{let{prefix:t,name:r,alphabet:o}=e;const{encode:s,decode:a}=n(o,r);return l({prefix:t,name:r,encode:s,decode:e=>(0,i.coerce)(a(e))})},d=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:i}=e;return l({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,i,n),decode:e=>((e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let l=0;l<o;++l){const t=i[e[l]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,i,n,t)})}},79357:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base32:()=>i,base32hex:()=>c,base32hexpad:()=>l,base32hexpadupper:()=>h,base32hexupper:()=>u,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>o,base32z:()=>d});var n=r(17384);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},43019:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base58btc:()=>i,base58flickr:()=>o});var n=r(17384);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},17893:(e,t,r)=>{"use strict";r.r(t),r.d(t,{coerce:()=>a,empty:()=>n,equals:()=>s,fromHex:()=>o,fromString:()=>u,isBinary:()=>c,toHex:()=>i,toString:()=>l});const n=new Uint8Array(0),i=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):n},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),l=e=>(new TextDecoder).decode(e)},32743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>c});var n=r(81999),i=r(17578),o=r(43019),s=r(79357),a=r(17893);class c{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:m,byteLength:m,code:y,version:y,multihash:y,bytes:y,_baseCache:m,asCID:m})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==d)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==f)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return c.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=i.Ue(e,t);return c.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.fS(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?l(t,n,e||o.base58btc.encoder):h(t,n,e||s.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return b(/^0\.0/,w),!(!e||!e[g]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof c)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new c(t,r,n,i||p(t,r,n.bytes))}if(null!=e&&!0===e[g]){const{version:t,multihash:r,code:n}=e,o=i.Jx(r);return c.create(t,n,o)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==d)throw new Error(`Version 0 CID must use dag-pb (code: ${d}) block encoding`);return new c(e,t,r,r.bytes);case 1:{const n=p(e,t,r.bytes);return new c(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return c.create(0,d,e)}static createV1(e,t){return c.create(1,e,t)}static decode(e){const[t,r]=c.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=c.inspectBytes(e),r=t.size-t.multihashSize,n=(0,a.coerce)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=n.subarray(t.multihashSize-t.digestSize),s=new i.zZ(t.multihashCode,t.digestSize,o,n);return[0===t.version?c.createV0(s):c.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=n.Jx(e.subarray(t));return t+=i,r};let i=r(),o=d;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const s=t,a=r(),c=r(),u=t+c;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(e,t){const[r,n]=u(e,t),i=c.decode(n);return i._baseCache.set(r,e),i}}const u=(e,t)=>{switch(e[0]){case"Q":{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case s.base32.prefix:{const r=t||s.base32;return[s.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},l=(e,t,r)=>{const{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},h=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},d=112,f=18,p=(e,t,r)=>{const i=n.P$(e),o=i+n.P$(t),s=new Uint8Array(o+r.byteLength);return n.mL(e,s,0),n.mL(t,s,i),s.set(r,o),s},g=Symbol.for("@ipld/js-cid/CID"),y={writable:!1,configurable:!1,enumerable:!0},m={writable:!1,enumerable:!1,configurable:!1},b=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},w="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},96602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{code:()=>o,decode:()=>a,encode:()=>s,name:()=>i});var n=r(17893);const i="raw",o=85,s=e=>(0,n.coerce)(e),a=e=>(0,n.coerce)(e)},17578:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>s,Ue:()=>o,fS:()=>a,zZ:()=>c});var n=r(17893),i=r(81999);const o=(e,t)=>{const r=t.byteLength,n=i.P$(e),o=n+i.P$(r),s=new Uint8Array(o+r);return i.mL(e,s,0),i.mL(r,s,n),s.set(t,o),new c(e,r,t,s)},s=e=>{const t=(0,n.coerce)(e),[r,o]=i.Jx(t),[s,a]=i.Jx(t.subarray(o)),u=t.subarray(o+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(r,s,u,t)},a=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,n.equals)(e.bytes,t.bytes);class c{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},40668:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(17578);const i=e=>{let{name:t,code:r,encode:n}=e;return new o(t,r,n)};class o{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?n.Ue(this.code,t):t.then((e=>n.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},80073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{identity:()=>s});var n=r(17893),i=r(17578);const o=n.coerce,s={code:0,name:"identity",encode:o,digest:e=>i.Ue(0,o(e))}},92829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{sha256:()=>o,sha512:()=>s});var n=r(40668);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),s=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},28546:(e,t,r)=>{"use strict";r.d(t,{aI:()=>i,k0:()=>n.CID});var n=r(32743),i=(r(81999),r(17893));r(40668),r(17578)},81999:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>y,mL:()=>m,P$:()=>b});var n=function e(t,r,n){r=r||[];var o=n=n||0;for(;t>=i;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-o+1,r},i=Math.pow(2,31);var o=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var s=Math.pow(2,7),a=Math.pow(2,14),c=Math.pow(2,21),u=Math.pow(2,28),l=Math.pow(2,35),h=Math.pow(2,42),d=Math.pow(2,49),f=Math.pow(2,56),p=Math.pow(2,63);const g={encode:n,decode:o,encodingLength:function(e){return e<s?1:e<a?2:e<c?3:e<u?4:e<l?5:e<h?6:e<d?7:e<f?8:e<p?9:10}},y=e=>[g.decode(e),g.decode.bytes],m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return g.encode(e,t,r),t},b=e=>g.encodingLength(e)},52769:(e,t,r)=>{"use strict";function n(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}r.r(t),r.d(t,{concat:()=>n})},58524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromString:()=>$});var n={};r.r(n),r.d(n,{identity:()=>p});var i={};r.r(i),r.d(i,{base2:()=>g});var o={};r.r(o),r.d(o,{base8:()=>y});var s={};r.r(s),r.d(s,{base10:()=>m});var a={};r.r(a),r.d(a,{base16:()=>b,base16upper:()=>w});var c={};r.r(c),r.d(c,{base36:()=>_,base36upper:()=>v});var u={};r.r(u),r.d(u,{base64:()=>A,base64pad:()=>I,base64url:()=>E,base64urlpad:()=>x});var l={};r.r(l),r.d(l,{base256emoji:()=>O});var h={};r.r(h),r.d(h,{code:()=>L,decode:()=>D,encode:()=>z,name:()=>U});var d=r(17384),f=r(17893);const p=(0,d.Dp)({prefix:"\0",name:"identity",encode:e=>(0,f.toString)(e),decode:e=>(0,f.fromString)(e)}),g=(0,d.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),y=(0,d.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),m=(0,d.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),b=(0,d.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),w=(0,d.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var k=r(79357);const _=(0,d.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),v=(0,d.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var S=r(43019);const A=(0,d.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),I=(0,d.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),E=(0,d.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),x=(0,d.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),P=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),R=P.reduce(((e,t,r)=>(e[r]=t,e)),[]),B=P.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const O=(0,d.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=R[t]),"")},decode:function(e){const t=[];for(const r of e){const e=B[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var T=r(92829),C=r(80073);r(96602);const N=new TextEncoder,j=new TextDecoder,U="json",L=512,z=e=>N.encode(JSON.stringify(e)),D=e=>JSON.parse(j.decode(e));r(28546);const M={...n,...i,...o,...s,...a,...k,...c,...S,...u,...l};function W(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const K=W("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),q=W("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),F={utf8:K,"utf-8":K,hex:M.base16,latin1:q,ascii:q,binary:q,...M};function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=F[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}},25447:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Blob:()=>Yi,File:()=>Qi,Web3Storage:()=>ao,createRateLimiter:()=>oo,filesFromPath:()=>Ji,getFilesFromPath:()=>Gi});var n={};r.r(n),r.d(n,{code:()=>sr,createLink:()=>ir,createNode:()=>nr,decode:()=>cr,encode:()=>ar,name:()=>or,prepare:()=>tr,validate:()=>rr});var i={};r.r(i),r.d(i,{abortedError:()=>Zn,notFoundError:()=>Jn});var o={};r.r(o),r.d(o,{code:()=>Fi,decode:()=>Vi,encode:()=>$i,name:()=>qi});Symbol("TIMEOUT");function s(e){if("function"===typeof e.next)return e;if("function"===typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"===typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function a(){let e,t;return{promise:new Promise(((r,n)=>{t=r,e=n})),reject:e,resolve:t}}function c(e,t,r){const n=s(r),i=[],o=[];let c=!1,u=!1,l=0,h=null;function d(){for(;o.length>0&&i.length>0;){const{resolve:e}=o.shift();e({done:!1,value:i.shift()})}for(;o.length>0&&0===l&&c;){const{resolve:e,reject:t}=o.shift();h?(t(h),h=null):e({done:!0,value:void 0})}}async function f(){if(c)d();else if(!u&&!(l+i.length>=e)){u=!0,l++;try{const{done:e,value:r}=await n.next();e?(c=!0,l--,d()):async function(e){try{const r=await t(e);i.push(r)}catch(r){c=!0,h=r}l--,d(),f()}(r)}catch(r){c=!0,l--,h=r,d()}u=!1,f()}}const p={next:async function(){if(0===i.length){const e=a();return o.push(e),f(),e.promise}const e=i.shift();return f(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>p};return p}function u(e,t,r){return void 0===t?(t,r)=>r?u(e,t,r):u(e,t):void 0===r?r=>u(e,t,r):c(e,t,r)}var l=r(67746),h=r(16586),d=r(89962),f=r(75617),p=r(32743),g=r(17578);const y=["string","number","bigint","symbol"],m=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function b(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(y.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(m.includes(t))return t;return}(e);return r||"Object"}class w{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}w.uint=new w(0,"uint",!0),w.negint=new w(1,"negint",!0),w.bytes=new w(2,"bytes",!0),w.string=new w(3,"string",!0),w.array=new w(4,"array",!1),w.map=new w(5,"map",!1),w.tag=new w(6,"tag",!1),w.float=new w(7,"float",!0),w.false=new w(7,"false",!0),w.true=new w(7,"true",!0),w.null=new w(7,"null",!0),w.undefined=new w(7,"undefined",!0),w.break=new w(7,"break",!0);class k{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const _=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,v=new TextDecoder,S=new TextEncoder;function A(e){return _&&globalThis.Buffer.isBuffer(e)}function I(e){return e instanceof Uint8Array?A(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const E=_?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):C(e,t,r):(e,t,r)=>r-t>64?v.decode(e.subarray(t,r)):C(e,t,r),x=_?e=>e.length>64?globalThis.Buffer.from(e):T(e):e=>e.length>64?S.encode(e):T(e),P=e=>Uint8Array.from(e),R=_?(e,t,r)=>A(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),B=_?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),I(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},O=_?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function T(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(t=e.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function C(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128===(192&r)&&(c=(31&i)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],n=e[t+2],128===(192&r)&&128===(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=N));return r}(n)}const N=4096;class j{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=O(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){const r=this.chunks[0];t&&this.cursor>r.length/2?(e=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=R(r,0,this.cursor)}else e=B(this.chunks,this.cursor);return t&&this.reset(),e}}const U=[];function L(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}U[23]=1,U[24]=2,U[25]=3,U[26]=5,U[27]=9;const z=[24,256,65536,4294967296,BigInt("18446744073709551616")];function D(e,t,r){L(e,t,1);const n=e[t];if(!0===r.strict&&n<z[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function M(e,t,r){L(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<z[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function W(e,t,r){L(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<z[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function K(e,t,r){L(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<z[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function q(e,t){return F(e,0,t.value)}function F(e,t,r){if(r<z[0]){const n=Number(r);e.push([t|n])}else if(r<z[1]){const n=Number(r);e.push([24|t,n])}else if(r<z[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<z[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<z[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}q.encodedSize=function(e){return F.encodedSize(e.value)},F.encodedSize=function(e){return e<z[0]?1:e<z[1]?2:e<z[2]?3:e<z[3]?5:9},q.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const $=BigInt(-1),V=BigInt(1);function H(e,t){const r=t.value,n="bigint"===typeof r?r*$-V:-1*r-1;F(e,t.type.majorEncoded,n)}function G(e,t,r,n){L(e,t,r+n);const i=R(e,t+r,t+r+n);return new k(w.bytes,i,r+n)}function J(e,t,r,n){return G(e,t,1,r)}function Z(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===w.string?x(e.value):e.value),e.encodedBytes}function X(e,t){const r=Z(t);F(e,t.type.majorEncoded,r.length),e.push(r)}function Y(e,t,r,n,i){const o=r+n;L(e,t,o);const s=new k(w.string,E(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=R(e,t+r,t+o)),s}function Q(e,t,r,n){return Y(e,t,1,r,n)}H.encodedSize=function(e){const t=e.value,r="bigint"===typeof t?t*$-V:-1*t-1;return r<z[0]?1:r<z[1]?2:r<z[2]?3:r<z[3]?5:9},H.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},X.encodedSize=function(e){const t=Z(e);return F.encodedSize(t.length)+t.length},X.compareTokens=function(e,t){return r=Z(e),n=Z(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(A(e)&&A(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const ee=X;function te(e,t,r,n){return new k(w.array,n,r)}function re(e,t,r,n){return te(0,0,1,r)}function ne(e,t){F(e,w.array.majorEncoded,t.value)}function ie(e,t,r,n){return new k(w.map,n,r)}function oe(e,t,r,n){return ie(0,0,1,r)}function se(e,t){F(e,w.map.majorEncoded,t.value)}function ae(e,t,r,n){return new k(w.tag,r,1)}function ce(e,t){F(e,w.tag.majorEncoded,t.value)}ne.compareTokens=q.compareTokens,ne.encodedSize=function(e){return F.encodedSize(e.value)},se.compareTokens=q.compareTokens,se.encodedSize=function(e){return F.encodedSize(e.value)},ce.compareTokens=q.compareTokens,ce.encodedSize=function(e){return F.encodedSize(e.value)};function ue(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new k(w.float,e,t)}function le(e,t,r){const n=t.value;if(!1===n)e.push([20|w.float.majorEncoded]);else if(!0===n)e.push([21|w.float.majorEncoded]);else if(null===n)e.push([22|w.float.majorEncoded]);else if(void 0===n)e.push([23|w.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(pe(n),t=ge(fe,1),n===t||Number.isNaN(n)?(fe[0]=249,e.push(fe.slice(0,3)),o=!0):(ye(n),t=me(fe,1),n===t&&(fe[0]=250,e.push(fe.slice(0,5)),o=!0))),o||(i=n,de.setFloat64(0,i,!1),t=be(fe,1),fe[0]=251,e.push(fe.slice(0,9)))}var i}le.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null===r||void 0===r)return 1;if(!t||!0!==t.float64){pe(r);let e=ge(fe,1);if(r===e||Number.isNaN(r))return 3;if(ye(r),e=me(fe,1),r===e)return 5}return 9};const he=new ArrayBuffer(9),de=new DataView(he,1),fe=new Uint8Array(he,0);function pe(e){if(e===1/0)de.setUint16(0,31744,!1);else if(e===-1/0)de.setUint16(0,64512,!1);else if(Number.isNaN(e))de.setUint16(0,32256,!1);else{de.setFloat32(0,e);const t=de.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)de.setUint16(0,31744,!1);else if(0===r)de.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?de.setUint16(0,0):e<-14?de.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):de.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function ge(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function ye(e){de.setFloat32(0,e,!1)}function me(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function be(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function we(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function ke(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}le.compareTokens=q.compareTokens;const _e=[];for(let lo=0;lo<=23;lo++)_e[lo]=we;_e[24]=function(e,t,r,n){return new k(w.uint,D(e,t+1,n),2)},_e[25]=function(e,t,r,n){return new k(w.uint,M(e,t+1,n),3)},_e[26]=function(e,t,r,n){return new k(w.uint,W(e,t+1,n),5)},_e[27]=function(e,t,r,n){return new k(w.uint,K(e,t+1,n),9)},_e[28]=we,_e[29]=we,_e[30]=we,_e[31]=we;for(let lo=32;lo<=55;lo++)_e[lo]=we;_e[56]=function(e,t,r,n){return new k(w.negint,-1-D(e,t+1,n),2)},_e[57]=function(e,t,r,n){return new k(w.negint,-1-M(e,t+1,n),3)},_e[58]=function(e,t,r,n){return new k(w.negint,-1-W(e,t+1,n),5)},_e[59]=function(e,t,r,n){const i=K(e,t+1,n);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new k(w.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new k(w.negint,$-BigInt(i),9)},_e[60]=we,_e[61]=we,_e[62]=we,_e[63]=we;for(let lo=64;lo<=87;lo++)_e[lo]=J;_e[88]=function(e,t,r,n){return G(e,t,2,D(e,t+1,n))},_e[89]=function(e,t,r,n){return G(e,t,3,M(e,t+1,n))},_e[90]=function(e,t,r,n){return G(e,t,5,W(e,t+1,n))},_e[91]=function(e,t,r,n){const i=K(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return G(e,t,9,i)},_e[92]=we,_e[93]=we,_e[94]=we,_e[95]=ke("indefinite length bytes/strings are not supported");for(let lo=96;lo<=119;lo++)_e[lo]=Q;_e[120]=function(e,t,r,n){return Y(e,t,2,D(e,t+1,n),n)},_e[121]=function(e,t,r,n){return Y(e,t,3,M(e,t+1,n),n)},_e[122]=function(e,t,r,n){return Y(e,t,5,W(e,t+1,n),n)},_e[123]=function(e,t,r,n){const i=K(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Y(e,t,9,i,n)},_e[124]=we,_e[125]=we,_e[126]=we,_e[127]=ke("indefinite length bytes/strings are not supported");for(let lo=128;lo<=151;lo++)_e[lo]=re;_e[152]=function(e,t,r,n){return te(0,0,2,D(e,t+1,n))},_e[153]=function(e,t,r,n){return te(0,0,3,M(e,t+1,n))},_e[154]=function(e,t,r,n){return te(0,0,5,W(e,t+1,n))},_e[155]=function(e,t,r,n){const i=K(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return te(0,0,9,i)},_e[156]=we,_e[157]=we,_e[158]=we,_e[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return te(0,0,1,1/0)};for(let lo=160;lo<=183;lo++)_e[lo]=oe;_e[184]=function(e,t,r,n){return ie(0,0,2,D(e,t+1,n))},_e[185]=function(e,t,r,n){return ie(0,0,3,M(e,t+1,n))},_e[186]=function(e,t,r,n){return ie(0,0,5,W(e,t+1,n))},_e[187]=function(e,t,r,n){const i=K(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return ie(0,0,9,i)},_e[188]=we,_e[189]=we,_e[190]=we,_e[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return ie(0,0,1,1/0)};for(let lo=192;lo<=215;lo++)_e[lo]=ae;_e[216]=function(e,t,r,n){return new k(w.tag,D(e,t+1,n),2)},_e[217]=function(e,t,r,n){return new k(w.tag,M(e,t+1,n),3)},_e[218]=function(e,t,r,n){return new k(w.tag,W(e,t+1,n),5)},_e[219]=function(e,t,r,n){return new k(w.tag,K(e,t+1,n),9)},_e[220]=we,_e[221]=we,_e[222]=we,_e[223]=we;for(let lo=224;lo<=243;lo++)_e[lo]=ke("simple values are not supported");_e[244]=we,_e[245]=we,_e[246]=we,_e[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new k(w.null,null,1):new k(w.undefined,void 0,1)},_e[248]=ke("simple values are not supported"),_e[249]=function(e,t,r,n){return ue(ge(e,t+1),3,n)},_e[250]=function(e,t,r,n){return ue(me(e,t+1),5,n)},_e[251]=function(e,t,r,n){return ue(be(e,t+1),9,n)},_e[252]=we,_e[253]=we,_e[254]=we,_e[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new k(w.break,void 0,1)};const ve=[];for(let lo=0;lo<24;lo++)ve[lo]=new k(w.uint,lo,1);for(let lo=-1;lo>=-24;lo--)ve[31-lo]=new k(w.negint,lo,1);ve[64]=new k(w.bytes,new Uint8Array(0),1),ve[96]=new k(w.string,"",1),ve[128]=new k(w.array,0,1),ve[160]=new k(w.map,0,1),ve[244]=new k(w.false,!1,1),ve[245]=new k(w.true,!0,1),ve[246]=new k(w.null,null,1);const Se={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=Ae[i].compareTokens(r,n);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case w.false:return P([244]);case w.true:return P([245]);case w.null:return P([246]);case w.bytes:return e.value.length?void 0:P([64]);case w.string:return""===e.value?P([96]):void 0;case w.array:return 0===e.value?P([128]):void 0;case w.map:return 0===e.value?P([160]):void 0;case w.uint:return e.value<24?P([Number(e.value)]):void 0;case w.negint:if(e.value>=-24)return P([31-Number(e.value)])}}};const Ae=function(){const e=[];return e[w.uint.major]=q,e[w.negint.major]=H,e[w.bytes.major]=X,e[w.string.major]=ee,e[w.array.major]=ne,e[w.map.major]=se,e[w.tag.major]=ce,e[w.float.major]=le,e}(),Ie=new j;class Ee{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Ee(t,e)}}const xe={null:new k(w.null,null),undefined:new k(w.undefined,void 0),true:new k(w.true,!0),false:new k(w.false,!1),emptyArray:new k(w.array,0),emptyMap:new k(w.map,0)},Pe={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new k(e>=0?w.uint:w.negint,e):new k(w.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new k(w.uint,e):new k(w.negint,e),Uint8Array:(e,t,r,n)=>new k(w.bytes,e),string:(e,t,r,n)=>new k(w.string,e),boolean:(e,t,r,n)=>e?xe.true:xe.false,null:(e,t,r,n)=>xe.null,undefined:(e,t,r,n)=>xe.undefined,ArrayBuffer:(e,t,r,n)=>new k(w.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new k(w.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[xe.emptyArray,new k(w.break)]:xe.emptyArray;n=Ee.createCheck(n,e);const i=[];let o=0;for(const s of e)i[o++]=Re(s,r,n);return r.addBreakTokens?[new k(w.array,e.length),i,new k(w.break)]:[new k(w.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[xe.emptyMap,new k(w.break)]:xe.emptyMap;n=Ee.createCheck(n,e);const a=[];let c=0;for(const u of o)a[c++]=[Re(u,r,n),Re(i?e.get(u):e[u],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new k(w.map,s),a,new k(w.break)]:[new k(w.map,s),a]}};Pe.Map=Pe.Object,Pe.Buffer=Pe.Uint8Array;for(const lo of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Pe[`${lo}Array`]=Pe.DataView;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n=b(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Pe[n];if("function"===typeof i){const o=i(e,n,t,r);if(null!=o)return o}const o=Pe[n];if(!o)throw new Error(`CBOR encode error: unsupported type: ${n}`);return o(e,n,t,r)}function Be(e,t,r,n){if(Array.isArray(t))for(const i of t)Be(e,i,r,n);else r[t.type.major](e,t,n)}function Oe(e,t,r){const n=Re(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new j(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return I(t.chunks[0])}}return Ie.reset(),Be(Ie,n,t,r),Ie.toBytes(!0)}function Te(e,t){return t=Object.assign({},Se,t),Oe(e,Ae,t)}const Ce={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ne{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=ve[e];if(void 0===t){const r=_e[e];if(!r)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const je=Symbol.for("DONE"),Ue=Symbol.for("BREAK");function Le(e,t){if(e.done())return je;const r=e.next();if(r.type===w.break)return Ue;if(r.type.terminal)return r.value;if(r.type===w.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=Le(t,r);if(o===Ue){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===je)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===w.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=Le(t,r);if(a===Ue){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===je)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);const c=Le(t,r);if(c===je)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,c):i[a]=c}return n?o:i}(r,e,t);if(r.type===w.tag){if(t.tags&&"function"===typeof t.tags[r.value]){const n=Le(e,t);return t.tags[r.value](n)}throw new Error(`CBOR decode error: tag not supported (${r.value})`)}throw new Error("unsupported")}function ze(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const r=(t=Object.assign({},Ce,t)).tokenizer||new Ne(e,t),n=Le(r,t);if(n===je)throw new Error("CBOR decode error: did not find any content to decode");if(n===Ue)throw new Error("CBOR decode error: got unexpected break");if(!r.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}const De={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=p.CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new k(w.tag,42),new k(w.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Me={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Me.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return p.CID.decode(e.subarray(1))};const We=e=>ze(e,Me),Ke=18,qe=32,Fe=112;async function $e(e){const t=await e.upTo(8),r=f.decode(t);return e.seek(f.decode.bytes),r}async function Ve(e){const t=await $e(e);if(0===t)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(t);e.seek(t);const n=We(r);if(null==n||Array.isArray(n)||"object"!==typeof n)throw new Error("Invalid CAR header format");if(1!==n.version){if("string"===typeof n.version)throw new Error(`Invalid CAR version: "${n.version}"`);throw new Error(`Invalid CAR version: ${n.version}`)}if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter((e=>"roots"!==e&&"version"!==e)).length)throw new Error("Invalid CAR header format");return n}async function He(e){const t=await e.exactly(2);if(t[0]===Ke&&t[1]===qe){const t=await e.exactly(34);e.seek(34);const r=g.Jx(t);return p.CID.create(0,Fe,r)}const r=await $e(e);if(1!==r)throw new Error(`Unexpected CID version (${r})`);const n=await $e(e),i=await async function(e){const t=await e.upTo(8);f.decode(t);const r=f.decode.bytes,n=f.decode(t.subarray(f.decode.bytes)),i=r+f.decode.bytes+n,o=await e.exactly(i);return e.seek(i),o}(e),o=g.Jx(i);return p.CID.create(r,n,o)}async function Ge(e){const t=e.pos;let r=await $e(e);if(0===r)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;return{cid:await He(e),length:r,blockLength:r-(e.pos-t)}}async function Je(e){const{cid:t,blockLength:r}=await Ge(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function Ze(e){const t=e.pos,{cid:r,length:n,blockLength:i}=await Ge(e),o={cid:r,length:n,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(o.blockLength),o}function Xe(e){const t=Ve(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await Je(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await Ze(e)}}}function Ye(e){let t=0;return{upTo:async r=>e.subarray(t,t+Math.min(r,e.length-t)),async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(e){t+=e},get pos(){return t}}}function Qe(e){const t=e[Symbol.asyncIterator]();return function(e){let t=0,r=0,n=0,i=new Uint8Array(0);const o=async t=>{r=i.length-n;const o=[i.subarray(n)];for(;r<t;){const t=await e();if(null==t)break;r<0?t.length>r&&o.push(t.subarray(-r)):o.push(t),r+=t.length}i=new Uint8Array(o.reduce(((e,t)=>e+t.length),0));let s=0;for(const e of o)i.set(e,s),s+=e.length;n=0};return{upTo:async e=>(i.length-n<e&&await o(e),i.subarray(n,n+Math.min(i.length-n,e))),async exactly(e){if(i.length-n<e&&await o(e),i.length-n<e)throw new Error("Unexpected end of data");return i.subarray(n,n+e)},seek(e){t+=e,n+=e},get pos(){return t}}}((async function(){const e=await t.next();return e.done?null:e.value}))}class et{constructor(e,t,r){this._version=e,this._roots=t,this._blocks=r,this._keys=r.map((e=>e.cid.toString()))}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){const t=this._keys.indexOf(e.toString());return t>-1?this._blocks[t]:void 0}async*blocks(){for(const e of this._blocks)yield e}async*cids(){for(const e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return tt(Ye(e))}static async fromIterable(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return tt(Qe(e))}}async function tt(e){const t=Xe(e),{version:r,roots:n}=await t.header(),i=[];for await(const o of t.blocks())i.push(o);return new et(r,n,i)}Symbol.asyncIterator;class rt{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class nt extends rt{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:r,iterator:n}=await it(e);return new nt(t,r,n)}static async fromIterable(e){const{version:t,roots:r,iterator:n}=await ot(e);return new nt(t,r,n)}}Symbol.asyncIterator;async function it(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return st(Ye(e))}async function ot(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return st(Qe(e))}async function st(e){const t=Xe(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}function at(e){const t=Te({version:1,roots:e},De);const r=f.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function ct(){}class ut{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=p.CID.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then((()=>this._encoder.writeBlock({cid:t,bytes:e.bytes}))),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=p.CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const r of e){const e=p.CID.asCID(r);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:r}=ht();return{writer:new ut(e,t),out:new lt(r)}}static createAppender(){const{encoder:e,iterator:t}=ht();e.setRoots=()=>Promise.resolve();return{writer:new ut([],e),out:new lt(t)}}static async updateRootsInBytes(e,t){const r=Ye(e);await Ve(r);const n=at(t);if(r.pos!==n.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${n.length} bytes)`);return e.set(n,0),e}}class lt{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function ht(){const e=function(){const e=[];let t=null,r=ct,n=!1,i=null,o=ct;const s=()=>(t||(t=new Promise((e=>{r=()=>{t=null,r=ct,e()}}))),t),a={write(t){e.push(t);const r=s();return o(),r},async end(){n=!0;const e=s();return o(),e}},c={async next(){const t=e.shift();return t?(0===e.length&&r(),{done:!1,value:t}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise((e=>{o=()=>(i=null,o=ct,e(c.next()))}))),i)}};return{writer:a,iterator:c}}(),{writer:t,iterator:r}=e,n=function(e){return{async setRoots(t){const r=at(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(f.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},close:async()=>e.end()}}(t);return{encoder:n,iterator:r}}var dt=r(88411);const ft=r(47250);var pt=r(92829),gt=r(40668),yt=r(28546),mt=r(76335);(0,gt.D)({name:"murmur3-32",code:35,encode:e=>function(e){const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}(mt.x86.hash32(e))});const bt=(0,gt.D)({name:"murmur3-128",code:34,encode:e=>yt.aI.fromHex(mt.x64.hash128(e))});const wt={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:pt.sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:async function(e){return(await bt.encode(e)).slice(0,8).reverse()},hamtHashCode:34,hamtBucketBits:8},kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=ft.bind({ignoreUndefined:!0});return t(wt,e)};var _t=r(15504),vt=r(84389);const St=vt.Reader,At=vt.Writer,It=vt.util,Et=vt.roots["ipfs-unixfs"]||(vt.roots["ipfs-unixfs"]={}),xt=Et.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=It.newBuffer([]),e.prototype.filesize=It.Long?It.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=It.emptyArray,e.prototype.hashType=It.Long?It.Long.fromBits(0,0,!0):0,e.prototype.fanout=It.Long?It.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=At.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&Et.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof St||(e=St.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Et.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2===(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=Et.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw It.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof Et.Data)return e;var t=new Et.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"===typeof e.Data?It.base64.decode(e.Data,t.Data=It.newBuffer(It.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(It.Long?(t.filesize=It.Long.fromValue(e.filesize)).unsigned=!0:"string"===typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"===typeof e.filesize?t.filesize=e.filesize:"object"===typeof e.filesize&&(t.filesize=new It.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)It.Long?(t.blocksizes[r]=It.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"===typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"===typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"===typeof e.blocksizes[r]&&(t.blocksizes[r]=new It.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(It.Long?(t.hashType=It.Long.fromValue(e.hashType)).unsigned=!0:"string"===typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"===typeof e.hashType?t.hashType=e.hashType:"object"===typeof e.hashType&&(t.hashType=new It.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(It.Long?(t.fanout=It.Long.fromValue(e.fanout)).unsigned=!0:"string"===typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"===typeof e.fanout?t.fanout=e.fanout:"object"===typeof e.fanout&&(t.fanout=new It.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=Et.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=It.newBuffer(r.Data))),It.Long){var n=new It.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(It.Long){n=new It.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(It.Long){n=new It.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?Et.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?It.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"===typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?It.Long.prototype.toString.call(e.filesize):t.longs===Number?new It.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"===typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?It.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new It.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"===typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?It.Long.prototype.toString.call(e.hashType):t.longs===Number?new It.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"===typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?It.Long.prototype.toString.call(e.fanout):t.longs===Number?new It.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=Et.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,vt.util.toJSONOptions)},e.DataType=function(){const e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),Pt=(Et.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=It.Long?It.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=At.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof St||(e=St.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Et.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw It.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof Et.UnixTime)return e;var t=new Et.UnixTime;return null!=e.Seconds&&(It.Long?(t.Seconds=It.Long.fromValue(e.Seconds)).unsigned=!1:"string"===typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"===typeof e.Seconds?t.Seconds=e.Seconds:"object"===typeof e.Seconds&&(t.Seconds=new It.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(It.Long){var n=new It.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"===typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?It.Long.prototype.toString.call(e.Seconds):t.longs===Number?new It.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,vt.util.toJSONOptions)},e})(),Et.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=At.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof St||(e=St.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Et.Metadata;e.pos<r;){var i=e.uint32();if(i>>>3===1)n.MimeType=e.string();else e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof Et.Metadata)return e;var t=new Et.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,vt.util.toJSONOptions)},e})(),xt),Rt=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],Bt=["directory","hamt-sharded-directory"],Ot=parseInt("0644",8),Tt=parseInt("0755",8);function Ct(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function Nt(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw _t(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}class jt{static unmarshal(e){const t=Pt.decode(e),r=Pt.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=new jt({type:Rt[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return n._originalMode=r.mode||0,n}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};const{type:t,data:r,blockSizes:n,hashType:i,fanout:o,mtime:s,mode:a}=e;if(t&&!Rt.includes(t))throw _t(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=r,this.hashType=i,this.fanout=o,this.blockSizes=n||[],this._originalMode=0,this.mode=Ct(a),s&&(this.mtime=Nt(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?Tt:Ot;const t=Ct(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&Bt.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach((t=>{e+=t})),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=Pt.DataType.Raw;break;case"directory":e=Pt.DataType.Directory;break;case"file":e=Pt.DataType.File;break;case"metadata":e=Pt.DataType.Metadata;break;case"symlink":e=Pt.DataType.Symlink;break;case"hamt-sharded-directory":e=Pt.DataType.HAMTShard;break;default:throw _t(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t,r,n=this.data;if(this.data&&this.data.length||(n=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(Ct(this.mode)||0),t!==Ot||this.isDirectory()||(t=void 0),t===Tt&&this.isDirectory()&&(t=void 0)),null!=this.mtime){const e=Nt(this.mtime);e&&(r={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===r.FractionalNanoseconds&&delete r.FractionalNanoseconds)}const i={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return Pt.encode(i).finish()}}const Ut=new TextDecoder;function Lt(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function zt(e,t){let r;[r,t]=Lt(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function Dt(e,t){let r;return[r,t]=Lt(e,t),[7&r,r>>3,t]}function Mt(e){const t={},r=e.length;let n=0;for(;n<r;){let r,i;if([r,i,n]=Dt(e,n),1===i){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=zt(e,n)}else if(2===i){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,n]=zt(e,n),t.Name=Ut.decode(i)}else{if(3!==i)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=Lt(e,n)}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const Wt=new TextEncoder,Kt=2**32;function qt(e,t){let r=t.length;if("number"===typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=Vt(t,r,e.Tsize)-1,t[r]=24}if("string"===typeof e.Name){const n=Wt.encode(e.Name);r-=n.length,t.set(n,r),r=Vt(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=Vt(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function Ft(e){const t=function(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+Ht(r)}if(e.Links)for(const r of e.Links){const e=$t(r);t+=1+e+Ht(e)}return t}(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=Vt(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let i=e.Links.length-1;i>=0;i--){const t=qt(e.Links[i],r.subarray(0,n));n-=t,n=Vt(r,n,t)-1,r[n]=18}return r}function $t(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+Ht(r)}if("string"===typeof e.Name){const r=Wt.encode(e.Name).length;t+=1+r+Ht(r)}return"number"===typeof e.Tsize&&(t+=1+Ht(e.Tsize)),t}function Vt(e,t,r){const n=t-=Ht(r);for(;r>=2147483648;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function Ht(e){return e%2===0&&e++,Math.floor((function(e){let t=0;e>=Kt&&(e=Math.floor(e/Kt),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+Gt[e]}(e)+6)/7)}const Gt=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],Jt=["Data","Links"],Zt=["Hash","Name","Tsize"],Xt=new TextEncoder;function Yt(e,t){if(e===t)return 0;const r=e.Name?Xt.encode(e.Name):[],n=t.Name?Xt.encode(t.Name):[];let i=r.length,o=n.length;for(let s=0,a=Math.min(i,o);s<a;++s)if(r[s]!==n[s]){i=r[s],o=n[s];break}return i<o?-1:o<i?1:0}function Qt(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function er(e){if("object"===typeof e.asCID){const t=p.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let n=p.CID.asCID(e.Hash);try{n||("string"===typeof e.Hash?n=p.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=p.CID.decode(e.Hash)))}catch(r){throw new TypeError(`Invalid DAG-PB form: ${r.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"===typeof e.Name&&(t.Name=e.Name),"number"===typeof e.Tsize&&(t.Tsize=e.Tsize),t}function tr(e){if((e instanceof Uint8Array||"string"===typeof e)&&(e={Data:e}),"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"===typeof e.Data)t.Data=Xt.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(er),t.Links.sort(Yt)}else t.Links=[];return t}function rr(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!Qt(e,Jt))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||"object"!==typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!Qt(r,Zt))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!==typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!==typeof r.Tsize||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===Yt(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return tr({Data:e,Links:t})}function ir(e,t,r){return er({Hash:r,Name:e,Tsize:t})}const or="dag-pb",sr=112;function ar(e){rr(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),Ft(t)}function cr(e){const t=function(e){const t=e.length;let r,n,i=0,o=!1;for(;i<t;){let t,s;if([t,s,i]=Dt(e,i),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===s){if(n)throw new Error("protobuf: (PBNode) duplicate Data section");[n,i]=zt(e,i),r&&(o=!0)}else{if(2!==s)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${s}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let t;r||(r=[]),[t,i]=zt(e,i),r.push(Mt(t))}}}if(i>t)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return n&&(s.Data=n),s.Links=r||[],s}(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((e=>{const t={};try{t.Hash=p.CID.decode(e.Hash)}catch(r){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}const ur=async(e,t,r)=>{r.codec||(r.codec=n),r.hasher||(r.hasher=pt.sha256),void 0===r.cidVersion&&(r.cidVersion=1),r.codec===n&&r.hasher!==pt.sha256&&(r.cidVersion=1);const i=await r.hasher.digest(e),o=p.CID.create(r.cidVersion,r.codec.code,i);return r.onlyHash||await t.put(o,e,{signal:r.signal}),o},lr=async(e,t,r)=>{const n=new jt({type:"directory",mtime:e.mtime,mode:e.mode}),i=ar(tr({Data:n.marshal()}));return{cid:await ur(i,t,r),path:e.path,unixfs:n,size:i.length}};var hr=r(96602),dr=r(21958);const fr=async function(e,t){return t(await dr(e))};var pr=r(19635);async function gr(e,t,r){const n=[];for await(const i of pr(e,r.maxChildrenPerNode))n.push(await t(i));return n.length>1?gr(n,t,r):n[0]}const yr=function(e,t,r){return gr(e,t,r)};const mr=async function(e,t,r){const n=new wr(r.layerRepeat);let i=0,o=1,s=n;for await(const a of pr(e,r.maxChildrenPerNode))s.isFull()&&(s!==n&&n.addChild(await s.reduce(t)),i&&i%r.layerRepeat===0&&o++,s=new br(o,r.layerRepeat,i),i++),s.append(a);return s&&s!==n&&n.addChild(await s.reduce(t)),n.reduce(t)};class br{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=r,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let r=[];return e.children.length&&(r=await Promise.all(e.children.filter((e=>e.data)).map((e=>this._reduce(e,t))))),t((e.data||[]).concat(r))}_findParent(e,t){const r=e.parent;if(r&&0!==r.depth)return r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t)}}class wr extends br{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}const kr=async function*(e,t,r){for await(let i of e.content)yield async()=>{let o;r.progress(i.length,e.path);const s={codec:n,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(s.codec=hr,s.cidVersion=1):(o=new jt({type:r.leafType,data:i}),i=ar({Data:o.marshal(),Links:[]})),{cid:await ur(i,t,s),unixfs:o,size:i.length}}},_r={flat:fr,balanced:yr,trickle:mr};const vr=function(e,t,r){const i=_r[r.strategy];if(!i)throw _t(new Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return i(async function*(e,t,r){let n,i,o=-1;i="function"===typeof r.bufferImporter?r.bufferImporter:kr;for await(const s of dt(i(e,t,r),r.blockWriteConcurrency))o++,0!==o?(1===o&&n&&(yield n,n=null),yield s):n=s;n&&(n.single=!0,yield n)}(e,t,r),((e,t,r)=>async function(i){if(1===i.length&&i[0].single&&r.reduceSingleLeafToSelf){const o=i[0];if(void 0!==e.mtime||void 0!==e.mode){let i=await t.get(o.cid);o.unixfs=new jt({type:"file",mtime:e.mtime,mode:e.mode,data:i}),i=ar(tr({Data:o.unixfs.marshal()})),o.cid=await ur(i,t,{...r,codec:n,hasher:r.hasher,cidVersion:r.cidVersion}),o.size=i.length}return{cid:o.cid,path:e.path,unixfs:o.unixfs,size:o.size}}const o=new jt({type:"file",mtime:e.mtime,mode:e.mode}),s=i.filter((e=>!(e.cid.code!==hr.code||!e.size)||!(!e.unixfs||e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length))).map((e=>e.cid.code===hr.code?(o.addBlockSize(e.size),{Name:"",Tsize:e.size,Hash:e.cid}):(e.unixfs&&e.unixfs.data?o.addBlockSize(e.unixfs.data.length):o.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid}))),a={Data:o.marshal(),Links:s},c=ar(tr(a));return{cid:await ur(c,t,r),path:e.path,unixfs:o,size:c.length+a.Links.reduce(((e,t)=>e+t.Tsize),0)}})(e,t,r),r)};var Sr=r(74439),Ar=r(87964);const Ir=async function*(e,t){let r,n,i;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)i=t.avgChunkSize,r=t.minChunkSize,n=t.maxChunkSize;else{if(!t.avgChunkSize)throw _t(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");i=t.avgChunkSize,r=i/3,n=i+i/2}if(r<16)throw _t(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");n<r&&(n=r),i<r&&(i=r);const o=Math.floor(Math.log2(i));for await(const s of async function*(e,t){const r=await(0,Ar.create)(t.bits,t.min,t.max,t.window),n=new Sr;for await(const i of e){n.append(i);const e=r.fingerprint(i);for(let t=0;t<e.length;t++){const r=e[t],i=n.slice(0,r);n.consume(r),yield i}}n.length&&(yield n.slice(0))}(e,{min:r,max:n,bits:o,window:t.window,polynomial:t.polynomial}))yield s};const Er=async function*(e,t){let r=new Sr,n=0,i=!1;const o=t.maxChunkSize;for await(const s of e)for(r.append(s),n+=s.length;n>=o;)if(yield r.slice(0,o),i=!0,o===r.length)r=new Sr,n=0;else{const e=new Sr;e.append(r.shallowSlice(o)),r=e,n-=o}i&&!n||(yield r.slice(0,n))};var xr=r(58524);const Pr=async function*(e){for await(const t of e){if(void 0===t.length)throw _t(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"===typeof t||t instanceof String)yield(0,xr.fromString)(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else{if(!(t instanceof Uint8Array))throw _t(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield t}}};function Rr(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(t=e,Symbol.iterator in t)return async function*(){yield*e}();if(function(e){return Symbol.asyncIterator in e}(e))return e}catch{throw _t(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}var t;throw _t(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}const Br=async function*(e,t,r){for await(const n of e)if(n.path&&("./"===n.path.substring(0,2)&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter((e=>e&&"."!==e)).join("/")),n.content){let e,i;e="function"===typeof r.chunker?r.chunker:"rabin"===r.chunker?Ir:Er,i="function"===typeof r.chunkValidator?r.chunkValidator:Pr;const o={path:n.path,mtime:n.mtime,mode:n.mode,content:e(i(Rr(n.content),r),r)};yield()=>vr(o,t,r)}else{if(!n.path)throw new Error("Import candidate must have content or path or both");{const e={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>lr(e,t,r)}}};const Or=class{constructor(e,t){this.options=t||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,t){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}};const Tr=class extends Or{constructor(e,t){super(e,t),this._children={}}async put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const r=e[t];yield{key:r,child:this._children[r]}}}async*flush(e){const t=Object.keys(this._children),r=[];for(let c=0;c<t.length;c++){let n=this._children[t[c]];if(n instanceof Or)for await(const t of n.flush(e))n=t,yield n;null!=n.size&&n.cid&&r.push({Name:t[c],Tsize:n.size,Hash:n.cid})}const n=new jt({type:"directory",mtime:this.mtime,mode:this.mode}),i={Data:n.marshal(),Links:r},o=ar(tr(i)),s=await ur(o,e,this.options),a=o.length+i.Links.reduce(((e,t)=>e+(null==t.Tsize?0:t.Tsize)),0);this.cid=s,this.size=a,yield{cid:s,unixfs:n,path:this.path,size:a}}};var Cr=r(74123);const Nr=class extends Or{constructor(e,t){super(e,t),this._bucket=(0,Cr.createHAMT)({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e){for await(const t of jr(this._bucket,e,this,this.options))yield{...t,path:this.path}}};async function*jr(e,t,r,n){const i=e._children,o=[];let s=0;for(let d=0;d<i.length;d++){const e=i.get(d);if(!e)continue;const r=d.toString(16).toUpperCase().padStart(2,"0");if(e instanceof Cr.Bucket){let i;for await(const r of await jr(e,t,null,n))i=r;if(!i)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:r,Tsize:i.size,Hash:i.cid}),s+=i.size}else if("function"===typeof e.value.flush){const n=e.value;let i;for await(const e of n.flush(t))i=e,yield i;const a=r+e.key;o.push({Name:a,Tsize:i.size,Hash:i.cid}),s+=i.size}else{const t=e.value;if(!t.cid)continue;const n=r+e.key,i=t.size;o.push({Name:n,Tsize:i,Hash:t.cid}),s+=i}}const a=Uint8Array.from(i.bitField().reverse()),c=new jt({type:"hamt-sharded-directory",data:a,fanout:e.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),u=ar(tr({Data:c.marshal(),Links:o})),l=await ur(u,t,n),h=u.length+s;yield{cid:l,unixfs:c,size:h}}const Ur=async function e(t,r,n,i){let o=r;r instanceof Tr&&r.directChildrenCount()>=n&&(o=await async function(e,t){const r=new Nr({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(const{key:n,child:i}of e.eachChildSeries())await r.put(n,i);return r}(r,i));const s=o.parent;if(s){if(o!==r){if(t&&(t.parent=o),!o.parentKey)throw new Error("No parent key found");await s.put(o.parentKey,o)}return e(o,s,n,i)}return o},Lr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean)};async function zr(e,t,r){const n=Lr(e.path||""),i=n.length-1;let o=t,s="";for(let a=0;a<n.length;a++){const c=n[a];s+=`${s?"/":""}${c}`;const u=a===i;if(o.dirty=!0,o.cid=void 0,o.size=void 0,u)await o.put(c,e),t=await Ur(null,o,r.shardSplitThreshold,r);else{let e=await o.get(c);e&&e instanceof Or||(e=new Tr({root:!1,dir:!0,parent:o,parentKey:c,path:s,dirty:!0,flat:!0,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},r)),await o.put(c,e),o=e}}return t}async function*Dr(e,t){e instanceof Or?yield*e.flush(t):e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e)}const Mr=async function*(e,t,r){let n=new Tr({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const i of e)i&&(n=await zr(i,n,r),i.unixfs&&i.unixfs.isDirectory()||(yield i));if(r.wrapWithDirectory)yield*Dr(n,t);else for await(const i of n.eachChildSeries())i&&(yield*Dr(i.child,t))};var Wr=r(55194),Kr=r(31156),qr=r(62469),Fr=r(60191);function $r(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function Vr(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}function Hr(e){return"object"===typeof e&&(e.path||e.content)}const Gr=e=>e&&"function"===typeof e.getReader;async function*Jr(e){yield e}async function Zr(e){if($r(e))return Jr(Xr(e));if("string"===typeof e||e instanceof String)return Jr(Xr(e.toString()));if(Vr(e))return Kr(e);if(Gr(e)&&(e=Wr(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=qr(e),{value:r,done:n}=await t.peek();if(n)return Jr(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return Jr(Uint8Array.from(await dr(t)));if($r(r)||"string"===typeof r||r instanceof String)return Fr(t,Xr)}throw _t(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function Xr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,xr.fromString)(e.toString())}async function Yr(e,t){const{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:Ct(n),mtime:Nt(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function Qr(e){return async function*(e,t){if(null===e||void 0===e)throw _t(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"===typeof e||e instanceof String)yield Yr(e.toString(),t);else if($r(e)||Vr(e))yield Yr(e,t);else{if(Gr(e)&&(e=Wr(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=qr(e),{value:n,done:i}=await r.peek();if(i)return void(yield{content:[]});if(r.push(n),Number.isInteger(n)||$r(n)||"string"===typeof n||n instanceof String)return void(yield Yr(r,t));throw _t(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!Hr(e))throw _t(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield Yr(e,t)}}(e,Zr)}async function en(e,t){const{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:Ct(n),mtime:Nt(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function tn(e){return async function*(e,t){if("string"===typeof e||e instanceof String||$r(e)||Vr(e)||e._readableState)throw _t(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(Gr(e)&&(e=Wr(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=qr(e),{value:n,done:i}=await r.peek();if(i)return void(yield*[]);if(r.push(n),Number.isInteger(n))throw _t(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState)return void(yield*Fr(r,(e=>en({content:e},t))));if($r(n))return void(yield en({content:r},t));if(Hr(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||Gr(n)||Vr(n))return void(yield*Fr(r,(e=>en(e,t))))}if(Hr(e))throw _t(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw _t(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}(e,Zr)}function rn(e){return"string"===typeof e||e instanceof String||(t=e,ArrayBuffer.isView(t)||t instanceof ArrayBuffer)||function(e){return Boolean(e.constructor)&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}(e)||"_readableState"in e;var t}var nn=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=on;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},on=Math.pow(2,31);var sn=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var an=Math.pow(2,7),cn=Math.pow(2,14),un=Math.pow(2,21),ln=Math.pow(2,28),hn=Math.pow(2,35),dn=Math.pow(2,42),fn=Math.pow(2,49),pn=Math.pow(2,56),gn=Math.pow(2,63);const yn={encode:nn,decode:sn,encodingLength:function(e){return e<an?1:e<cn?2:e<un?3:e<ln?4:e<hn?5:e<dn?6:e<fn?7:e<pn?8:e<gn?9:10}},mn=e=>[yn.decode(e),yn.decode.bytes],bn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return yn.encode(e,t,r),t},wn=e=>yn.encodingLength(e),kn=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),_n=(e,t)=>{const r=t.byteLength,n=wn(e),i=n+wn(r),o=new Uint8Array(i+r);return bn(e,o,0),bn(r,o,n),o.set(t,i),new vn(e,r,t,o)};class vn{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var Sn=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=o-i;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,f=s-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var g=c.repeat(r);p<s;++p)g+=e.charAt(u[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};const An=Sn;class In{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class En{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Pn(this,e)}}class xn{constructor(e){this.decoders=e}or(e){return Pn(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Pn=(e,t)=>new xn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Rn{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new In(e,t,r),this.decoder=new En(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bn=e=>{let{name:t,prefix:r,encode:n,decode:i}=e;return new Rn(t,r,n,i)},On=e=>{let{prefix:t,name:r,alphabet:n}=e;const{encode:i,decode:o}=An(n,r);return Bn({prefix:t,name:r,encode:i,decode:e=>kn(o(e))})},Tn=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:i}=e;return Bn({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,i,n),decode:e=>((e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let l=0;l<o;++l){const t=i[e[l]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,i,n,t)})},Cn=On({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nn=(On({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Tn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));Tn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Tn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class jn{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Fn,byteLength:Fn,code:qn,version:qn,multihash:qn,bytes:qn,_baseCache:Fn,asCID:Fn})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==Dn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Mn)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return jn.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=_n(e,t);return jn.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,r=e.multihash,t===r||t.code===r.code&&t.size===r.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(t.bytes,r.bytes));var t,r}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?Ln(t,n,e||Cn.encoder):zn(t,n,e||Nn.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return $n(/^0\.0/,Vn),!(!e||!e[Kn]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof jn)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new jn(t,r,n,i||Wn(t,r,n.bytes))}if(null!=e&&!0===e[Kn]){const{version:t,multihash:r,code:n}=e,i=(e=>{const t=kn(e),[r,n]=mn(t),[i,o]=mn(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new vn(r,i,s,t)})(r);return jn.create(t,n,i)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Dn)throw new Error(`Version 0 CID must use dag-pb (code: ${Dn}) block encoding`);return new jn(e,t,r,r.bytes);case 1:{const n=Wn(e,t,r.bytes);return new jn(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return jn.create(0,Dn,e)}static createV1(e,t){return jn.create(1,e,t)}static decode(e){const[t,r]=jn.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=jn.inspectBytes(e),r=t.size-t.multihashSize,n=kn(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new vn(t.multihashCode,t.digestSize,i,n);return[0===t.version?jn.createV0(o):jn.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=mn(e.subarray(t));return t+=n,r};let n=r(),i=Dn;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=Un(e,t),i=jn.decode(n);return i._baseCache.set(r,e),i}}const Un=(e,t)=>{switch(e[0]){case"Q":{const r=t||Cn;return[Cn.prefix,r.decode(`${Cn.prefix}${e}`)]}case Cn.prefix:{const r=t||Cn;return[Cn.prefix,r.decode(e)]}case Nn.prefix:{const r=t||Nn;return[Nn.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Ln=(e,t,r)=>{const{prefix:n}=r;if(n!==Cn.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},zn=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},Dn=112,Mn=18,Wn=(e,t,r)=>{const n=wn(e),i=n+wn(t),o=new Uint8Array(i+r.byteLength);return bn(e,o,0),bn(t,o,n),o.set(r,i),o},Kn=Symbol.for("@ipld/js-cid/CID"),qn={writable:!1,configurable:!1,enumerable:!0},Fn={writable:!1,enumerable:!1,configurable:!1},$n=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Vn="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Hn=e=>{let{name:t,code:r,encode:n}=e;return new Gn(t,r,n)};class Gn{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?_n(this.code,t):t.then((e=>_n(this.code,e)))}throw Error("Unknown type, must be binary type")}}function Jn(e){return e=e||new Error("Not Found"),_t(e,"ERR_NOT_FOUND")}function Zn(e){return e=e||new Error("Aborted"),_t(e,"ERR_ABORTED")}var Xn=r(20838),Yn=r(93663),Qn=r(62550);const ei=(e,t)=>async function*(){const r=await dr(e);yield*r.sort(t)}();class ti{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of e)yield this.get(r,t)}async*deleteMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:async r=>{await Xn(this.putMany(e,r)),e=[],await Xn(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(null!=e.prefix&&(r=Yn(r,(t=>t.key.toString().startsWith(e.prefix||"")))),Array.isArray(e.filters)&&(r=e.filters.reduce(((e,t)=>Yn(e,t)),r)),Array.isArray(e.orders)&&(r=e.orders.reduce(((e,t)=>ei(e,t)),r)),null!=e.offset){let t=0;r=Yn(r,(()=>t++>=(e.offset||0)))}return null!=e.limit&&(r=Qn(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(null!=e.prefix&&(r=Yn(r,(t=>t.toString().startsWith(e.prefix||"")))),Array.isArray(e.filters)&&(r=e.filters.reduce(((e,t)=>Yn(e,t)),r)),Array.isArray(e.orders)&&(r=e.orders.reduce(((e,t)=>ei(e,t)),r)),null!=e.offset){let t=0;r=Yn(r,(()=>t++>=e.offset))}return null!=e.limit&&(r=Qn(r,e.limit)),r}}r(79357);class ri extends ti{constructor(){super(),this.store=new Map}async*blocks(){for(const[e,t]of this.store.entries())yield{cid:jn.parse(e),bytes:t}}put(e,t){return this.store.set(e.toString(),t),Promise.resolve()}get(e){const t=this.store.get(e.toString());if(!t)throw new Error(`block with cid ${e.toString()} no found`);return Promise.resolve(t)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}const ni=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ii=Hn({name:"sha2-256",code:18,encode:ni("SHA-256")}),oi=(Hn({name:"sha2-512",code:19,encode:ni("SHA-512")}),{cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:ii,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174});async function si(e){let{input:t,blockstore:r,hasher:n,maxChunkSize:i,maxChildrenPerNode:o,wrapWithDirectory:s,rawLeaves:a}=e;if(!t||Array.isArray(t)&&!t.length)throw new Error("missing input file(s)");const c=r||new ri,u=await h(d(function(e){return rn(e)?Qr(e):tn(e)}(t),(e=>async function*(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=kt(r);let i,o,s;i="function"===typeof r.dagBuilder?r.dagBuilder:Br,o="function"===typeof r.treeBuilder?r.treeBuilder:Mr,s=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];for await(const a of o(dt(i(s,t,n),n.fileImportConcurrency),t,n))yield{cid:a.cid,path:a.path,unixfs:a.unixfs,size:a.size}}(e,c,{...oi,hasher:n||oi.hasher,maxChunkSize:i||oi.maxChunkSize,maxChildrenPerNode:o||oi.maxChildrenPerNode,wrapWithDirectory:!1!==s&&oi.wrapWithDirectory,rawLeaves:null==a?oi.rawLeaves:a}))));if(!u||!u.cid)throw new Error("given input could not be parsed correctly");const l=u.cid,{writer:f,out:p}=await ut.create([l]),g=p[Symbol.asyncIterator]();let y;return{root:l,out:{[Symbol.asyncIterator](){if(null!=y)throw new Error("Multiple iterator not supported");return y=(async()=>{for await(const e of c.blocks())await f.put(e);await f.close(),r||await c.close()})(),{async next(){const e=await g.next();return e.done&&await y,e}}}}}}function ai(e){return e&&e.rel}function ci(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=Object.assign({},t,{rel:r})})),e}function ui(e,t){const r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function li(e){try{const t=e.match(/<?([^>]*)>(.*)/),r=t[1],n=t[2].split(";"),i={},o=new URL(r,"https://example.com");for(const[e,a]of o.searchParams)i[e]=a;n.shift();let s=n.reduce(ui,{});return s=Object.assign({},i,s),s.url=r,s}catch{return null}}function hi(e,t){return function(e,t){if(!e)return!1;const r=(t=t||{}).maxHeaderLength||2e3,n=t.throwOnMaxHeaderLengthExceeded||!1;if(e.length>r){if(n)throw new Error("Input string too long, it should be under "+r+" characters.");return!1}return!0}(e,t)?e.split(/,\s*</).map(li).filter(ai).reduce(ci,{}):null}var di=r(80073);const fi=async function(e){return(await bt.encode(e)).slice(0,8).reverse()},pi=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),gi=async(e,t,r,n,i)=>{if(!n){const e=(0,Cr.createHAMT)({hashFn:fi});n={rootBucket:e,hamtDepth:1,lastBucket:e}}await((e,t,r)=>Promise.all(e.map((e=>{if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2===e.Name.length){const n=parseInt(e.Name,16);return t._putObjectAt(n,new Cr.Bucket({hash:r._options.hash,bits:r._options.bits},t,n))}return r.put(e.Name.substring(2),!0)}))))(e.Links,n.lastBucket,n.rootBucket);const o=await n.rootBucket._findNewBucketAndPos(t);let s=pi(o.pos);const a=(e=>{let t=e.bucket;const r=[];for(;t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()})(o);a.length>n.hamtDepth&&(n.lastBucket=a[n.hamtDepth],s=pi(n.lastBucket._posAtParent));const c=e.Links.find((e=>{if(null==e.Name)return!1;const r=e.Name.substring(0,2),n=e.Name.substring(2);return r===s&&(!n||n===t)}));if(!c)return null;if(null!=c.Name&&c.Name.substring(2)===t)return c.Hash;n.hamtDepth++;return e=cr(await r.get(c.Hash,i)),gi(e,t,r,n,i)},yi=gi;const mi=function(e,t,r,n){const i=t+e.length;return r>=i||n<t?new Uint8Array(0):(n>=t&&n<i&&(e=e.slice(0,n-t)),r>=t&&r<i&&(e=e.slice(r-t)),e)},bi=(e,t,r)=>{if(t||(t=0),t<0)throw _t(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw _t(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(r||0===r||(r=e-t),r<0)throw _t(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+r>e&&(r=e-t),{offset:t,length:r}};async function*wi(e,t,r,n){let i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;if(t instanceof Uint8Array){const e=mi(t,o,r,n);return e.length&&(yield e),o+=e.length,o}if(null==t.Data)throw _t(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{i=jt.unmarshal(t.Data)}catch(c){throw _t(c,"ERR_NOT_UNIXFS")}if(i.data&&i.data.length){const e=mi(i.data,o,r,n);e.length&&(yield e),o+=i.data.length}let a=o;for(let u=0;u<t.Links.length;u++){const c=t.Links[u],l=o+i.blockSizes[u];if(r>=a&&r<l||n>a&&n<=l||r<a&&n>l){const t=await e.get(c.Hash,{signal:s.signal});let i;switch(c.Hash.code){case sr:i=await cr(t);break;case hr.code:i=t;break;case 113:i=await We(t);break;default:throw Error(`Unsupported codec: ${c.Hash.code}`)}for await(const a of wi(e,i,r,n,o,s))o+=a.length,yield a}o=l,a=l+1}}const ki=(e,t,r,n,i,o,s)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=r.fileSize();if(void 0===n)throw new Error("File was a directory");const{offset:i,length:o}=bi(n,e.offset,e.length),a=i,c=i+o;return wi(s,t,a,c,0,e)},_i=(e,t,r,n,i,o,s)=>async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=e.offset||0,a=e.length||t.Links.length,c=t.Links.slice(r,a);for(const t of c){const r=await i(t.Hash,t.Name||"",`${n}/${t.Name||""}`,[],o+1,s,e);r.entry&&(yield r.entry)}};async function*vi(e,t,r,n,i,o){const s=e.Links;for(const a of s){const s=null!=a.Name?a.Name.substring(2):null;if(s){const e=await r(a.Hash,s,`${t}/${s}`,[],n+1,i,o);yield e.entry}else{e=cr(await i.get(a.Hash));for await(const s of vi(e,t,r,n,i,o))yield s}}}const Si=(e,t,r,n,i,o,s)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vi(t,n,i,o,s,e)},Ai={raw:ki,file:ki,directory:_i,"hamt-sharded-directory":Si,metadata:(e,t,r,n,i,o,s)=>()=>[],symlink:(e,t,r,n,i,o,s)=>()=>[]},Ii=async(e,t,r,n,i,o,s,a)=>{const c=cr(await s.get(e,a));let u,l;if(t||(t=e.toString()),null==c.Data)throw _t(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{u=jt.unmarshal(c.Data)}catch(h){throw _t(h,"ERR_NOT_UNIXFS")}if(r||(r=t),n.length){let e;if(e=u&&"hamt-sharded-directory"===u.type?await yi(c,n[0],s):((e,t)=>{const r=e.Links.find((e=>e.Name===t));return r&&r.Hash})(c,n[0]),!e)throw _t(new Error("file does not exist"),"ERR_NOT_FOUND");const t=n.shift();l={cid:e,toResolve:n,name:t||"",path:`${r}/${t}`}}return{entry:{type:u.isDirectory()?"directory":"file",name:t,path:r,cid:e,content:Ai[u.type](e,c,u,r,i,o,s),unixfs:u,depth:o,node:c,size:u.fileSize()},next:l}},Ei=async(e,t,r,n,i,o,s,a)=>{if(n.length)throw _t(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const c=await s.get(e,a);return{entry:{type:"raw",name:t,path:r,cid:e,content:(u=c,async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{offset:t,length:r}=bi(u.length,e.offset,e.length);yield mi(u,0,t,t+r)}),depth:o,size:c.length,node:c}};var u},xi=async(e,t,r,n,i,o,s,a)=>{const c=await s.get(e),u=We(c);let l=u,h=r;for(;n.length;){const i=n[0];if(!(i in l))throw _t(new Error(`No property named ${i} found in cbor node ${e}`),"ERR_NO_PROP");{n.shift(),h=`${h}/${i}`;const s=p.CID.asCID(l[i]);if(s)return{entry:{type:"object",name:t,path:r,cid:e,node:c,depth:o,size:c.length,content:async function*(){yield u}},next:{cid:s,name:i,path:h,toResolve:n}};l=l[i]}}return{entry:{type:"object",name:t,path:r,cid:e,node:c,depth:o,size:c.length,content:async function*(){yield u}}}},Pi=async(e,t,r,n,i,o,s,a)=>{if(n.length)throw _t(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const c=await g.Jx(e.multihash.bytes);return{entry:{type:"identity",name:t,path:r,cid:e,content:(u=c.digest,async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{offset:t,length:r}=bi(u.length,e.offset,e.length);yield mi(u,0,t,t+r)}),depth:o,size:c.digest.length,node:c.digest}};var u},Ri={[sr]:Ii,[hr.code]:Ei,113:xi,[di.identity.code]:Pi};const Bi=function e(t,r,n,i,o,s,a){const c=Ri[t.code];if(!c)throw _t(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return c(t,r,n,i,e,o,s,a)},Oi=e=>{if(e instanceof Uint8Array)return{cid:p.CID.decode(e),toResolve:[]};const t=p.CID.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"===typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}(e);return{cid:p.CID.parse(t[0]),toResolve:t.slice(1)}}throw _t(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*Ti(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{cid:n,toResolve:i}=Oi(e),o=n.toString(),s=o;const a=i.length;for(;;){const c=await Bi(n,o,s,i,a,t,r);if(!c.entry&&!c.next)throw _t(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(c.entry&&(yield c.entry),!c.next)return;i=c.next.toResolve,n=c.next.cid,o=c.next.name,s=c.next.path}}async function Ci(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await h(Ti(e,t,r));if(!n)throw _t(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return n}async function*Ni(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await Ci(e,t,r);if(n&&(yield n,"directory"===n.type))for await(const o of i(n,r))yield o;async function*i(e,t){for await(const r of e.content(t))yield r,r instanceof Uint8Array||"directory"===r.type&&(yield*i(r,t))}}class ji extends ti{constructor(e){super(),this.store=e}async get(e){const t=await this.store.get(e);if(!t)throw new Error(`Incomplete CAR. Block missing for CID ${e}`);if(!async function(e){let{cid:t,bytes:r}=e;return function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}((await ii.digest(r)).digest,t.multihash.digest)}({cid:e,bytes:t}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${e}`);return t}static fromBlockstore(e){return new ji(e)}static fromCarReader(e){return new ji({get:async t=>{const r=await e.get(t);return null===r||void 0===r?void 0:r.bytes}})}}function Ui(e){return Symbol.asyncIterator in e?e:Wr(e)}const Li=function(){let{enumerable:e=!0,configurable:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{enumerable:e,configurable:t,writable:!1}},zi=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const e=[...t,r];if(null!=n&&"object"===typeof n)if(Array.isArray(n))for(const[t,r]of n.entries()){const n=[...e,t],i=yt.k0.asCID(r);i?yield[n.join("/"),i]:"object"===typeof r&&(yield*zi(r,n))}else{const t=yt.k0.asCID(n);t?yield[e.join("/"),t]:yield*zi(n,e)}}},Di=function*(e,t){if(null!=e)for(const[r,n]of Object.entries(e)){const e=[...t,r];if(yield e.join("/"),null!=n&&!(n instanceof Uint8Array)&&"object"===typeof n&&!yt.k0.asCID(n))if(Array.isArray(n))for(const[t,r]of n.entries()){const n=[...e,t];yield n.join("/"),"object"!==typeof r||yt.k0.asCID(r)||(yield*Di(r,n))}else yield*Di(n,e)}};class Mi{constructor(e){let{cid:t,bytes:r,value:n}=e;if(!t||!r||"undefined"===typeof n)throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:Li(),bytes:Li(),value:Li(),asBlock:Li()})}links(){return zi(this.value,[])}tree(){return Di(this.value,[])}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return((e,t)=>{let r=e;for(const[n,i]of t.entries()){if(r=r[i],null==r)throw new Error(`Object has no property at ${t.slice(0,n+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=yt.k0.asCID(r);if(e)return{value:e,remaining:t.slice(n+1).join("/")}}return{value:r}})(this.value,e.split("/").filter(Boolean))}}const Wi={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=p.CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new k(w.tag,42),new k(w.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Ki={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Ki.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return p.CID.decode(e.subarray(1))};const qi="dag-cbor",Fi=113,$i=e=>Te(e,Wi),Vi=e=>ze(e,Ki);class Hi{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("number"!==typeof t||t<=0)throw new Error("invalid target chunk size");this._reader=e,this._targetSize=t,this._decoders=[n,hr,o,...r.decoders||[]]}async*cars(){const e=await this._reader.getRoots();if(1!==e.length)throw new Error(`unexpected number of roots: ${e.length}`);let t;for await(const r of this._cars(e[0]))t=r.channel,r.out&&(yield r.out);if(!t)throw new Error("missing CAR writer channel");t.writer.close(),yield t.out}async _get(e){const t=await this._reader.get(e);if(!t)throw new Error(`missing block for ${e}`);const{bytes:r}=t,n=this._decoders.find((t=>t.code===e.code));if(!n)throw new Error(`missing decoder for ${e.code}`);return new Mi({cid:e,bytes:r,value:n.decode(r)})}async*_cars(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=await this._get(e);if(r=r||Object.assign(ut.create(e),{size:0}),r.size>0&&r.size+n.bytes.byteLength>=this._targetSize){r.writer.close();const{out:e}=r;r=function(e){const t=Object.assign(ut.create(e[0].cid),{size:e.reduce(((e,t)=>e+t.bytes.byteLength),0)});for(const r of e)t.writer.put(r);return t}(t),yield{channel:r,out:e}}t=t.concat(n),r.size+=n.bytes.byteLength,r.writer.put(n);for(const[,i]of n.links())for await(const e of this._cars(i,t,r))r=e.channel,yield e;if(!r)throw new Error("missing CAR writer channel");yield{channel:r}}static async fromIterable(e,t,r){const n=await et.fromIterable(e);return new Hi(n,t,r)}static async fromBlob(e,t,r){const n=await e.arrayBuffer(),i=await et.fromBytes(new Uint8Array(n));return new Hi(i,t,r)}}async function Gi(){throw new Error("Unsupported in this environment")}async function*Ji(){throw new Error("Unsupported in this environment")}var Zi=r(92358);const Xi=globalThis.fetch,Yi=(globalThis.Request,globalThis.Response,globalThis.Blob),Qi=globalThis.File,eo=ri,to=5,ro=10485760,no=1048576,io=104857600;function oo(){const e=Zi(30,1e4);return()=>e((()=>{}))}const so=oo();class ao{constructor(e){let{token:t,endpoint:r=new URL("https://api.web3.storage"),rateLimiter:n,fetch:i=Xi}=e;this.token=t,this.endpoint=r,this.rateLimiter=n||oo(),this.fetch=i}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put(e,t){let{endpoint:r,token:n,rateLimiter:i=so,fetch:o=Xi}=e,{onRootCidReady:s,onStoredChunk:a,maxRetries:c=to,maxChunkSize:u=ro,wrapWithDirectory:l=!0,name:h,signal:d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(u>=io||u<no)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const f=new eo;try{const{out:e,root:p}=await si({input:Array.from(t).map(uo),blockstore:f,wrapWithDirectory:l,maxChunkSize:no,maxChildrenPerNode:1024});s&&s(p.toString());const g=await et.fromIterable(e);return await ao.putCar({endpoint:r,token:n,rateLimiter:i,fetch:o},g,{onStoredChunk:a,maxRetries:c,maxChunkSize:u,name:h,signal:d})}finally{await f.close()}}static async putCar(e,t){let{endpoint:r,token:n,rateLimiter:i=so,fetch:o=Xi}=e,{name:s,onStoredChunk:a,maxRetries:c=to,maxChunkSize:h=ro,decoders:d,signal:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(h>=io||h<no)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const p=h,g=new URL("car",r);let y=ao.headers(n);s&&(y={...y,"X-Name":encodeURIComponent(s)});const m=await t.getRoots();if(null==m[0])throw new Error("missing root CID");if(m.length>1)throw new Error("too many roots");const b=m[0].toString(),w=new Hi(t,p,{decoders:d}),k=u(3,(async e=>{const t=[];for await(const i of e)t.push(i);const r=new Yi(t,{type:"application/vnd.ipld.car"}),n=await l((async()=>{let e;await i();try{e=await o(g.toString(),{method:"POST",headers:y,body:r,signal:f})}catch(n){throw f&&f.aborted?new l.AbortError(n):n}if(429===e.status)throw new Error("rate limited");const t=await e.json();if(!e.ok)throw new Error(t.message);if(t.cid!==b)throw new Error(`root CID mismatch, expected: ${b}, received: ${t.cid}`);return t.cid}),{retries:c});return a&&a(r.size),n}));for await(const u of k(w.cars()));return b}static async get(e,t){let{endpoint:r,token:n,rateLimiter:i=so,fetch:o=Xi}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`car/${t}`,r);await i();const c=await o(a.toString(),{method:"GET",headers:ao.headers(n),signal:s.signal});if(429===c.status)throw new Error("rate limited");return function(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const t=new eo;try{for await(const r of async function*(e){let{roots:t,blockstore:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await nt.fromIterable(Ui(e)),i=r||new ri;for await(const s of n)await i.put(s.cid,s.bytes);const o=ji.fromBlockstore(i);t&&0!==t.length||(t=await n.getRoots());for(const s of t)yield*Ni(s,o)}(e.body,{blockstore:t}))yield r}finally{await t.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const r=[];for await(const e of t.unixFsIterator()){if("directory"===e.type)continue;const t=await co(e);r.push(t)}return r}});return t}(c)}static async delete(e,t){let{endpoint:r,token:n,rateLimiter:i=so}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};throw console.log("Not deleting",t,r,n,i,o),Error(".delete not implemented yet")}static async status(e,t){let{endpoint:r,token:n,rateLimiter:i=so,fetch:o=Xi}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`status/${t}`,r);await i();const c=await o(a.toString(),{method:"GET",headers:ao.headers(n),signal:s.signal});if(429===c.status)throw new Error("rate limited");if(404!==c.status){if(!c.ok)throw new Error(c.statusText);return c.json()}}static async*list(e){let{before:t=(new Date).toISOString(),maxResults:r=1/0,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};let i=0;const o=r>100?100:r;for await(const s of async function*(e,t,r){let n=await e(t,r);yield n;let i=hi(n.headers.get("Link")||"");for(;i&&i.next;)n=await e(t,i.next),yield n,i=hi(n.headers.get("Link")||"")}((async function(e,t){let{endpoint:r,token:i,rateLimiter:o=so,fetch:s=Xi}=e,{before:a,size:c}=t;const u=new URLSearchParams({before:a,size:c.toString()}),l=new URL(`user/uploads?${u}`,r);return await o(),s(l.toString(),{method:"GET",headers:{...ao.headers(i),"Access-Control-Request-Headers":"Link"},signal:n})}),e,{before:t,size:o})){if(!s.ok){if(429===s.status)throw new Error("rate limited");const e=await s.json();throw new Error(`${s.status} ${s.statusText} ${e?"- "+e.message:""}`)}const e=await s.json();for(const t of e){if(++i>r)return;yield t}}}put(e,t){return ao.put(this,e,t)}putCar(e,t){return ao.putCar(this,e,t)}get(e,t){return ao.get(this,e,t)}delete(e,t){return ao.delete(this,e,t)}status(e,t){return ao.status(this,e,t)}list(e){return ao.list(this,e)}}async function co(e){let{content:t,path:r,cid:n}=e;const i=[];for await(const s of t())i.push(s);const o=new Qi(i,function(e){const t=e.indexOf("/");return-1===t?e:e.substring(t+1)}(r));return Object.assign(o,{cid:n.toString()})}function uo(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}}}]);
//# sourceMappingURL=vendors-node_modules_idl-parser-core_index_js.b29f8593.chunk.js.map